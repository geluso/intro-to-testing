/*
* Project: petfinder
* Version: 1.1.0 (2017-02-08)
* Development By: Petfinder
* Copyright(c): 2017
*/ 
!function(a,b,c){function d(a,b){return typeof a===b}function e(){var a,b,c,e,f,g,h;for(var i in t)if(t.hasOwnProperty(i)){if(a=[],b=t[i],b.name&&(a.push(b.name.toLowerCase()),b.options&&b.options.aliases&&b.options.aliases.length))for(c=0;c<b.options.aliases.length;c++)a.push(b.options.aliases[c].toLowerCase());for(e=d(b.fn,"function")?b.fn():b.fn,f=0;f<a.length;f++)g=a[f],h=g.split("."),1===h.length?v[h[0]]=e:(!v[h[0]]||v[h[0]]instanceof Boolean||(v[h[0]]=new Boolean(v[h[0]])),v[h[0]][h[1]]=e),s.push((e?"":"no-")+h.join("-"))}}function f(a){var b=x.className,c=v._config.classPrefix||"";if(y&&(b=b.baseVal),v._config.enableJSClass){var d=new RegExp("(^|\\s)"+c+"no-js(\\s|$)");b=b.replace(d,"$1"+c+"js$2")}v._config.enableClasses&&(b+=" "+c+a.join(" "+c),y?x.className.baseVal=b:x.className=b)}function g(){return"function"!=typeof b.createElement?b.createElement(arguments[0]):y?b.createElementNS.call(b,"http://www.w3.org/2000/svg",arguments[0]):b.createElement.apply(b,arguments)}function h(a,b){return!!~(""+a).indexOf(b)}function i(){var a=b.body;return a||(a=g(y?"svg":"body"),a.fake=!0),a}function j(a,c,d,e){var f,h,j,k,l="modernizr",m=g("div"),n=i();if(parseInt(d,10))for(;d--;)j=g("div"),j.id=e?e[d]:l+(d+1),m.appendChild(j);return f=g("style"),f.type="text/css",f.id="s"+l,(n.fake?n:m).appendChild(f),n.appendChild(m),f.styleSheet?f.styleSheet.cssText=a:f.appendChild(b.createTextNode(a)),m.id=l,n.fake&&(n.style.background="",n.style.overflow="hidden",k=x.style.overflow,x.style.overflow="hidden",x.appendChild(n)),h=c(m,a),n.fake?(n.parentNode.removeChild(n),x.style.overflow=k,x.offsetHeight):m.parentNode.removeChild(m),!!h}function k(a){return a.replace(/([a-z])-([a-z])/g,function(a,b,c){return b+c.toUpperCase()}).replace(/^-/,"")}function l(a,b){return function(){return a.apply(b,arguments)}}function m(a,b,c){var e;for(var f in a)if(a[f]in b)return c===!1?a[f]:(e=b[a[f]],d(e,"function")?l(e,c||b):e);return!1}function n(a){return a.replace(/([A-Z])/g,function(a,b){return"-"+b.toLowerCase()}).replace(/^ms-/,"-ms-")}function o(b,d){var e=b.length;if("CSS"in a&&"supports"in a.CSS){for(;e--;)if(a.CSS.supports(n(b[e]),d))return!0;return!1}if("CSSSupportsRule"in a){for(var f=[];e--;)f.push("("+n(b[e])+":"+d+")");return f=f.join(" or "),j("@supports ("+f+") { #modernizr { position: absolute; } }",function(a){return"absolute"==getComputedStyle(a,null).position})}return c}function p(a,b,e,f){function i(){l&&(delete Q.style,delete Q.modElem)}if(f=d(f,"undefined")?!1:f,!d(e,"undefined")){var j=o(a,e);if(!d(j,"undefined"))return j}for(var l,m,n,p,q,r=["modernizr","tspan"];!Q.style;)l=!0,Q.modElem=g(r.shift()),Q.style=Q.modElem.style;for(n=a.length,m=0;n>m;m++)if(p=a[m],q=Q.style[p],h(p,"-")&&(p=k(p)),Q.style[p]!==c){if(f||d(e,"undefined"))return i(),"pfx"==b?p:!0;try{Q.style[p]=e}catch(s){}if(Q.style[p]!=q)return i(),"pfx"==b?p:!0}return i(),!1}function q(a,b,c,e,f){var g=a.charAt(0).toUpperCase()+a.slice(1),h=(a+" "+N.join(g+" ")+g).split(" ");return d(b,"string")||d(b,"undefined")?p(h,b,e,f):(h=(a+" "+A.join(g+" ")+g).split(" "),m(h,b,c))}function r(a,b,d){return q(a,c,c,b,d)}var s=[],t=[],u={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(a,b){var c=this;setTimeout(function(){b(c[a])},0)},addTest:function(a,b,c){t.push({name:a,fn:b,options:c})},addAsyncTest:function(a){t.push({name:null,fn:a})}},v=function(){};v.prototype=u,v=new v,v.addTest("applicationcache","applicationCache"in a),v.addTest("geolocation","geolocation"in navigator),v.addTest("history",function(){var b=navigator.userAgent;return-1===b.indexOf("Android 2.")&&-1===b.indexOf("Android 4.0")||-1===b.indexOf("Mobile Safari")||-1!==b.indexOf("Chrome")||-1!==b.indexOf("Windows Phone")?a.history&&"pushState"in a.history:!1}),v.addTest("svg",!!b.createElementNS&&!!b.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect),v.addTest("websockets","WebSocket"in a&&2===a.WebSocket.CLOSING),v.addTest("localstorage",function(){var a="modernizr";try{return localStorage.setItem(a,a),localStorage.removeItem(a),!0}catch(b){return!1}}),v.addTest("sessionstorage",function(){var a="modernizr";try{return sessionStorage.setItem(a,a),sessionStorage.removeItem(a),!0}catch(b){return!1}}),v.addTest("websqldatabase","openDatabase"in a),v.addTest("webworkers","Worker"in a);var w=u._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];u._prefixes=w;var x=b.documentElement,y="svg"===x.nodeName.toLowerCase(),z="Moz O ms Webkit",A=u._config.usePrefixes?z.toLowerCase().split(" "):[];u._domPrefixes=A;var B=function(){function a(a,b){var e;return a?(b&&"string"!=typeof b||(b=g(b||"div")),a="on"+a,e=a in b,!e&&d&&(b.setAttribute||(b=g("div")),b.setAttribute(a,""),e="function"==typeof b[a],b[a]!==c&&(b[a]=c),b.removeAttribute(a)),e):!1}var d=!("onblur"in b.documentElement);return a}();u.hasEvent=B,v.addTest("hashchange",function(){return B("hashchange",a)===!1?!1:b.documentMode===c||b.documentMode>7}),v.addTest("audio",function(){var a=g("audio"),b=!1;try{(b=!!a.canPlayType)&&(b=new Boolean(b),b.ogg=a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),b.mp3=a.canPlayType('audio/mpeg; codecs="mp3"').replace(/^no$/,""),b.opus=a.canPlayType('audio/ogg; codecs="opus"')||a.canPlayType('audio/webm; codecs="opus"').replace(/^no$/,""),b.wav=a.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),b.m4a=(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(c){}return b}),v.addTest("canvas",function(){var a=g("canvas");return!(!a.getContext||!a.getContext("2d"))}),v.addTest("canvastext",function(){return v.canvas===!1?!1:"function"==typeof g("canvas").getContext("2d").fillText}),v.addTest("video",function(){var a=g("video"),b=!1;try{(b=!!a.canPlayType)&&(b=new Boolean(b),b.ogg=a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),b.h264=a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),b.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""),b.vp9=a.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,""),b.hls=a.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,""))}catch(c){}return b}),v.addTest("webgl",function(){var b=g("canvas"),c="probablySupportsContext"in b?"probablySupportsContext":"supportsContext";return c in b?b[c]("webgl")||b[c]("experimental-webgl"):"WebGLRenderingContext"in a}),v.addTest("cssgradients",function(){for(var a,b="background-image:",c="gradient(linear,left top,right bottom,from(#9f9),to(white));",d="",e=0,f=w.length-1;f>e;e++)a=0===e?"to ":"",d+=b+w[e]+"linear-gradient("+a+"left top, #9f9, white);";v._config.usePrefixes&&(d+=b+"-webkit-"+c);var h=g("a"),i=h.style;return i.cssText=d,(""+i.backgroundImage).indexOf("gradient")>-1}),v.addTest("multiplebgs",function(){var a=g("a").style;return a.cssText="background:url(https://),url(https://),red url(https://)",/(url\s*\(.*?){3}/.test(a.background)}),v.addTest("opacity",function(){var a=g("a").style;return a.cssText=w.join("opacity:.55;"),/^0.55$/.test(a.opacity)}),v.addTest("rgba",function(){var a=g("a").style;return a.cssText="background-color:rgba(150,255,150,.5)",(""+a.backgroundColor).indexOf("rgba")>-1}),v.addTest("inlinesvg",function(){var a=g("div");return a.innerHTML="<svg/>","http://www.w3.org/2000/svg"==("undefined"!=typeof SVGRect&&a.firstChild&&a.firstChild.namespaceURI)});var C=g("input"),D="autocomplete autofocus list placeholder max min multiple pattern required step".split(" "),E={};v.input=function(b){for(var c=0,d=b.length;d>c;c++)E[b[c]]=!!(b[c]in C);return E.list&&(E.list=!(!g("datalist")||!a.HTMLDataListElement)),E}(D);var F="search tel url email datetime date month week time datetime-local number range color".split(" "),G={};v.inputtypes=function(a){for(var d,e,f,g=a.length,h="1)",i=0;g>i;i++)C.setAttribute("type",d=a[i]),f="text"!==C.type&&"style"in C,f&&(C.value=h,C.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(d)&&C.style.WebkitAppearance!==c?(x.appendChild(C),e=b.defaultView,f=e.getComputedStyle&&"textfield"!==e.getComputedStyle(C,null).WebkitAppearance&&0!==C.offsetHeight,x.removeChild(C)):/^(search|tel)$/.test(d)||(f=/^(url|email)$/.test(d)?C.checkValidity&&C.checkValidity()===!1:C.value!=h)),G[a[i]]=!!f;return G}(F),v.addTest("hsla",function(){var a=g("a").style;return a.cssText="background-color:hsla(120,40%,100%,.5)",h(a.backgroundColor,"rgba")||h(a.backgroundColor,"hsla")});var H="CSS"in a&&"supports"in a.CSS,I="supportsCSS"in a;v.addTest("supports",H||I);var J={}.toString;v.addTest("svgclippaths",function(){return!!b.createElementNS&&/SVGClipPath/.test(J.call(b.createElementNS("http://www.w3.org/2000/svg","clipPath")))}),v.addTest("smil",function(){return!!b.createElementNS&&/SVGAnimate/.test(J.call(b.createElementNS("http://www.w3.org/2000/svg","animate")))});var K=function(){var b=a.matchMedia||a.msMatchMedia;return b?function(a){var c=b(a);return c&&c.matches||!1}:function(b){var c=!1;return j("@media "+b+" { #modernizr { position: absolute; } }",function(b){c="absolute"==(a.getComputedStyle?a.getComputedStyle(b,null):b.currentStyle).position}),c}}();u.mq=K;var L=u.testStyles=j,M=function(){var a=navigator.userAgent,b=a.match(/applewebkit\/([0-9]+)/gi)&&parseFloat(RegExp.$1),c=a.match(/w(eb)?osbrowser/gi),d=a.match(/windows phone/gi)&&a.match(/iemobile\/([0-9])+/gi)&&parseFloat(RegExp.$1)>=9,e=533>b&&a.match(/android/gi);return c||e||d}();M?v.addTest("fontface",!1):L('@font-face {font-family:"font";src:url("https://")}',function(a,c){var d=b.getElementById("smodernizr"),e=d.sheet||d.styleSheet,f=e?e.cssRules&&e.cssRules[0]?e.cssRules[0].cssText:e.cssText||"":"",g=/src/i.test(f)&&0===f.indexOf(c.split(" ")[0]);v.addTest("fontface",g)}),L('#modernizr{font:0/0 a}#modernizr:after{content:":)";visibility:hidden;font:7px/1 a}',function(a){v.addTest("generatedcontent",a.offsetHeight>=7)});var N=u._config.usePrefixes?z.split(" "):[];u._cssomPrefixes=N;var O=function(b){var d,e=w.length,f=a.CSSRule;if("undefined"==typeof f)return c;if(!b)return!1;if(b=b.replace(/^@/,""),d=b.replace(/-/g,"_").toUpperCase()+"_RULE",d in f)return"@"+b;for(var g=0;e>g;g++){var h=w[g],i=h.toUpperCase()+"_"+d;if(i in f)return"@-"+h.toLowerCase()+"-"+b}return!1};u.atRule=O;var P={elem:g("modernizr")};v._q.push(function(){delete P.elem});var Q={style:P.elem.style};v._q.unshift(function(){delete Q.style});var R=u.testProp=function(a,b,d){return p([a],c,b,d)};v.addTest("textshadow",R("textShadow","1px 1px")),u.testAllProps=q,u.testAllProps=r,v.addTest("cssanimations",r("animationName","a",!0)),v.addTest("backgroundsize",r("backgroundSize","100%",!0)),v.addTest("borderimage",r("borderImage","url() 1",!0)),v.addTest("borderradius",r("borderRadius","0px",!0)),v.addTest("boxshadow",r("boxShadow","1px 1px",!0)),function(){v.addTest("csscolumns",function(){var a=!1,b=r("columnCount");try{(a=!!b)&&(a=new Boolean(a))}catch(c){}return a});for(var a,b,c=["Width","Span","Fill","Gap","Rule","RuleColor","RuleStyle","RuleWidth","BreakBefore","BreakAfter","BreakInside"],d=0;d<c.length;d++)a=c[d].toLowerCase(),b=r("column"+c[d]),("breakbefore"===a||"breakafter"===a||"breakinside"==a)&&(b=b||r(c[d])),v.addTest("csscolumns."+a,b)}(),v.addTest("flexbox",r("flexBasis","1px",!0)),v.addTest("flexboxlegacy",r("boxDirection","reverse",!0)),v.addTest("appearance",r("appearance")),v.addTest("csstransforms",function(){return-1===navigator.userAgent.indexOf("Android 2.")&&r("transform","scale(1)",!0)}),v.addTest("csstransforms3d",function(){var a=!!r("perspective","1px",!0),b=v._config.usePrefixes;if(a&&(!b||"webkitPerspective"in x.style)){var c,d="#modernizr{width:0;height:0}";v.supports?c="@supports (perspective: 1px)":(c="@media (transform-3d)",b&&(c+=",(-webkit-transform-3d)")),c+="{#modernizr{width:7px;height:18px;margin:0;padding:0;border:0}}",L(d+c,function(b){a=7===b.offsetWidth&&18===b.offsetHeight})}return a}),v.addTest("csstransitions",r("transition","all",!0));var S,T=u.prefixed=function(a,b,c){return 0===a.indexOf("@")?O(a):(-1!=a.indexOf("-")&&(a=k(a)),b?q(a,b,c):q(a,"pfx"))};try{S=T("indexedDB",a)}catch(U){}v.addTest("indexeddb",!!S),S&&v.addTest("indexeddb.deletedatabase","deleteDatabase"in S),e(),f(s),delete u.addTest,delete u.addAsyncTest;for(var V=0;V<v._q.length;V++)v._q[V]();a.Modernizr=v}(window,document);var Hashtable=function(a){function b(a){return typeof a==o?a:""+a}function c(a){var d;return typeof a==o?a:typeof a.hashCode==n?(d=a.hashCode(),typeof d==o?d:c(d)):b(a)}function d(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}function e(a,b){return a.equals(b)}function f(a,b){return typeof b.equals==n?b.equals(a):a===b}function g(b){return function(c){if(null===c)throw new Error("null is not a valid "+b);if(c===a)throw new Error(b+" must not be undefined")}}function h(a,b,c,d){this[0]=a,this.entries=[],this.addEntry(b,c),null!==d&&(this.getEqualityFunction=function(){return d})}function i(a){return function(b){for(var c,d=this.entries.length,e=this.getEqualityFunction(b);d--;)if(c=this.entries[d],e(b,c[0]))switch(a){case s:return!0;case t:return c;case u:return[d,c[1]]}return!1}}function j(a){return function(b){for(var c=b.length,d=0,e=this.entries,f=e.length;f>d;++d)b[c+d]=e[d][a]}}function k(a,b){for(var c,d=a.length;d--;)if(c=a[d],b===c[0])return d;return null}function l(a,b){var c=a[b];return c&&c instanceof h?c:null}function m(){var b=[],e={},f={replaceDuplicateKey:!0,hashCode:c,equals:null},g=arguments[0],i=arguments[1];i!==a?(f.hashCode=g,f.equals=i):g!==a&&d(f,g);var j=f.hashCode,m=f.equals;this.properties=f,this.put=function(a,c){q(a),r(c);var d,g,i=j(a),k=null;return d=l(e,i),d?(g=d.getEntryForKey(a),g?(f.replaceDuplicateKey&&(g[0]=a),k=g[1],g[1]=c):d.addEntry(a,c)):(d=new h(i,a,c,m),b.push(d),e[i]=d),k},this.get=function(a){q(a);var b=j(a),c=l(e,b);if(c){var d=c.getEntryForKey(a);if(d)return d[1]}return null},this.containsKey=function(a){q(a);var b=j(a),c=l(e,b);return c?c.containsKey(a):!1},this.containsValue=function(a){r(a);for(var c=b.length;c--;)if(b[c].containsValue(a))return!0;return!1},this.clear=function(){b.length=0,e={}},this.isEmpty=function(){return!b.length};var n=function(a){return function(){for(var c=[],d=b.length;d--;)b[d][a](c);return c}};this.keys=n("keys"),this.values=n("values"),this.entries=n("getEntries"),this.remove=function(a){q(a);var c,d=j(a),f=null,g=l(e,d);return g&&(f=g.removeEntryForKey(a),null!==f&&0==g.entries.length&&(c=k(b,d),b.splice(c,1),delete e[d])),f},this.size=function(){for(var a=0,c=b.length;c--;)a+=b[c].entries.length;return a}}var n="function",o="string",p="undefined";if(typeof encodeURIComponent==p||Array.prototype.splice===a||Object.prototype.hasOwnProperty===a)return null;var q=g("key"),r=g("value"),s=0,t=1,u=2;return h.prototype={getEqualityFunction:function(a){return typeof a.equals==n?e:f},getEntryForKey:i(t),getEntryAndIndexForKey:i(u),removeEntryForKey:function(a){var b=this.getEntryAndIndexForKey(a);return b?(this.entries.splice(b[0],1),b[1]):null},addEntry:function(a,b){this.entries.push([a,b])},keys:j(0),values:j(1),getEntries:function(a){for(var b=a.length,c=0,d=this.entries,e=d.length;e>c;++c)a[b+c]=d[c].slice(0)},containsKey:i(s),containsValue:function(a){for(var b=this.entries,c=b.length;c--;)if(a===b[c][1])return!0;return!1}},m.prototype={each:function(a){for(var b,c=this.entries(),d=c.length;d--;)b=c[d],a(b[0],b[1])},equals:function(a){var b,c,d,e=this.size();if(e==a.size()){for(b=this.keys();e--;)if(c=b[e],d=a.get(c),null===d||d!==this.get(c))return!1;return!0}return!1},putAll:function(a,b){for(var c,d,e,f,g=a.entries(),h=g.length,i=typeof b==n;h--;)c=g[h],d=c[0],e=c[1],i&&(f=this.get(d))&&(e=b(d,f,e)),this.put(d,e)},clone:function(){var a=new m(this.properties);return a.putAll(this),a}},m.prototype.toQueryString=function(){for(var a,c=this.entries(),d=c.length,e=[];d--;)a=c[d],e[d]=encodeURIComponent(b(a[0]))+"="+encodeURIComponent(b(a[1]));return e.join("&")},m}(),Handlebars=function(){var a=function(){"use strict";function a(a){this.string=a}var b;return a.prototype.toString=function(){return""+this.string},b=a}(),b=function(a){"use strict";function b(a){return h[a]||"&amp;"}function c(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])}function d(a){return a instanceof g?a.toString():a||0===a?(a=""+a,j.test(a)?a.replace(i,b):a):""}function e(a){return a||0===a?m(a)&&0===a.length?!0:!1:!0}var f={},g=a,h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/[&<>"'`]/g,j=/[&<>"'`]/;f.extend=c;var k=Object.prototype.toString;f.toString=k;var l=function(a){return"function"==typeof a};l(/x/)&&(l=function(a){return"function"==typeof a&&"[object Function]"===k.call(a)});var l;f.isFunction=l;var m=Array.isArray||function(a){return a&&"object"==typeof a?"[object Array]"===k.call(a):!1};return f.isArray=m,f.escapeExpression=d,f.isEmpty=e,f}(a),c=function(){"use strict";function a(a,b){var d;b&&b.firstLine&&(d=b.firstLine,a+=" - "+d+":"+b.firstColumn);for(var e=Error.prototype.constructor.call(this,a),f=0;f<c.length;f++)this[c[f]]=e[c[f]];d&&(this.lineNumber=d,this.column=b.firstColumn)}var b,c=["description","fileName","lineNumber","message","name","number","stack"];return a.prototype=new Error,b=a}(),d=function(a,b){"use strict";function c(a,b){this.helpers=a||{},this.partials=b||{},d(this)}function d(a){a.registerHelper("helperMissing",function(a){if(2===arguments.length)return void 0;throw new h("Missing helper: '"+a+"'")}),a.registerHelper("blockHelperMissing",function(b,c){var d=c.inverse||function(){},e=c.fn;return m(b)&&(b=b.call(this)),b===!0?e(this):b===!1||null==b?d(this):l(b)?b.length>0?a.helpers.each(b,c):d(this):e(b)}),a.registerHelper("each",function(a,b){var c,d=b.fn,e=b.inverse,f=0,g="";if(m(a)&&(a=a.call(this)),b.data&&(c=q(b.data)),a&&"object"==typeof a)if(l(a))for(var h=a.length;h>f;f++)c&&(c.index=f,c.first=0===f,c.last=f===a.length-1),g+=d(a[f],{data:c});else for(var i in a)a.hasOwnProperty(i)&&(c&&(c.key=i,c.index=f,c.first=0===f),g+=d(a[i],{data:c}),f++);return 0===f&&(g=e(this)),g}),a.registerHelper("if",function(a,b){return m(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||g.isEmpty(a)?b.inverse(this):b.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers["if"].call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})}),a.registerHelper("with",function(a,b){return m(a)&&(a=a.call(this)),g.isEmpty(a)?void 0:b.fn(a)}),a.registerHelper("log",function(b,c){var d=c.data&&null!=c.data.level?parseInt(c.data.level,10):1;a.log(d,b)})}function e(a,b){p.log(a,b)}var f={},g=a,h=b,i="1.3.0";f.VERSION=i;var j=4;f.COMPILER_REVISION=j;var k={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};f.REVISION_CHANGES=k;var l=g.isArray,m=g.isFunction,n=g.toString,o="[object Object]";f.HandlebarsEnvironment=c,c.prototype={constructor:c,logger:p,log:e,registerHelper:function(a,b,c){if(n.call(a)===o){if(c||b)throw new h("Arg not supported with multiple helpers");g.extend(this.helpers,a)}else c&&(b.not=c),this.helpers[a]=b},registerPartial:function(a,b){n.call(a)===o?g.extend(this.partials,a):this.partials[a]=b}};var p={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(a,b){if(p.level<=a){var c=p.methodMap[a];"undefined"!=typeof console&&console[c]&&console[c].call(console,b)}}};f.logger=p,f.log=e;var q=function(a){var b={};return g.extend(b,a),b};return f.createFrame=q,f}(b,c),e=function(a,b,c){"use strict";function d(a){var b=a&&a[0]||1,c=m;if(b!==c){if(c>b){var d=n[c],e=n[b];throw new l("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+d+") or downgrade your runtime to an older version ("+e+").")}throw new l("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").")}}function e(a,b){if(!b)throw new l("No environment passed to template");var c=function(a,c,d,e,f,g){var h=b.VM.invokePartial.apply(this,arguments);if(null!=h)return h;if(b.compile){var i={helpers:e,partials:f,data:g};return f[c]=b.compile(a,{data:void 0!==g},b),f[c](d,i)}throw new l("The partial "+c+" could not be compiled when running in runtime-only mode")},d={escapeExpression:k.escapeExpression,invokePartial:c,programs:[],program:function(a,b,c){var d=this.programs[a];return c?d=g(a,b,c):d||(d=this.programs[a]=g(a,b)),d},merge:function(a,b){var c=a||b;return a&&b&&a!==b&&(c={},k.extend(c,b),k.extend(c,a)),c},programWithDepth:b.VM.programWithDepth,noop:b.VM.noop,compilerInfo:null};return function(c,e){e=e||{};var f,g,h=e.partial?e:b;e.partial||(f=e.helpers,g=e.partials);var i=a.call(d,h,c,f,g,e.data);return e.partial||b.VM.checkRevision(d.compilerInfo),i}}function f(a,b,c){var d=Array.prototype.slice.call(arguments,3),e=function(a,e){return e=e||{},b.apply(this,[a,e.data||c].concat(d))};return e.program=a,e.depth=d.length,e}function g(a,b,c){var d=function(a,d){return d=d||{},b(a,d.data||c)};return d.program=a,d.depth=0,d}function h(a,b,c,d,e,f){var g={partial:!0,helpers:d,partials:e,data:f};if(void 0===a)throw new l("The partial "+b+" could not be found");return a instanceof Function?a(c,g):void 0}function i(){return""}var j={},k=a,l=b,m=c.COMPILER_REVISION,n=c.REVISION_CHANGES;return j.checkRevision=d,j.template=e,j.programWithDepth=f,j.program=g,j.invokePartial=h,j.noop=i,j}(b,c,d),f=function(a,b,c,d,e){"use strict";var f,g=a,h=b,i=c,j=d,k=e,l=function(){var a=new g.HandlebarsEnvironment;return j.extend(a,g),a.SafeString=h,a.Exception=i,a.Utils=j,a.VM=k,a.template=function(b){return k.template(b,a)},a},m=l();return m.create=l,f=m}(d,a,c,b,e),g=function(a){"use strict";function b(a){a=a||{},this.firstLine=a.first_line,this.firstColumn=a.first_column,this.lastColumn=a.last_column,this.lastLine=a.last_line}var c,d=a,e={ProgramNode:function(a,c,d,f){var g,h;3===arguments.length?(f=d,d=null):2===arguments.length&&(f=c,c=null),b.call(this,f),this.type="program",this.statements=a,this.strip={},d?(h=d[0],h?(g={first_line:h.firstLine,last_line:h.lastLine,last_column:h.lastColumn,first_column:h.firstColumn},this.inverse=new e.ProgramNode(d,c,g)):this.inverse=new e.ProgramNode(d,c),this.strip.right=c.left):c&&(this.strip.left=c.right)},MustacheNode:function(a,c,d,f,g){if(b.call(this,g),this.type="mustache",this.strip=f,null!=d&&d.charAt){var h=d.charAt(3)||d.charAt(2);this.escaped="{"!==h&&"&"!==h}else this.escaped=!!d;a instanceof e.SexprNode?this.sexpr=a:this.sexpr=new e.SexprNode(a,c),this.sexpr.isRoot=!0,this.id=this.sexpr.id,this.params=this.sexpr.params,this.hash=this.sexpr.hash,this.eligibleHelper=this.sexpr.eligibleHelper,this.isHelper=this.sexpr.isHelper},SexprNode:function(a,c,d){b.call(this,d),this.type="sexpr",this.hash=c;var e=this.id=a[0],f=this.params=a.slice(1),g=this.eligibleHelper=e.isSimple;this.isHelper=g&&(f.length||c)},PartialNode:function(a,c,d,e){b.call(this,e),this.type="partial",this.partialName=a,this.context=c,this.strip=d},BlockNode:function(a,c,e,f,g){if(b.call(this,g),a.sexpr.id.original!==f.path.original)throw new d(a.sexpr.id.original+" doesn't match "+f.path.original,this);this.type="block",this.mustache=a,this.program=c,this.inverse=e,this.strip={left:a.strip.left,right:f.strip.right},(c||e).strip.left=a.strip.right,(e||c).strip.right=f.strip.left,e&&!c&&(this.isInverse=!0)},ContentNode:function(a,c){b.call(this,c),this.type="content",this.string=a},HashNode:function(a,c){b.call(this,c),this.type="hash",this.pairs=a},IdNode:function(a,c){b.call(this,c),this.type="ID";for(var e="",f=[],g=0,h=0,i=a.length;i>h;h++){var j=a[h].part;if(e+=(a[h].separator||"")+j,".."===j||"."===j||"this"===j){if(f.length>0)throw new d("Invalid path: "+e,this);".."===j?g++:this.isScoped=!0}else f.push(j)}this.original=e,this.parts=f,this.string=f.join("."),this.depth=g,this.isSimple=1===a.length&&!this.isScoped&&0===g,this.stringModeValue=this.string},PartialNameNode:function(a,c){b.call(this,c),this.type="PARTIAL_NAME",this.name=a.original},DataNode:function(a,c){b.call(this,c),this.type="DATA",this.id=a},StringNode:function(a,c){b.call(this,c),this.type="STRING",this.original=this.string=this.stringModeValue=a},IntegerNode:function(a,c){b.call(this,c),this.type="INTEGER",this.original=this.integer=a,this.stringModeValue=Number(a)},BooleanNode:function(a,c){b.call(this,c),this.type="BOOLEAN",this.bool=a,this.stringModeValue="true"===a},CommentNode:function(a,c){b.call(this,c),this.type="comment",this.comment=a}};return c=e}(c),h=function(){"use strict";var a,b=function(){function a(a,b){return{left:"~"===a.charAt(2),right:"~"===b.charAt(0)||"~"===b.charAt(1)}}function b(){this.yy={}}var c={trace:function(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,sexpr:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,sexpr_repetition0:28,sexpr_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,OPEN_SEXPR:35,CLOSE_SEXPR:36,hash:37,hash_repetition_plus0:38,hashSegment:39,ID:40,EQUALS:41,DATA:42,pathSegments:43,SEP:44,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",35:"OPEN_SEXPR",36:"CLOSE_SEXPR",40:"ID",41:"EQUALS",42:"DATA",44:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[31,3],[37,1],[39,3],[26,1],[26,1],[26,1],[30,2],[21,1],[43,3],[43,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[38,1],[38,2]],performAction:function(b,c,d,e,f,g,h){var i=g.length-1;switch(f){case 1:return new e.ProgramNode(g[i-1],this._$);case 2:return new e.ProgramNode([],this._$);case 3:this.$=new e.ProgramNode([],g[i-1],g[i],this._$);break;case 4:this.$=new e.ProgramNode(g[i-2],g[i-1],g[i],this._$);break;case 5:this.$=new e.ProgramNode(g[i-1],g[i],[],this._$);break;case 6:this.$=new e.ProgramNode(g[i],this._$);break;case 7:this.$=new e.ProgramNode([],this._$);break;case 8:this.$=new e.ProgramNode([],this._$);break;case 9:this.$=[g[i]];break;case 10:g[i-1].push(g[i]),this.$=g[i-1];break;case 11:this.$=new e.BlockNode(g[i-2],g[i-1].inverse,g[i-1],g[i],this._$);break;case 12:this.$=new e.BlockNode(g[i-2],g[i-1],g[i-1].inverse,g[i],this._$);break;case 13:this.$=g[i];break;case 14:this.$=g[i];break;case 15:this.$=new e.ContentNode(g[i],this._$);break;case 16:this.$=new e.CommentNode(g[i],this._$);break;case 17:this.$=new e.MustacheNode(g[i-1],null,g[i-2],a(g[i-2],g[i]),this._$);break;case 18:this.$=new e.MustacheNode(g[i-1],null,g[i-2],a(g[i-2],g[i]),this._$);break;case 19:this.$={path:g[i-1],strip:a(g[i-2],g[i])};break;case 20:this.$=new e.MustacheNode(g[i-1],null,g[i-2],a(g[i-2],g[i]),this._$);break;case 21:this.$=new e.MustacheNode(g[i-1],null,g[i-2],a(g[i-2],g[i]),this._$);break;case 22:this.$=new e.PartialNode(g[i-2],g[i-1],a(g[i-3],g[i]),this._$);break;case 23:this.$=a(g[i-1],g[i]);break;case 24:this.$=new e.SexprNode([g[i-2]].concat(g[i-1]),g[i],this._$);break;case 25:this.$=new e.SexprNode([g[i]],null,this._$);break;case 26:this.$=g[i];break;case 27:this.$=new e.StringNode(g[i],this._$);break;case 28:this.$=new e.IntegerNode(g[i],this._$);break;case 29:this.$=new e.BooleanNode(g[i],this._$);break;case 30:this.$=g[i];break;case 31:g[i-1].isHelper=!0,this.$=g[i-1];break;case 32:this.$=new e.HashNode(g[i],this._$);break;case 33:this.$=[g[i-2],g[i]];break;case 34:this.$=new e.PartialNameNode(g[i],this._$);break;case 35:this.$=new e.PartialNameNode(new e.StringNode(g[i],this._$),this._$);break;case 36:this.$=new e.PartialNameNode(new e.IntegerNode(g[i],this._$));break;case 37:this.$=new e.DataNode(g[i],this._$);break;case 38:this.$=new e.IdNode(g[i],this._$);break;case 39:g[i-2].push({part:g[i],separator:g[i-1]}),this.$=g[i-2];break;case 40:this.$=[{part:g[i]}];break;case 43:this.$=[];break;case 44:g[i-1].push(g[i]);break;case 47:this.$=[g[i]];break;case 48:g[i-1].push(g[i])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:29,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:30,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:31,21:24,30:25,40:[1,28],42:[1,27],43:26},{21:33,26:32,32:[1,34],33:[1,35],40:[1,28],43:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,40:[1,28],42:[1,27],43:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,43],24:[2,43],28:43,32:[2,43],33:[2,43],34:[2,43],35:[2,43],36:[2,43],40:[2,43],42:[2,43]},{18:[2,25],24:[2,25],36:[2,25]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],40:[2,38],42:[2,38],44:[1,44]},{21:45,40:[1,28],43:26},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],42:[2,40],44:[2,40]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,41],21:50,27:49,40:[1,28],43:26},{18:[2,34],40:[2,34]},{18:[2,35],40:[2,35]},{18:[2,36],40:[2,36]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,40:[1,28],43:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,45],21:56,24:[2,45],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:[1,61],36:[2,45],37:55,38:62,39:63,40:[1,64],42:[1,27],43:26},{40:[1,65]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],40:[2,37],42:[2,37]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,66]},{18:[2,42]},{18:[1,67]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24],36:[2,24]},{18:[2,44],24:[2,44],32:[2,44],33:[2,44],34:[2,44],35:[2,44],36:[2,44],40:[2,44],42:[2,44]},{18:[2,46],24:[2,46],36:[2,46]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],35:[2,26],36:[2,26],40:[2,26],42:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],35:[2,27],36:[2,27],40:[2,27],42:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],
34:[2,28],35:[2,28],36:[2,28],40:[2,28],42:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],40:[2,29],42:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],40:[2,30],42:[2,30]},{17:68,21:24,30:25,40:[1,28],42:[1,27],43:26},{18:[2,32],24:[2,32],36:[2,32],39:69,40:[1,70]},{18:[2,47],24:[2,47],36:[2,47],40:[2,47]},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],41:[1,71],42:[2,40],44:[2,40]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],40:[2,39],42:[2,39],44:[2,39]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{36:[1,72]},{18:[2,48],24:[2,48],36:[2,48],40:[2,48]},{41:[1,71]},{21:56,30:60,31:73,32:[1,57],33:[1,58],34:[1,59],35:[1,61],40:[1,28],42:[1,27],43:26},{18:[2,31],24:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],40:[2,31],42:[2,31]},{18:[2,33],24:[2,33],36:[2,33],40:[2,33]}],defaultActions:{3:[2,2],16:[2,1],50:[2,42]},parseError:function(a,b){throw new Error(a)},parse:function(a){function b(){var a;return a=c.lexer.lex()||1,"number"!=typeof a&&(a=c.symbols_[a]||a),a}var c=this,d=[0],e=[null],f=[],g=this.table,h="",i=0,j=0,k=0;this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var l=this.lexer.yylloc;f.push(l);var m=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var n,o,p,q,r,s,t,u,v,w={};;){if(p=d[d.length-1],this.defaultActions[p]?q=this.defaultActions[p]:((null===n||"undefined"==typeof n)&&(n=b()),q=g[p]&&g[p][n]),"undefined"==typeof q||!q.length||!q[0]){var x="";if(!k){v=[];for(s in g[p])this.terminals_[s]&&s>2&&v.push("'"+this.terminals_[s]+"'");x=this.lexer.showPosition?"Parse error on line "+(i+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+v.join(", ")+", got '"+(this.terminals_[n]||n)+"'":"Parse error on line "+(i+1)+": Unexpected "+(1==n?"end of input":"'"+(this.terminals_[n]||n)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[n]||n,line:this.lexer.yylineno,loc:l,expected:v})}}if(q[0]instanceof Array&&q.length>1)throw new Error("Parse Error: multiple actions possible at state: "+p+", token: "+n);switch(q[0]){case 1:d.push(n),e.push(this.lexer.yytext),f.push(this.lexer.yylloc),d.push(q[1]),n=null,o?(n=o,o=null):(j=this.lexer.yyleng,h=this.lexer.yytext,i=this.lexer.yylineno,l=this.lexer.yylloc,k>0&&k--);break;case 2:if(t=this.productions_[q[1]][1],w.$=e[e.length-t],w._$={first_line:f[f.length-(t||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(t||1)].first_column,last_column:f[f.length-1].last_column},m&&(w._$.range=[f[f.length-(t||1)].range[0],f[f.length-1].range[1]]),r=this.performAction.call(w,h,j,i,this.yy,q[1],e,f),"undefined"!=typeof r)return r;t&&(d=d.slice(0,-1*t*2),e=e.slice(0,-1*t),f=f.slice(0,-1*t)),d.push(this.productions_[q[1]][0]),e.push(w.$),f.push(w._$),u=g[d[d.length-2]][d[d.length-1]],d.push(u);break;case 3:return!0}}return!0}},d=function(){var a={EOF:1,parseError:function(a,b){if(!this.yy.parser)throw new Error(a);this.yy.parser.parseError(a,b)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a;var b=a.match(/(?:\r\n?|\n).*/g);return b?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b-1),this.offset-=b;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d,e;this._more||(this.yytext="",this.match="");for(var f=this._currentRules(),g=0;g<f.length&&(c=this._input.match(this.rules[f[g]]),!c||b&&!(c[0].length>b[0].length)||(b=c,d=g,this.options.flex));g++);return b?(e=b[0].match(/(?:\r\n?|\n).*/g),e&&(this.yylineno+=e.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],a=this.performAction.call(this,this.yy,this,f[d],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a?a:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return"undefined"!=typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return a.options={},a.performAction=function(a,b,c,d){function e(a,c){return b.yytext=b.yytext.substr(a,b.yyleng-c)}switch(c){case 0:if("\\\\"===b.yytext.slice(-2)?(e(0,1),this.begin("mu")):"\\"===b.yytext.slice(-1)?(e(0,1),this.begin("emu")):this.begin("mu"),b.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return e(0,4),this.popState(),15;case 4:return 35;case 5:return 36;case 6:return 25;case 7:return 16;case 8:return 20;case 9:return 19;case 10:return 19;case 11:return 23;case 12:return 22;case 13:this.popState(),this.begin("com");break;case 14:return e(3,5),this.popState(),15;case 15:return 22;case 16:return 41;case 17:return 40;case 18:return 40;case 19:return 44;case 20:break;case 21:return this.popState(),24;case 22:return this.popState(),18;case 23:return b.yytext=e(1,2).replace(/\\"/g,'"'),32;case 24:return b.yytext=e(1,2).replace(/\\'/g,"'"),32;case 25:return 42;case 26:return 34;case 27:return 34;case 28:return 33;case 29:return 40;case 30:return b.yytext=e(1,2),40;case 31:return"INVALID";case 32:return 5}},a.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?=([~}\s)])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],a.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,32],inclusive:!0}},a}();return c.lexer=d,b.prototype=c,c.Parser=b,new b}();return a=b}(),i=function(a,b){"use strict";function c(a){return a.constructor===f.ProgramNode?a:(e.yy=f,e.parse(a))}var d={},e=a,f=b;return d.parser=e,d.parse=c,d}(h,g),j=function(a){"use strict";function b(){}function c(a,b,c){if(null==a||"string"!=typeof a&&a.constructor!==c.AST.ProgramNode)throw new f("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+a);b=b||{},"data"in b||(b.data=!0);var d=c.parse(a),e=(new c.Compiler).compile(d,b);return(new c.JavaScriptCompiler).compile(e,b)}function d(a,b,c){function d(){var d=c.parse(a),e=(new c.Compiler).compile(d,b),f=(new c.JavaScriptCompiler).compile(e,b,void 0,!0);return c.template(f)}if(null==a||"string"!=typeof a&&a.constructor!==c.AST.ProgramNode)throw new f("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+a);b=b||{},"data"in b||(b.data=!0);var e;return function(a,b){return e||(e=d()),e.call(this,a,b)}}var e={},f=a;return e.Compiler=b,b.prototype={compiler:b,disassemble:function(){for(var a,b,c,d=this.opcodes,e=[],f=0,g=d.length;g>f;f++)if(a=d[f],"DECLARE"===a.opcode)e.push("DECLARE "+a.name+"="+a.value);else{b=[];for(var h=0;h<a.args.length;h++)c=a.args[h],"string"==typeof c&&(c='"'+c.replace("\n","\\n")+'"'),b.push(c);e.push(a.opcode+" "+b.join(" "))}return e.join("\n")},equals:function(a){var b=this.opcodes.length;if(a.opcodes.length!==b)return!1;for(var c=0;b>c;c++){var d=this.opcodes[c],e=a.opcodes[c];if(d.opcode!==e.opcode||d.args.length!==e.args.length)return!1;for(var f=0;f<d.args.length;f++)if(d.args[f]!==e.args[f])return!1}if(b=this.children.length,a.children.length!==b)return!1;for(c=0;b>c;c++)if(!this.children[c].equals(a.children[c]))return!1;return!0},guid:0,compile:function(a,b){this.opcodes=[],this.children=[],this.depths={list:[]},this.options=b;var c=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},c)for(var d in c)this.options.knownHelpers[d]=c[d];return this.accept(a)},accept:function(a){var b,c=a.strip||{};return c.left&&this.opcode("strip"),b=this[a.type](a),c.right&&this.opcode("strip"),b},program:function(a){for(var b=a.statements,c=0,d=b.length;d>c;c++)this.accept(b[c]);return this.isSimple=1===d,this.depths.list=this.depths.list.sort(function(a,b){return a-b}),this},compileProgram:function(a){var b,c=(new this.compiler).compile(a,this.options),d=this.guid++;this.usePartial=this.usePartial||c.usePartial,this.children[d]=c;for(var e=0,f=c.depths.list.length;f>e;e++)b=c.depths.list[e],2>b||this.addDepth(b-1);return d},block:function(a){var b=a.mustache,c=a.program,d=a.inverse;c&&(c=this.compileProgram(c)),d&&(d=this.compileProgram(d));var e=b.sexpr,f=this.classifySexpr(e);"helper"===f?this.helperSexpr(e,c,d):"simple"===f?(this.simpleSexpr(e),this.opcode("pushProgram",c),this.opcode("pushProgram",d),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousSexpr(e,c,d),this.opcode("pushProgram",c),this.opcode("pushProgram",d),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(a){var b,c,d=a.pairs;this.opcode("pushHash");for(var e=0,f=d.length;f>e;e++)b=d[e],c=b[1],this.options.stringParams?(c.depth&&this.addDepth(c.depth),this.opcode("getContext",c.depth||0),this.opcode("pushStringParam",c.stringModeValue,c.type),"sexpr"===c.type&&this.sexpr(c)):this.accept(c),this.opcode("assignToHash",b[0]);this.opcode("popHash")},partial:function(a){var b=a.partialName;this.usePartial=!0,a.context?this.ID(a.context):this.opcode("push","depth0"),this.opcode("invokePartial",b.name),this.opcode("append")},content:function(a){this.opcode("appendContent",a.string)},mustache:function(a){this.sexpr(a.sexpr),a.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousSexpr:function(a,b,c){var d=a.id,e=d.parts[0],f=null!=b||null!=c;this.opcode("getContext",d.depth),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("invokeAmbiguous",e,f)},simpleSexpr:function(a){var b=a.id;"DATA"===b.type?this.DATA(b):b.parts.length?this.ID(b):(this.addDepth(b.depth),this.opcode("getContext",b.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperSexpr:function(a,b,c){var d=this.setupFullMustacheParams(a,b,c),e=a.id.parts[0];if(this.options.knownHelpers[e])this.opcode("invokeKnownHelper",d.length,e);else{if(this.options.knownHelpersOnly)throw new f("You specified knownHelpersOnly, but used the unknown helper "+e,a);this.opcode("invokeHelper",d.length,e,a.isRoot)}},sexpr:function(a){var b=this.classifySexpr(a);"simple"===b?this.simpleSexpr(a):"helper"===b?this.helperSexpr(a):this.ambiguousSexpr(a)},ID:function(a){this.addDepth(a.depth),this.opcode("getContext",a.depth);var b=a.parts[0];b?this.opcode("lookupOnContext",a.parts[0]):this.opcode("pushContext");for(var c=1,d=a.parts.length;d>c;c++)this.opcode("lookup",a.parts[c])},DATA:function(a){if(this.options.data=!0,a.id.isScoped||a.id.depth)throw new f("Scoped data references are not supported: "+a.original,a);this.opcode("lookupData");for(var b=a.id.parts,c=0,d=b.length;d>c;c++)this.opcode("lookup",b[c])},STRING:function(a){this.opcode("pushString",a.string)},INTEGER:function(a){this.opcode("pushLiteral",a.integer)},BOOLEAN:function(a){this.opcode("pushLiteral",a.bool)},comment:function(){},opcode:function(a){this.opcodes.push({opcode:a,args:[].slice.call(arguments,1)})},declare:function(a,b){this.opcodes.push({opcode:"DECLARE",name:a,value:b})},addDepth:function(a){0!==a&&(this.depths[a]||(this.depths[a]=!0,this.depths.list.push(a)))},classifySexpr:function(a){var b=a.isHelper,c=a.eligibleHelper,d=this.options;if(c&&!b){var e=a.id.parts[0];d.knownHelpers[e]?b=!0:d.knownHelpersOnly&&(c=!1)}return b?"helper":c?"ambiguous":"simple"},pushParams:function(a){for(var b,c=a.length;c--;)b=a[c],this.options.stringParams?(b.depth&&this.addDepth(b.depth),this.opcode("getContext",b.depth||0),this.opcode("pushStringParam",b.stringModeValue,b.type),"sexpr"===b.type&&this.sexpr(b)):this[b.type](b)},setupFullMustacheParams:function(a,b,c){var d=a.params;return this.pushParams(d),this.opcode("pushProgram",b),this.opcode("pushProgram",c),a.hash?this.hash(a.hash):this.opcode("emptyHash"),d}},e.precompile=c,e.compile=d,e}(c),k=function(a,b){"use strict";function c(a){this.value=a}function d(){}var e,f=a.COMPILER_REVISION,g=a.REVISION_CHANGES,h=a.log,i=b;d.prototype={nameLookup:function(a,b){var c,e;return 0===a.indexOf("depth")&&(c=!0),e=/^[0-9]+$/.test(b)?a+"["+b+"]":d.isValidJavaScriptVariableName(b)?a+"."+b:a+"['"+b+"']",c?"("+a+" && "+e+")":e},compilerInfo:function(){var a=f,b=g[a];return"this.compilerInfo = ["+a+",'"+b+"'];\n"},appendToBuffer:function(a){return this.environment.isSimple?"return "+a+";":{appendToBuffer:!0,content:a,toString:function(){return"buffer += "+a+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(a,b,c,d){this.environment=a,this.options=b||{},h("debug",this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!c,this.context=c||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.compileChildren(a,b);var e,f=a.opcodes;this.i=0;for(var g=f.length;this.i<g;this.i++)e=f[this.i],"DECLARE"===e.opcode?this[e.name]=e.value:this[e.opcode].apply(this,e.args),e.opcode!==this.stripNext&&(this.stripNext=!1);if(this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new i("Compile completed with content left on stack");return this.createFunctionContext(d)},preamble:function(){var a=[];if(this.isChild)a.push("");else{var b=this.namespace,c="helpers = this.merge(helpers, "+b+".helpers);";this.environment.usePartial&&(c=c+" partials = this.merge(partials, "+b+".partials);"),this.options.data&&(c+=" data = data || {};"),a.push(c)}this.environment.isSimple?a.push(""):a.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=a},createFunctionContext:function(a){var b=this.stackVars.concat(this.registers.list);if(b.length>0&&(this.source[1]=this.source[1]+", "+b.join(", ")),!this.isChild)for(var c in this.context.aliases)this.context.aliases.hasOwnProperty(c)&&(this.source[1]=this.source[1]+", "+c+"="+this.context.aliases[c]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.pushSource("return buffer;");for(var d=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],e=0,f=this.environment.depths.list.length;f>e;e++)d.push("depth"+this.environment.depths.list[e]);var g=this.mergeSource();if(this.isChild||(g=this.compilerInfo()+g),a)return d.push(g),Function.apply(this,d);var i="function "+(this.name||"")+"("+d.join(",")+") {\n  "+g+"}";return h("debug",i+"\n\n"),i},mergeSource:function(){for(var a,b="",c=0,d=this.source.length;d>c;c++){var e=this.source[c];e.appendToBuffer?a=a?a+"\n    + "+e.content:e.content:(a&&(b+="buffer += "+a+";\n  ",a=void 0),b+=e+"\n  ")}return b},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a),this.replaceStack(function(b){return a.splice(1,0,b),"blockHelperMissing.call("+a.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a);var b=this.topStack();a.splice(1,0,b),this.pushSource("if (!"+this.lastHelper+") { "+b+" = blockHelperMissing.call("+a.join(", ")+"); }")},appendContent:function(a){this.pendingContent&&(a=this.pendingContent+a),this.stripNext&&(a=a.replace(/^\s+/,"")),this.pendingContent=a},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\s+$/,"")),this.stripNext="strip"},append:function(){this.flushInline();var a=this.popStack();this.pushSource("if("+a+" || "+a+" === 0) { "+this.appendToBuffer(a)+" }"),this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(a){this.lastContext!==a&&(this.lastContext=a)},lookupOnContext:function(a){this.push(this.nameLookup("depth"+this.lastContext,a,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(a){return"typeof "+a+" === functionType ? "+a+".apply(depth0) : "+a})},lookup:function(a){this.replaceStack(function(b){return b+" == null || "+b+" === false ? "+b+" : "+this.nameLookup(b,a,"context")})},lookupData:function(){this.pushStackLiteral("data")},pushStringParam:function(a,b){this.pushStackLiteral("depth"+this.lastContext),this.pushString(b),"sexpr"!==b&&("string"==typeof a?this.pushString(a):this.pushStackLiteral(a))},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.push("{}"),this.push("{}"))},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[]}},popHash:function(){var a=this.hash;this.hash=this.hashes.pop(),this.options.stringParams&&(this.push("{"+a.contexts.join(",")+"}"),this.push("{"+a.types.join(",")+"}")),this.push("{\n    "+a.values.join(",\n    ")+"\n  }")},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},push:function(a){return this.inlineStack.push(a),a},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},invokeHelper:function(a,b,c){this.context.aliases.helperMissing="helpers.helperMissing",this.useRegister("helper");var d=this.lastHelper=this.setupHelper(a,b,!0),e=this.nameLookup("depth"+this.lastContext,b,"context"),f="helper = "+d.name+" || "+e;d.paramsInit&&(f+=","+d.paramsInit),this.push("("+f+",helper ? helper.call("+d.callParams+") : helperMissing.call("+d.helperMissingParams+"))"),c||this.flushInline()},invokeKnownHelper:function(a,b){var c=this.setupHelper(a,b);this.push(c.name+".call("+c.callParams+")")},invokeAmbiguous:function(a,b){this.context.aliases.functionType='"function"',this.useRegister("helper"),this.emptyHash();var c=this.setupHelper(0,a,b),d=this.lastHelper=this.nameLookup("helpers",a,"helper"),e=this.nameLookup("depth"+this.lastContext,a,"context"),f=this.nextStack();c.paramsInit&&this.pushSource(c.paramsInit),this.pushSource("if (helper = "+d+") { "+f+" = helper.call("+c.callParams+"); }"),this.pushSource("else { helper = "+e+"; "+f+" = typeof helper === functionType ? helper.call("+c.callParams+") : helper; }")},invokePartial:function(a){var b=[this.nameLookup("partials",a,"partial"),"'"+a+"'",this.popStack(),"helpers","partials"];this.options.data&&b.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+b.join(", ")+")")},assignToHash:function(a){var b,c,d=this.popStack();this.options.stringParams&&(c=this.popStack(),b=this.popStack());var e=this.hash;b&&e.contexts.push("'"+a+"': "+b),c&&e.types.push("'"+a+"': "+c),e.values.push("'"+a+"': ("+d+")")},compiler:d,compileChildren:function(a,b){for(var c,d,e=a.children,f=0,g=e.length;g>f;f++){c=e[f],d=new this.compiler;var h=this.matchExistingProgram(c);null==h?(this.context.programs.push(""),h=this.context.programs.length,c.index=h,c.name="program"+h,this.context.programs[h]=d.compile(c,b,this.context),this.context.environments[h]=c):(c.index=h,c.name="program"+h)}},matchExistingProgram:function(a){for(var b=0,c=this.context.environments.length;c>b;b++){var d=this.context.environments[b];if(d&&d.equals(a))return b}},programExpression:function(a){if(this.context.aliases.self="this",null==a)return"self.noop";for(var b,c=this.environment.children[a],d=c.depths.list,e=[c.index,c.name,"data"],f=0,g=d.length;g>f;f++)b=d[f],1===b?e.push("depth0"):e.push("depth"+(b-1));return(0===d.length?"self.program(":"self.programWithDepth(")+e.join(", ")+")"},register:function(a,b){this.useRegister(a),this.pushSource(a+" = "+b+";")},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},pushStackLiteral:function(a){return this.push(new c(a))},pushSource:function(a){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0),a&&this.source.push(a)},pushStack:function(a){this.flushInline();var b=this.incrStack();return a&&this.pushSource(b+" = "+a+";"),this.compileStack.push(b),b},replaceStack:function(a){var b,d,e,f="",g=this.isInline();if(g){var h=this.popStack(!0);if(h instanceof c)b=h.value,e=!0;else{d=!this.stackSlot;var i=d?this.incrStack():this.topStackName();f="("+this.push(i)+" = "+h+"),",b=this.topStack()}}else b=this.topStack();var j=a.call(this,b);return g?(e||this.popStack(),d&&this.stackSlot--,this.push("("+f+j+")")):(/^stack/.test(b)||(b=this.nextStack()),this.pushSource(b+" = ("+f+j+");")),b},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;if(a.length){this.inlineStack=[];for(var b=0,d=a.length;d>b;b++){var e=a[b];e instanceof c?this.compileStack.push(e):this.pushStack(e)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var b=this.isInline(),d=(b?this.inlineStack:this.compileStack).pop();if(!a&&d instanceof c)return d.value;if(!b){if(!this.stackSlot)throw new i("Invalid stack pop");this.stackSlot--}return d},topStack:function(a){var b=this.isInline()?this.inlineStack:this.compileStack,d=b[b.length-1];return!a&&d instanceof c?d.value:d},quotedString:function(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(a,b,c){var d=[],e=this.setupParams(a,d,c),f=this.nameLookup("helpers",b,"helper");return{params:d,paramsInit:e,name:f,callParams:["depth0"].concat(d).join(", "),helperMissingParams:c&&["depth0",this.quotedString(b)].concat(d).join(", ")}},setupOptions:function(a,b){var c,d,e,f=[],g=[],h=[];f.push("hash:"+this.popStack()),this.options.stringParams&&(f.push("hashTypes:"+this.popStack()),f.push("hashContexts:"+this.popStack())),d=this.popStack(),e=this.popStack(),(e||d)&&(e||(this.context.aliases.self="this",e="self.noop"),d||(this.context.aliases.self="this",d="self.noop"),f.push("inverse:"+d),f.push("fn:"+e));for(var i=0;a>i;i++)c=this.popStack(),b.push(c),this.options.stringParams&&(h.push(this.popStack()),g.push(this.popStack()));return this.options.stringParams&&(f.push("contexts:["+g.join(",")+"]"),f.push("types:["+h.join(",")+"]")),this.options.data&&f.push("data:data"),f},setupParams:function(a,b,c){var d="{"+this.setupOptions(a,b).join(",")+"}";return c?(this.useRegister("options"),b.push("options"),"options="+d):(b.push(d),"")}};for(var j="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),k=d.RESERVED_WORDS={},l=0,m=j.length;m>l;l++)k[j[l]]=!0;return d.isValidJavaScriptVariableName=function(a){return!d.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(a)?!0:!1},e=d}(d,c),l=function(a,b,c,d,e){"use strict";var f,g=a,h=b,i=c.parser,j=c.parse,k=d.Compiler,l=d.compile,m=d.precompile,n=e,o=g.create,p=function(){var a=o();return a.compile=function(b,c){return l(b,c,a)},a.precompile=function(b,c){return m(b,c,a)},a.AST=h,a.Compiler=k,a.JavaScriptCompiler=n,a.Parser=i,a.parse=j,a};return g=p(),g.create=p,f=g}(f,g,i,j,k);return l}();jQuery.cookie=function(a,b,c){if(arguments.length>1&&"[object Object]"!==String(b)){if(c=jQuery.extend({},c),(null===b||void 0===b)&&(c.expires=-1),"number"==typeof c.expires){var d=c.expires,e=c.expires=new Date;e.setDate(e.getDate()+d)}return b=String(b),document.cookie=[encodeURIComponent(a),"=",c.raw?b:encodeURIComponent(b),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")}c=b||{};var f,g=c.raw?function(a){return a}:decodeURIComponent;return(f=new RegExp("(?:^|; )"+encodeURIComponent(a)+"=([^;]*)").exec(document.cookie))?g(f[1]):null},Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|after|from)/i,subtract:/^(\-|before|ago)/i,yesterday:/^yesterday/i,today:/^t(oday)?/i,tomorrow:/^tomorrow/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^min(ute)?s?/i,hour:/^h(ou)?rs?/i,week:/^w(ee)?k/i,month:/^m(o(nth)?s?)?/i,day:/^d(ays?)?/i,year:/^y((ea)?rs?)?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a|p)/i},abbreviatedTimeZoneStandard:{GMT:"-000",EST:"-0400",CST:"-0500",MST:"-0600",PST:"-0700"},abbreviatedTimeZoneDST:{GMT:"-000",EDT:"-0500",CDT:"-0600",MDT:"-0700",PDT:"-0800"}},Date.getMonthNumberFromName=function(a){for(var b=Date.CultureInfo.monthNames,c=Date.CultureInfo.abbreviatedMonthNames,d=a.toLowerCase(),e=0;e<b.length;e++)if(b[e].toLowerCase()==d||c[e].toLowerCase()==d)return e;return-1},Date.getDayNumberFromName=function(a){for(var b=Date.CultureInfo.dayNames,c=Date.CultureInfo.abbreviatedDayNames,d=(Date.CultureInfo.shortestDayNames,a.toLowerCase()),e=0;e<b.length;e++)if(b[e].toLowerCase()==d||c[e].toLowerCase()==d)return e;return-1},Date.isLeapYear=function(a){return a%4===0&&a%100!==0||a%400===0},Date.getDaysInMonth=function(a,b){return[31,Date.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},Date.getTimezoneOffset=function(a,b){return b?Date.CultureInfo.abbreviatedTimeZoneDST[a.toUpperCase()]:Date.CultureInfo.abbreviatedTimeZoneStandard[a.toUpperCase()]},Date.getTimezoneAbbreviation=function(a,b){var c,d=b?Date.CultureInfo.abbreviatedTimeZoneDST:Date.CultureInfo.abbreviatedTimeZoneStandard;for(c in d)if(d[c]===a)return c;return null},Date.prototype.clone=function(){return new Date(this.getTime())},Date.prototype.compareTo=function(a){if(isNaN(this))throw new Error(this);if(a instanceof Date&&!isNaN(a))return this>a?1:a>this?-1:0;throw new TypeError(a)},Date.prototype.equals=function(a){return 0===this.compareTo(a)},Date.prototype.between=function(a,b){var c=this.getTime();return c>=a.getTime()&&c<=b.getTime()},Date.prototype.addMilliseconds=function(a){return this.setMilliseconds(this.getMilliseconds()+a),this},Date.prototype.addSeconds=function(a){return this.addMilliseconds(1e3*a)},Date.prototype.addMinutes=function(a){return this.addMilliseconds(6e4*a)},Date.prototype.addHours=function(a){return this.addMilliseconds(36e5*a)},Date.prototype.addDays=function(a){return this.addMilliseconds(864e5*a)},Date.prototype.addWeeks=function(a){return this.addMilliseconds(6048e5*a)},Date.prototype.addMonths=function(a){var b=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+a),this.setDate(Math.min(b,this.getDaysInMonth())),this},Date.prototype.addYears=function(a){return this.addMonths(12*a)},Date.prototype.add=function(a){if("number"==typeof a)return this._orient=a,this;var b=a;return(b.millisecond||b.milliseconds)&&this.addMilliseconds(b.millisecond||b.milliseconds),(b.second||b.seconds)&&this.addSeconds(b.second||b.seconds),
(b.minute||b.minutes)&&this.addMinutes(b.minute||b.minutes),(b.hour||b.hours)&&this.addHours(b.hour||b.hours),(b.month||b.months)&&this.addMonths(b.month||b.months),(b.year||b.years)&&this.addYears(b.year||b.years),(b.day||b.days)&&this.addDays(b.day||b.days),this},Date._validate=function(a,b,c,d){if("number"!=typeof a)throw new TypeError(a+" is not a Number.");if(b>a||a>c)throw new RangeError(a+" is not a valid value for "+d+".");return!0},Date.validateMillisecond=function(a){return Date._validate(a,0,999,"milliseconds")},Date.validateSecond=function(a){return Date._validate(a,0,59,"seconds")},Date.validateMinute=function(a){return Date._validate(a,0,59,"minutes")},Date.validateHour=function(a){return Date._validate(a,0,23,"hours")},Date.validateDay=function(a,b,c){return Date._validate(a,1,Date.getDaysInMonth(b,c),"days")},Date.validateMonth=function(a){return Date._validate(a,0,11,"months")},Date.validateYear=function(a){return Date._validate(a,1,9999,"seconds")},Date.prototype.set=function(a){var b=a;return b.millisecond||0===b.millisecond||(b.millisecond=-1),b.second||0===b.second||(b.second=-1),b.minute||0===b.minute||(b.minute=-1),b.hour||0===b.hour||(b.hour=-1),b.day||0===b.day||(b.day=-1),b.month||0===b.month||(b.month=-1),b.year||0===b.year||(b.year=-1),-1!=b.millisecond&&Date.validateMillisecond(b.millisecond)&&this.addMilliseconds(b.millisecond-this.getMilliseconds()),-1!=b.second&&Date.validateSecond(b.second)&&this.addSeconds(b.second-this.getSeconds()),-1!=b.minute&&Date.validateMinute(b.minute)&&this.addMinutes(b.minute-this.getMinutes()),-1!=b.hour&&Date.validateHour(b.hour)&&this.addHours(b.hour-this.getHours()),-1!==b.month&&Date.validateMonth(b.month)&&this.addMonths(b.month-this.getMonth()),-1!=b.year&&Date.validateYear(b.year)&&this.addYears(b.year-this.getFullYear()),-1!=b.day&&Date.validateDay(b.day,this.getFullYear(),this.getMonth())&&this.addDays(b.day-this.getDate()),b.timezone&&this.setTimezone(b.timezone),b.timezoneOffset&&this.setTimezoneOffset(b.timezoneOffset),this},Date.prototype.clearTime=function(){return this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.setMilliseconds(0),this},Date.prototype.isLeapYear=function(){var a=this.getFullYear();return a%4===0&&a%100!==0||a%400===0},Date.prototype.isWeekday=function(){return!(this.is().sat()||this.is().sun())},Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())},Date.prototype.moveToFirstDayOfMonth=function(){return this.set({day:1})},Date.prototype.moveToLastDayOfMonth=function(){return this.set({day:this.getDaysInMonth()})},Date.prototype.moveToDayOfWeek=function(a,b){var c=(a-this.getDay()+7*(b||1))%7;return this.addDays(0===c?c+=7*(b||1):c)},Date.prototype.moveToMonth=function(a,b){var c=(a-this.getMonth()+12*(b||1))%12;return this.addMonths(0===c?c+=12*(b||1):c)},Date.prototype.getDayOfYear=function(){return Math.floor((this-new Date(this.getFullYear(),0,1))/864e5)},Date.prototype.getWeekOfYear=function(a){var b=this.getFullYear(),c=this.getMonth(),d=this.getDate(),e=a||Date.CultureInfo.firstDayOfWeek,f=8-new Date(b,0,1).getDay();8==f&&(f=1);var g=(Date.UTC(b,c,d,0,0,0)-Date.UTC(b,0,1,0,0,0))/864e5+1,h=Math.floor((g-f+7)/7);if(h===e){b--;var i=8-new Date(b,0,1).getDay();h=2==i||8==i?53:52}return h},Date.prototype.isDST=function(){return console.log("isDST"),"D"==this.toString().match(/(E|C|M|P)(S|D)T/)[2]},Date.prototype.getTimezone=function(){return Date.getTimezoneAbbreviation(this.getUTCOffset,this.isDST())},Date.prototype.setTimezoneOffset=function(a){var b=this.getTimezoneOffset(),c=-6*Number(a)/10;return this.addMinutes(c-b),this},Date.prototype.setTimezone=function(a){return this.setTimezoneOffset(Date.getTimezoneOffset(a))},Date.prototype.getUTCOffset=function(){var a,b=-10*this.getTimezoneOffset()/6;return 0>b?(a=(b-1e4).toString(),a[0]+a.substr(2)):(a=(b+1e4).toString(),"+"+a.substr(1))},Date.prototype.getDayName=function(a){return a?Date.CultureInfo.abbreviatedDayNames[this.getDay()]:Date.CultureInfo.dayNames[this.getDay()]},Date.prototype.getMonthName=function(a){return a?Date.CultureInfo.abbreviatedMonthNames[this.getMonth()]:Date.CultureInfo.monthNames[this.getMonth()]},Date.prototype._toString=Date.prototype.toString,Date.prototype.toString=function(a){var b=this,c=function(a){return 1==a.toString().length?"0"+a:a};return a?a.replace(/dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?/g,function(a){switch(a){case"hh":return c(b.getHours()<13?b.getHours():b.getHours()-12);case"h":return b.getHours()<13?b.getHours():b.getHours()-12;case"HH":return c(b.getHours());case"H":return b.getHours();case"mm":return c(b.getMinutes());case"m":return b.getMinutes();case"ss":return c(b.getSeconds());case"s":return b.getSeconds();case"yyyy":return b.getFullYear();case"yy":return b.getFullYear().toString().substring(2,4);case"dddd":return b.getDayName();case"ddd":return b.getDayName(!0);case"dd":return c(b.getDate());case"d":return b.getDate().toString();case"MMMM":return b.getMonthName();case"MMM":return b.getMonthName(!0);case"MM":return c(b.getMonth()+1);case"M":return b.getMonth()+1;case"t":return b.getHours()<12?Date.CultureInfo.amDesignator.substring(0,1):Date.CultureInfo.pmDesignator.substring(0,1);case"tt":return b.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case"zzz":case"zz":case"z":return""}}):this._toString()},Date.now=function(){return new Date},Date.today=function(){return Date.now().clearTime()},Date.prototype._orient=1,Date.prototype.next=function(){return this._orient=1,this},Date.prototype.last=Date.prototype.prev=Date.prototype.previous=function(){return this._orient=-1,this},Date.prototype._is=!1,Date.prototype.is=function(){return this._is=!0,this},Number.prototype._dateElement="day",Number.prototype.fromNow=function(){var a={};return a[this._dateElement]=this,Date.now().add(a)},Number.prototype.ago=function(){var a={};return a[this._dateElement]=-1*this,Date.now().add(a)},function(){for(var a,b=Date.prototype,c=Number.prototype,d="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),e="january february march april may june july august september october november december".split(/\s/),f="Millisecond Second Minute Hour Day Week Month Year".split(/\s/),g=function(a){return function(){return this._is?(this._is=!1,this.getDay()==a):this.moveToDayOfWeek(a,this._orient)}},h=0;h<d.length;h++)b[d[h]]=b[d[h].substring(0,3)]=g(h);for(var i=function(a){return function(){return this._is?(this._is=!1,this.getMonth()===a):this.moveToMonth(a,this._orient)}},j=0;j<e.length;j++)b[e[j]]=b[e[j].substring(0,3)]=i(j);for(var k=function(a){return function(){return"s"!=a.substring(a.length-1)&&(a+="s"),this["add"+a](this._orient)}},l=function(a){return function(){return this._dateElement=a,this}},m=0;m<f.length;m++)a=f[m].toLowerCase(),b[a]=b[a+"s"]=k(f[m]),c[a]=c[a+"s"]=l(a)}(),Date.prototype.toJSONString=function(){return this.toString("yyyy-MM-ddThh:mm:ssZ")},Date.prototype.toShortDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortDatePattern)},Date.prototype.toLongDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.longDatePattern)},Date.prototype.toShortTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortTimePattern)},Date.prototype.toLongTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.longTimePattern)},Date.prototype.getOrdinal=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},function(){Date.Parsing={Exception:function(a){this.message="Parse error at '"+a.substring(0,10)+" ...'"}};for(var a=Date.Parsing,b=a.Operators={rtoken:function(b){return function(c){var d=c.match(b);if(d)return[d[0],c.substring(d[0].length)];throw new a.Exception(c)}},token:function(a){return function(a){return b.rtoken(new RegExp("^s*"+a+"s*"))(a)}},stoken:function(a){return b.rtoken(new RegExp("^"+a))},until:function(a){return function(b){for(var c=[],d=null;b.length;){try{d=a.call(this,b)}catch(e){c.push(d[0]),b=d[1];continue}break}return[c,b]}},many:function(a){return function(b){for(var c=[],d=null;b.length;){try{d=a.call(this,b)}catch(e){return[c,b]}c.push(d[0]),b=d[1]}return[c,b]}},optional:function(a){return function(b){var c=null;try{c=a.call(this,b)}catch(d){return[null,b]}return[c[0],c[1]]}},not:function(b){return function(c){try{b.call(this,c)}catch(d){return[null,c]}throw new a.Exception(c)}},ignore:function(a){return a?function(b){var c=null;return c=a.call(this,b),[null,c[1]]}:null},product:function(){for(var a=arguments[0],c=Array.prototype.slice.call(arguments,1),d=[],e=0;e<a.length;e++)d.push(b.each(a[e],c));return d},cache:function(b){var c={},d=null;return function(e){try{d=c[e]=c[e]||b.call(this,e)}catch(f){d=c[e]=f}if(d instanceof a.Exception)throw d;return d}},any:function(){var b=arguments;return function(c){for(var d=null,e=0;e<b.length;e++)if(null!=b[e]){try{d=b[e].call(this,c)}catch(f){d=null}if(d)return d}throw new a.Exception(c)}},each:function(){var b=arguments;return function(c){for(var d=[],e=null,f=0;f<b.length;f++)if(null!=b[f]){try{e=b[f].call(this,c)}catch(g){throw new a.Exception(c)}d.push(e[0]),c=e[1]}return[d,c]}},all:function(){var a=arguments,b=b;return b.each(b.optional(a))},sequence:function(c,d,e){return d=d||b.rtoken(/^\s*/),e=e||null,1==c.length?c[0]:function(b){for(var f=null,g=null,h=[],i=0;i<c.length;i++){try{f=c[i].call(this,b)}catch(j){break}h.push(f[0]);try{g=d.call(this,f[1])}catch(k){g=null;break}b=g[1]}if(!f)throw new a.Exception(b);if(g)throw new a.Exception(g[1]);if(e)try{f=e.call(this,f[1])}catch(l){throw new a.Exception(f[1])}return[h,f?f[1]:b]}},between:function(a,c,d){d=d||a;var e=b.each(b.ignore(a),c,b.ignore(d));return function(a){var b=e.call(this,a);return[[b[0][0],r[0][2]],b[1]]}},list:function(a,c,d){return c=c||b.rtoken(/^\s*/),d=d||null,a instanceof Array?b.each(b.product(a.slice(0,-1),b.ignore(c)),a.slice(-1),b.ignore(d)):b.each(b.many(b.each(a,b.ignore(c))),px,b.ignore(d))},set:function(c,d,e){return d=d||b.rtoken(/^\s*/),e=e||null,function(f){for(var g=null,h=null,i=null,j=null,k=[[],f],l=!1,m=0;m<c.length;m++){i=null,h=null,g=null,l=1==c.length;try{g=c[m].call(this,f)}catch(n){continue}if(j=[[g[0]],g[1]],g[1].length>0&&!l)try{i=d.call(this,g[1])}catch(o){l=!0}else l=!0;if(l||0!==i[1].length||(l=!0),!l){for(var p=[],q=0;q<c.length;q++)m!=q&&p.push(c[q]);h=b.set(p,d).call(this,i[1]),h[0].length>0&&(j[0]=j[0].concat(h[0]),j[1]=h[1])}if(j[1].length<k[1].length&&(k=j),0===k[1].length)break}if(0===k[0].length)return k;if(e){try{i=e.call(this,k[1])}catch(r){throw new a.Exception(k[1])}k[1]=i[1]}return k}},forward:function(a,b){return function(c){return a[b].call(this,c)}},replace:function(a,b){return function(c){var d=a.call(this,c);return[b,d[1]]}},process:function(a,b){return function(c){var d=a.call(this,c);return[b.call(this,d[0]),d[1]]}},min:function(b,c){return function(d){var e=c.call(this,d);if(e[0].length<b)throw new a.Exception(d);return e}}},c=function(a){return function(){var b=null,c=[];if(arguments.length>1?b=Array.prototype.slice.call(arguments):arguments[0]instanceof Array&&(b=arguments[0]),!b)return a.apply(null,arguments);for(var d=0,e=b.shift();d<e.length;d++)return b.unshift(e[d]),c.push(a.apply(null,b)),b.shift(),c}},d="optional not ignore cache".split(/\s/),e=0;e<d.length;e++)b[d[e]]=c(b[d[e]]);for(var f=function(a){return function(){return arguments[0]instanceof Array?a.apply(null,arguments[0]):a.apply(null,arguments)}},g="each any all".split(/\s/),h=0;h<g.length;h++)b[g[h]]=f(b[g[h]])}(),function(){var a=function(b){for(var c=[],d=0;d<b.length;d++)b[d]instanceof Array?c=c.concat(a(b[d])):b[d]&&c.push(b[d]);return c};Date.Grammar={},Date.Translator={hour:function(a){return function(){this.hour=Number(a)}},minute:function(a){return function(){this.minute=Number(a)}},second:function(a){return function(){this.second=Number(a)}},meridian:function(a){return function(){this.meridian=a.slice(0,1).toLowerCase()}},timezone:function(a){return function(){var b=a.replace(/[^\d\+\-]/g,"");b.length?this.timezoneOffset=Number(b):this.timezone=a.toLowerCase()}},day:function(a){var b=a[0];return function(){this.day=Number(b.match(/\d+/)[0])}},month:function(a){return function(){this.month=3==a.length?Date.getMonthNumberFromName(a):Number(a)-1}},year:function(a){return function(){var b=Number(a);this.year=a.length>2?b:b+(b+2e3<Date.CultureInfo.twoDigitYearMax?2e3:1900)}},rday:function(a){return function(){switch(a){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0,this.now=!0}}},finishExact:function(a){a=a instanceof Array?a:[a];var b=new Date;this.year=b.getFullYear(),this.month=b.getMonth(),this.day=1,this.hour=0,this.minute=0,this.second=0;for(var c=0;c<a.length;c++)a[c]&&a[c].call(this);if(this.hour="p"==this.meridian&&this.hour<13?this.hour+12:this.hour,this.day>Date.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");var d=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);return this.timezone?d.set({timezone:this.timezone}):this.timezoneOffset&&d.set({timezoneOffset:this.timezoneOffset}),d},finish:function(b){if(b=b instanceof Array?a(b):[b],0===b.length)return null;for(var c=0;c<b.length;c++)"function"==typeof b[c]&&b[c].call(this);if(this.now)return new Date;var d=Date.today(),e=!(null==this.days&&!this.orient&&!this.operator);if(e){var f,g,h;return h="past"==this.orient||"subtract"==this.operator?-1:1,this.weekday&&(this.unit="day",f=Date.getDayNumberFromName(this.weekday)-d.getDay(),g=7,this.days=f?(f+h*g)%g:h*g),this.month&&(this.unit="month",f=this.month-d.getMonth(),g=12,this.months=f?(f+h*g)%g:h*g,this.month=null),this.unit||(this.unit="day"),(null==this[this.unit+"s"]||null!=this.operator)&&(this.value||(this.value=1),"week"==this.unit&&(this.unit="day",this.value=7*this.value),this[this.unit+"s"]=this.value*h),d.add(this)}return this.meridian&&this.hour&&(this.hour=this.hour<13&&"p"==this.meridian?this.hour+12:this.hour),this.weekday&&!this.day&&(this.day=d.addDays(Date.getDayNumberFromName(this.weekday)-d.getDay()).getDate()),this.month&&!this.day&&(this.day=1),d.set(this)}};var b,c=Date.Parsing.Operators,d=Date.Grammar,e=Date.Translator;d.datePartDelimiter=c.rtoken(/^([\s\-\.\,\/\x27]+)/),d.timePartDelimiter=c.stoken(":"),d.whiteSpace=c.rtoken(/^\s*/),d.generalDelimiter=c.rtoken(/^(([\s\,]|at|on)+)/);var f={};d.ctoken=function(a){var b=f[a];if(!b){for(var d=Date.CultureInfo.regexPatterns,e=a.split(/\s+/),g=[],h=0;h<e.length;h++)g.push(c.replace(c.rtoken(d[e[h]]),e[h]));b=f[a]=c.any.apply(null,g)}return b},d.ctoken2=function(a){return c.rtoken(Date.CultureInfo.regexPatterns[a])},d.h=c.cache(c.process(c.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),e.hour)),d.hh=c.cache(c.process(c.rtoken(/^(0[0-9]|1[0-2])/),e.hour)),d.H=c.cache(c.process(c.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),e.hour)),d.HH=c.cache(c.process(c.rtoken(/^([0-1][0-9]|2[0-3])/),e.hour)),d.m=c.cache(c.process(c.rtoken(/^([0-5][0-9]|[0-9])/),e.minute)),d.mm=c.cache(c.process(c.rtoken(/^[0-5][0-9]/),e.minute)),d.s=c.cache(c.process(c.rtoken(/^([0-5][0-9]|[0-9])/),e.second)),d.ss=c.cache(c.process(c.rtoken(/^[0-5][0-9]/),e.second)),d.hms=c.cache(c.sequence([d.H,d.mm,d.ss],d.timePartDelimiter)),d.t=c.cache(c.process(d.ctoken2("shortMeridian"),e.meridian)),d.tt=c.cache(c.process(d.ctoken2("longMeridian"),e.meridian)),d.z=c.cache(c.process(c.rtoken(/^(\+|\-)?\s*\d\d\d\d?/),e.timezone)),d.zz=c.cache(c.process(c.rtoken(/^(\+|\-)\s*\d\d\d\d/),e.timezone)),d.zzz=c.cache(c.process(d.ctoken2("timezone"),e.timezone)),d.timeSuffix=c.each(c.ignore(d.whiteSpace),c.set([d.tt,d.zzz])),d.time=c.each(c.optional(c.ignore(c.stoken("T"))),d.hms,d.timeSuffix),d.d=c.cache(c.process(c.each(c.rtoken(/^([0-2]\d|3[0-1]|\d)/),c.optional(d.ctoken2("ordinalSuffix"))),e.day)),d.dd=c.cache(c.process(c.each(c.rtoken(/^([0-2]\d|3[0-1])/),c.optional(d.ctoken2("ordinalSuffix"))),e.day)),d.ddd=d.dddd=c.cache(c.process(d.ctoken("sun mon tue wed thu fri sat"),function(a){return function(){this.weekday=a}})),d.M=c.cache(c.process(c.rtoken(/^(1[0-2]|0\d|\d)/),e.month)),d.MM=c.cache(c.process(c.rtoken(/^(1[0-2]|0\d)/),e.month)),d.MMM=d.MMMM=c.cache(c.process(d.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),e.month)),d.y=c.cache(c.process(c.rtoken(/^(\d\d?)/),e.year)),d.yy=c.cache(c.process(c.rtoken(/^(\d\d)/),e.year)),d.yyy=c.cache(c.process(c.rtoken(/^(\d\d?\d?\d?)/),e.year)),d.yyyy=c.cache(c.process(c.rtoken(/^(\d\d\d\d)/),e.year)),b=function(){return c.each(c.any.apply(null,arguments),c.not(d.ctoken2("timeContext")))},d.day=b(d.d,d.dd),d.month=b(d.M,d.MMM),d.year=b(d.yyyy,d.yy),d.orientation=c.process(d.ctoken("past future"),function(a){return function(){this.orient=a}}),d.operator=c.process(d.ctoken("add subtract"),function(a){return function(){this.operator=a}}),d.rday=c.process(d.ctoken("yesterday tomorrow today now"),e.rday),d.unit=c.process(d.ctoken("minute hour day week month year"),function(a){return function(){this.unit=a}}),d.value=c.process(c.rtoken(/^\d\d?(st|nd|rd|th)?/),function(a){return function(){this.value=a.replace(/\D/g,"")}}),d.expression=c.set([d.rday,d.operator,d.value,d.unit,d.orientation,d.ddd,d.MMM]),b=function(){return c.set(arguments,d.datePartDelimiter)},d.mdy=b(d.ddd,d.month,d.day,d.year),d.ymd=b(d.ddd,d.year,d.month,d.day),d.dmy=b(d.ddd,d.day,d.month,d.year),d.date=function(a){return(d[Date.CultureInfo.dateElementOrder]||d.mdy).call(this,a)},d.format=c.process(c.many(c.any(c.process(c.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(a){if(d[a])return d[a];throw Date.Parsing.Exception(a)}),c.process(c.rtoken(/^[^dMyhHmstz]+/),function(a){return c.ignore(c.stoken(a))}))),function(a){return c.process(c.each.apply(null,a),e.finishExact)});var g={},h=function(a){return g[a]=g[a]||d.format(a)[0]};d.formats=function(a){if(a instanceof Array){for(var b=[],d=0;d<a.length;d++)b.push(h(a[d]));return c.any.apply(null,b)}return h(a)},d._formats=d.formats(["yyyy-MM-ddTHH:mm:ss","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","d"]),d._start=c.process(c.set([d.date,d.time,d.expression],d.generalDelimiter,d.whiteSpace),e.finish),d.start=function(a){try{var b=d._formats.call({},a);if(0===b[1].length)return b}catch(c){}return d._start.call({},a)}}(),Date._parse=Date.parse,Date.parse=function(a){var b=null;if(!a)return null;try{b=Date.Grammar.start.call({},a)}catch(c){return null}return 0===b[1].length?b[0]:null},Date.getParseFunction=function(a){var b=Date.Grammar.formats(a);return function(a){var c=null;try{c=b.call({},a)}catch(d){return null}return 0===c[1].length?c[0]:null}},Date.parseExact=function(a,b){return Date.getParseFunction(b)(a)},function(a){a.fn.smartAutoComplete=function(){if(arguments.length<1){var b=this[0];return a(b).data("smart-autocomplete")}var c=function(b,c,d){var e=new RegExp(b.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i");return a.grep(c,function(a){return e.test(a)})},d={minCharLimit:1,maxCharLimit:null,maxResults:null,delay:0,disabled:!1,forceSelect:!1,typeAhead:!1,resultElement:"li",resultFormatter:function(a){return"<li>"+a+"</li>"},filter:function(b,d){var e=this;a(e).data("smart-autocomplete");if("array"===a.type(d)){var f=c(b,d,e);return f}return"string"===a.type(d)?a.Deferred(function(f){a.ajax({url:d,data:{term:b},dataType:"json"}).success(function(a){f.resolve(c(b,a,e))})}).promise():void 0},alignResultsContainer:!1,clearResults:function(){var b=a(this.context).prev(".smart_autocomplete_type_ahead_field");a(this.context).css({background:b.css("background")}),b.remove(),a(this.resultsContainer).html("")},setCurrentSelectionToContext:function(){this.rawResults.length>0&&this.currentSelection>=0&&a(this.context).val(this.rawResults[this.currentSelection])},setItemSelected:function(a){this.itemSelected=a},autocompleteFocused:!1,setAutocompleteFocused:function(a){this.autocompleteFocused=a}};a.event.special.keyIn={setup:function(){return!1},_default:function(b){var c=b.target,d=a(c).data("smart-autocomplete"),e=(d.source||null,d.filter),f=d.maxCharLimit>0?d.maxCharLimit:Number.POSITIVE_INFINITY,g=b.smartAutocompleteData.query;return d.disabled||g.length>f?(a(c).trigger("lostFocus"),!1):(d.setItemSelected(!1),d.setAutocompleteFocused(!0),void setTimeout(function(){a.when(e.apply(d,[g,d.source])).done(function(b){var e=d.maxResults>0?b.splice(0,d.maxResults):b;a(c).trigger("resultsReady",[e])})},d.delay))}},a.event.special.resultsReady={setup:function(){return!1},_default:function(b){var c=b.target,d=a(c).data("smart-autocomplete"),e=b.smartAutocompleteData.results;if(d.disabled)return!1;if(a(c).smartAutoComplete().clearResults(),d.rawResults=e,e.length<1)return a(c).trigger("noResults"),!1;var f=a.map(e,function(a){return d.resultFormatter.apply(d,[a])}),g=f.join("");d.resultsContainer&&a(d.resultsContainer).append(g),a(c).trigger("showResults",[e])}},a.event.special.showResults={setup:function(){return!1},_default:function(b){var c=b.target,d=a(c).data("smart-autocomplete"),e=a(d.resultsContainer),f=b.smartAutocompleteData.results;if(d.typeAhead&&f[0].substr(0,a(c).val().length)==a(c).val()){var g=f[0];a(c).before("<input class='smart_autocomplete_type_ahead_field' type='text' autocomplete='off' disabled='disabled' value='"+g+"'/>"),a(c).css({position:"relative",zIndex:2,background:"transparent"});var h=a(c).prev("input");h.css({position:"absolute",zIndex:1,overflow:"hidden",background:a(c).css("background"),borderColor:"transparent",width:a(c).width(),color:"silver"}),d.currentSelection=0,e&&a(c).trigger("itemFocus",e.children()[d.currentSelection])}e&&(d.alignResultsContainer&&e.css({position:"absolute",top:function(){return a(c).offset().top+a(c).height()-3},left:function(){return a(c).offset().left},width:function(){return a(c).width()+20},zIndex:1e3}),e.show())}},a.event.special.noResults={setup:function(){return!1},_default:function(b){var c=b.target,d=a(c).data("smart-autocomplete"),e=a(d.resultsContainer);e&&d.clearResults()}},a.event.special.itemSelect={setup:function(){return!1},_default:function(b){var c=b.target,d=a(c).data("smart-autocomplete"),e=b.smartAutocompleteData.item,f=a(e).text()||a(e).val();a(c).val(f),d.setItemSelected(!0),d.originalCharCount=a(c).val().length,a(c).trigger("lostFocus")}},a.event.special.itemFocus={setup:function(){return!1},_default:function(b){var c=b.smartAutocompleteData.item;a(c).addClass("smart_autocomplete_highlight")}},a.event.special.itemUnfocus={setup:function(){return!1},_default:function(b){var c=b.smartAutocompleteData.item;a(c).removeClass("smart_autocomplete_highlight")}},a.event.special.lostFocus={setup:function(){return!1},_default:function(b){var c=b.target,d=a(c).data("smart-autocomplete");d.forceSelect&&!d.itemSelected&&a(d.context).val(""),d.setAutocompleteFocused(!1),d.clearResults(),d.resultsContainer&&a(d.resultsContainer).hide(),d.currentSelection=null}};var e=arguments[0];return this.each(function(b){var c=a.extend(d,a(this).data("smart-autocomplete"),e);if(c.context=this,"undefined"===a.type(c.resultsContainer)){var f=a("<ul class='smart_autocomplete_container' style='display:none'></ul>");f.appendTo("body"),c.resultsContainer=f,c.alignResultsContainer=!0}a(this).data("smart-autocomplete",c),a(this).keyup(function(b){var c=a(this).data("smart-autocomplete");if("38"==b.keyCode){if(c.resultsContainer){var d=c.currentSelection||0,e=a(c.resultsContainer).children();d>=0&&a(c.context).trigger("itemUnfocus",e[d]),--d<=0&&(d=0),c.currentSelection=d,a(c.context).trigger("itemFocus",[e[d]])}}else if("40"==b.keyCode)if(c.resultsContainer&&c.resultsContainer.is(":visible")){var d=c.currentSelection,e=a(c.resultsContainer).children();d>=0&&a(c.context).trigger("itemUnfocus",e[d]),(isNaN(d)||null==d||++d>=e.length)&&(d=0),c.currentSelection=d,a(c.context).trigger("itemFocus",[e[d]])}else a(c.context).trigger("keyIn",[a(this).val()]);else{if("39"==b.keyCode||"13"==b.keyCode){var f=a(c.context).prev(".smart_autocomplete_type_ahead_field");if(c.resultsContainer&&a(c.resultsContainer).is(":visible")){var d=c.currentSelection,e=a(c.resultsContainer).children();a(c.context).trigger("itemSelect",[e[d]])}else c.typeAhead&&f.is(":visible")&&a(c.context).trigger("itemSelect",[f]);return!1}var g=a(c.context).val().length;if(c.originalCharCount==g)return;g>=c.minCharLimit?a(c.context).trigger("keyIn",[a(this).val()]):c.autocompleteFocused&&(c.currentSelection=null,a(c.context).trigger("lostFocus"))}}),a(this).focus(function(){a(this).closest("form").bind("keydown.block_for_smart_autocomplete",function(b){var d=a(c.context).prev(".smart_autocomplete_type_ahead_field");if("13"==b.keyCode){if(c.resultsContainer&&a(c.resultsContainer).is(":visible")){var e=c.currentSelection,f=a(c.resultsContainer).children();return a(c.context).trigger("itemSelect",[f[e]]),!1}if(c.typeAhead&&d.is(":visible"))return a(c.context).trigger("itemSelect",[d]),!1}}),c.forceSelect&&a(this).select()}),a(document).bind("focusin click",function(b){if(c.autocompleteFocused){var d=a.contains(c.resultsContainer[0],b.target);if(b.target==c.resultsContainer[0]||b.target==c.context||d)return;a(c.context).closest("form").unbind("keydown.block_for_smart_autocomplete"),a(c.context).trigger("lostFocus")}}),a(c.resultsContainer).delegate(c.resultElement,"mouseenter.smart_autocomplete",function(){var b=c.currentSelection||0,d=a(c.resultsContainer).children();c.currentSelection=a(this).prevAll().length,b!=c.currentSelection&&a(c.context).trigger("itemUnfocus",d[b]),a(c.context).trigger("itemFocus",[this])}),a(c.resultsContainer).delegate(c.resultElement,"mouseleave.smart_autocomplete",function(){a(c.context).trigger("itemUnfocus",[this])}),a(c.resultsContainer).delegate(c.resultElement,"mousedown.smart_autocomplete",function(){return a(c.context).trigger("itemSelect",[this]),!1}),a(this).bind({keyIn:function(a,b){a.smartAutocompleteData={query:b}},resultsReady:function(a,b){a.smartAutocompleteData={results:b}},showResults:function(a,b){a.smartAutocompleteData={results:b}},noResults:function(){},lostFocus:function(){},itemSelect:function(a,b){a.smartAutocompleteData={item:b}},itemFocus:function(a,b){a.smartAutocompleteData={item:b}},itemUnfocus:function(a,b){a.smartAutocompleteData={item:b}}})})}}(jQuery),function(a,b){function c(a,b){for(a=""+a,b=b||2;a.length<b;)a="0"+a;return a}function d(a,b,d,e){var f=b.getDate(),g=b.getDay(),h=b.getMonth(),i=b.getFullYear(),f={d:f,dd:c(f),ddd:m[e].shortDays[g],dddd:m[e].days[g],m:h+1,mm:c(h+1),mmm:m[e].shortMonths[h],mmmm:m[e].months[h],yy:(""+i).slice(2),yyyy:i},a=k[a](d,b,f,e);return n.html(a).html()}function e(a){return parseInt(a,10)}function f(a,b){return a.getFullYear()===b.getFullYear()&&a.getMonth()==b.getMonth()&&a.getDate()==b.getDate()}function g(a){if(a!==b){if(a.constructor==Date)return a;if("string"==typeof a){var c=a.split("-");if(3==c.length)return new Date(e(c[0]),e(c[1])-1,e(c[2]));if(!/^-?\d+$/.test(a))return;a=e(a)}return c=new Date,c.setDate(c.getDate()+a),c}}function h(c,h){function i(b,e,f){C=b,q=b.getFullYear(),r=b.getMonth(),s=b.getDate(),f||(f=a.Event("api")),"click"==f.type&&!a.browser.msie&&c.focus(),f.type="beforeChange",F.trigger(f,[b]),f.isDefaultPrevented()||(c.val(d(e.formatter,b,e.format,e.lang)),f.type="change",F.trigger(f),c.data("date",b),v.hide(f))}function k(b){b.type="onShow",F.trigger(b),a(document).on("keydown.d",function(b){if(b.ctrlKey)return!0;var d=b.keyCode;if(8==d||46==d)return c.val(""),v.hide(b);if(27==d||9==d)return v.hide(b);if(0<=a(l).index(d)){if(!t)return v.show(b),b.preventDefault();var e=a("#"+y.weeks+" a"),f=a("."+y.focus),g=e.index(f);return f.removeClass(y.focus),74==d||40==d?g+=7:75==d||38==d?g-=7:76==d||39==d?g+=1:(72==d||37==d)&&(g-=1),g>41?(v.addMonth(),f=a("#"+y.weeks+" a:eq("+(g-42)+")")):0>g?(v.addMonth(-1),f=a("#"+y.weeks+" a:eq("+(g+42)+")")):f=e.eq(g),f.addClass(y.focus),b.preventDefault()}return 34==d?v.addMonth():33==d?v.addMonth(-1):36==d?v.today():(13==d&&(a(b.target).is("select")||a("."+y.focus).click()),0<=a([16,17,18,9]).index(d))}),a(document).on("click.d",function(b){var d=b.target;!a(d).parents("#"+y.root).length&&d!=c[0]&&(!n||d!=n[0])&&v.hide(b)})}var n,o,p,q,r,s,t,u,v=this,w=new Date,x=w.getFullYear(),y=h.css,z=m[h.lang],A=a("#"+y.root),B=A.find("#"+y.title),C=c.attr("data-value")||h.value||c.val(),D=c.attr("min")||h.min,E=c.attr("max")||h.max;if(0===D&&(D="0"),C=g(C)||w,D=g(D||new Date(x+h.yearRange[0],1,1)),E=g(E||new Date(x+h.yearRange[1]+1,1,-1)),!z)throw"Dateinput: invalid language: "+h.lang;"date"==c.attr("type")&&(u=c.clone(),x=u.wrap("<div/>").parent().html(),x=a(x.replace(/type/i,"type=text data-orig-type")),h.value&&x.val(h.value),c.replaceWith(x),c=x),c.addClass(y.input);var F=c.add(v);if(!A.length){if(A=a("<div><div><a/><div/><a/></div><div><div/><div/></div></div>").hide().css({position:"absolute"}).attr("id",y.root),A.children().eq(0).attr("id",y.head).end().eq(1).attr("id",y.body).children().eq(0).attr("id",y.days).end().eq(1).attr("id",y.weeks).end().end().end().find("a").eq(0).attr("id",y.prev).end().eq(1).attr("id",y.next),B=A.find("#"+y.head).find("div").attr("id",y.title),h.selectors){var G=a("<select/>").attr("id",y.month),H=a("<select/>").attr("id",y.year);B.html(G.add(H))}for(var x=A.find("#"+y.days),I=0;7>I;I++)x.append(a("<span/>").text(z.shortDays[(I+h.firstDay)%7]));a("body").append(A)}h.trigger&&(n=a("<a/>").attr("href","#").addClass(y.trigger).click(function(a){return h.toggle?v.toggle():v.show(),a.preventDefault()}).insertAfter(c));var J=A.find("#"+y.weeks),H=A.find("#"+y.year),G=A.find("#"+y.month);a.extend(v,{show:function(b){if(!(c.attr("readonly")||c.attr("disabled")||t||(b=b||a.Event(),b.type="onBeforeShow",F.trigger(b),b.isDefaultPrevented()))){a.each(j,function(){this.hide()}),t=!0,G.off("change").change(function(){v.setValue(e(H.val()),e(a(this).val()))}),H.off("change").change(function(){v.setValue(e(a(this).val()),e(G.val()))}),o=A.find("#"+y.prev).off("click").click(function(){return o.hasClass(y.disabled)||v.addMonth(-1),!1}),p=A.find("#"+y.next).off("click").click(function(){return p.hasClass(y.disabled)||v.addMonth(),!1}),v.setValue(C);var d=c.offset();return/iPad/i.test(navigator.userAgent)&&(d.top=d.top-a(window).scrollTop()),A.css({top:d.top+c.outerHeight({margins:!0})+h.offset[0],left:d.left+h.offset[1]}),h.speed?A.show(h.speed,function(){k(b)}):(A.show(),k(b)),v}},setValue:function(c,d,j){var k=e(d)>=-1?new Date(e(c),e(d),e(j==b||isNaN(j)?1:j)):c||C;if(D>k?k=D:k>E&&(k=E),"string"==typeof c&&(k=g(c)),c=k.getFullYear(),d=k.getMonth(),j=k.getDate(),-1==d?(d=11,c--):12==d&&(d=0,c++),!t)return i(k,h),v;r=d,q=c,s=j;var l,j=new Date(c,d,1-h.firstDay).getDay(),m=new Date(c,d+1,0).getDate(),n=new Date(c,d-1+1,0).getDate();if(h.selectors){G.empty(),a.each(z.months,function(b,d){D<new Date(c,b+1,1)&&E>new Date(c,b,0)&&G.append(a("<option/>").html(d).attr("value",b))}),H.empty();for(var k=w.getFullYear(),u=k+h.yearRange[0];u<k+h.yearRange[1];u++)D<new Date(u+1,0,1)&&E>new Date(u,0,0)&&H.append(a("<option/>").text(u));G.val(d),H.val(c)}else B.html(z.months[d]+" "+c);J.empty(),o.add(p).removeClass(y.disabled);for(var x,A,u=j?0:-7;(j?42:35)>u;u++)x=a("<a/>"),u%7===0&&(l=a("<div/>").addClass(y.week),J.append(l)),j>u?(x.addClass(y.off),A=n-j+u+1,k=new Date(c,d-1,A)):u>=j+m?(x.addClass(y.off),A=u-m-j+1,k=new Date(c,d+1,A)):(A=u-j+1,k=new Date(c,d,A),f(C,k)?x.attr("id",y.current).addClass(y.focus):f(w,k)&&x.attr("id",y.today)),D&&D>k&&x.add(o).addClass(y.disabled),E&&k>E&&x.add(p).addClass(y.disabled),x.attr("href","#"+A).text(A).data("date",k),l.append(x);return J.find("a").click(function(b){var c=a(this);return c.hasClass(y.disabled)||(a("#"+y.current).removeAttr("id"),c.attr("id",y.current),i(c.data("date"),h,b)),!1}),y.sunday&&J.find("."+y.week).each(function(){var b=h.firstDay?7-h.firstDay:0;a(this).children().slice(b,b+1).addClass(y.sunday)}),
v},setMin:function(a,b){return D=g(a),b&&D>C&&v.setValue(D),v},setMax:function(a,b){return E=g(a),b&&C>E&&v.setValue(E),v},today:function(){return v.setValue(w)},addDay:function(a){return this.setValue(q,r,s+(a||1))},addMonth:function(a){var a=r+(a||1),b=new Date(q,a+1,0).getDate();return this.setValue(q,a,b>=s?s:b)},addYear:function(a){return this.setValue(q+(a||1),r,s)},destroy:function(){c.add(document).off("click.d keydown.d"),A.add(n).remove(),c.removeData("dateinput").removeClass(y.input),u&&c.replaceWith(u)},hide:function(b){if(t){if(b=a.Event(),b.type="onHide",F.trigger(b),b.isDefaultPrevented())return;a(document).off("click.d keydown.d"),A.hide(),t=!1}return v},toggle:function(){return v.isOpen()?v.hide():v.show()},getConf:function(){return h},getInput:function(){return c},getCalendar:function(){return A},getValue:function(a){return a?d(h.formatter,C,a,h.lang):C},isOpen:function(){return t}}),a.each(["onBeforeShow","onShow","change","onHide"],function(b,c){a.isFunction(h[c])&&a(v).on(c,h[c]),v[c]=function(b){return b&&a(v).on(c,b),v}}),h.editable||c.on("focus.d click.d",v.show).keydown(function(b){var d=b.keyCode;return!t&&a(l).index(d)>=0?(v.show(b),b.preventDefault()):((8==d||46==d)&&c.val(""),b.shiftKey||b.ctrlKey||b.altKey||9==d?!0:b.preventDefault())}),g(c.val())&&i(C,h)}a.tools=a.tools||{version:"@VERSION"};var i,j=[],k={},l=[75,76,38,39,74,72,40,37],m={};i=a.tools.dateinput={conf:{format:"mm/dd/yy",formatter:"default",selectors:!1,yearRange:[-5,5],lang:"en",offset:[0,0],speed:0,firstDay:0,min:b,max:b,trigger:0,toggle:0,editable:0,css:{prefix:"cal",input:"date",root:0,head:0,title:0,prev:0,next:0,month:0,year:0,days:0,body:0,weeks:0,today:0,current:0,week:0,off:0,sunday:0,focus:0,disabled:0,trigger:0}},addFormatter:function(a,b){k[a]=b},localize:function(b,c){a.each(c,function(a,b){c[a]=b.split(",")}),m[b]=c}},i.localize("en",{months:"January,February,March,April,May,June,July,August,September,October,November,December",shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec",days:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday",shortDays:"Sun,Mon,Tue,Wed,Thu,Fri,Sat"});var n=a("<a/>");i.addFormatter("default",function(a,b,c){return a.replace(/d{1,4}|m{1,4}|yy(?:yy)?|"[^"]*"|'[^']*'/g,function(a){return a in c?c[a]:a})}),i.addFormatter("prefixed",function(a,b,c){return a.replace(/%(d{1,4}|m{1,4}|yy(?:yy)?|"[^"]*"|'[^']*')/g,function(a,b){return b in c?c[b]:a})}),a.expr[":"].date=function(b){var c=b.getAttribute("type");return c&&"date"==c||!!a(b).data("dateinput")},a.fn.dateinput=function(b){if(this.data("dateinput"))return this;b=a.extend(!0,{},i.conf,b),a.each(b.css,function(a,c){!c&&"prefix"!=a&&(b.css[a]=(b.css.prefix||"")+(c||a))});var c;return this.each(function(){var d=new h(a(this),b);j.push(d),d=d.getInput().data("dateinput",d),c=c?c.add(d):d}),c?c:this}}(jQuery),function(a){function b(a,b){var c=Math.pow(10,b);return Math.round(a*c)/c}function c(a,b){var c=parseInt(a.css(b),10);return c?c:(c=a[0].currentStyle)&&c.width&&parseInt(c.width,10)}function d(a){return(a=a.data("events"))&&a.onSlide}function e(e,f){function g(a,c,d,g){if(void 0===d?d=c/m*s:g&&(d-=f.min),t&&(d=Math.round(d/t)*t),(void 0===c||t)&&(c=d*m/s),isNaN(d))return n;c=Math.max(0,Math.min(c,m)),d=c/m*s,(g||!j)&&(d+=f.min),j&&(g?c=m-c:d=f.max-d);var d=b(d,u),h="click"==a.type;return x&&void 0!==k&&!h&&(a.type="onSlide",w.trigger(a,[d,c]),a.isDefaultPrevented())?n:(g=h?f.speed:0,h=h?function(){a.type="change",w.trigger(a,[d])}:null,j?(q.animate({top:c},g,h),f.progress&&r.animate({height:m-c+q.height()/2},g)):(q.animate({left:c},g,h),f.progress&&r.animate({width:c+q.width()/2},g)),k=d,e.val(d),n)}function h(){(j=f.vertical||c(p,"height")>c(p,"width"))?(m=c(p,"height")-c(q,"height"),l=p.offset().top+m):(m=c(p,"width")-c(q,"width"),l=p.offset().left)}function i(){h(),n.setValue(void 0!==f.value?f.value:f.min)}var j,k,l,m,n=this,o=f.css,p=a("<div><div/><a href='#'/></div>").data("rangeinput",n);e.before(p);var q=p.addClass(o.slider).find("a").addClass(o.handle),r=p.find("div").addClass(o.progress);a.each(["min","max","step","value"],function(a,b){var c=e.attr(b);parseFloat(c)&&(f[b]=parseFloat(c,10))});var s=f.max-f.min,t="any"==f.step?0:f.step,u=f.precision;if(void 0===u&&(u=t.toString().split("."),u=2===u.length?u[1].length:0),"range"==e.attr("type")){var v=e.clone().wrap("<div/>").parent().html(),v=a(v.replace(/type/i,"type=text data-orig-type"));v.val(f.value),e.replaceWith(v),e=v}e.addClass(o.input);var w=a(n).add(e),x=!0;a.extend(n,{getValue:function(){return k},setValue:function(b,c){return h(),g(c||a.Event("api"),void 0,b,!0)},getConf:function(){return f},getProgress:function(){return r},getHandle:function(){return q},getInput:function(){return e},step:function(b,c){c=c||a.Event(),n.setValue(k+("any"==f.step?1:f.step)*(b||1),c)},stepUp:function(a){return n.step(a||1)},stepDown:function(a){return n.step(-a||-1)}}),a.each(["onSlide","change"],function(b,c){a.isFunction(f[c])&&a(n).on(c,f[c]),n[c]=function(b){return b&&a(n).on(c,b),n}}),q.drag({drag:!1}).on("dragStart",function(){h(),x=d(a(n))||d(e)}).on("drag",function(a,b,c){return e.is(":disabled")?!1:void g(a,j?b:c)}).on("dragEnd",function(a){a.isDefaultPrevented()||(a.type="change",w.trigger(a,[k]))}).click(function(a){return a.preventDefault()}),p.click(function(a){if(e.is(":disabled")||a.target==q[0])return a.preventDefault();h();var b=j?q.height()/2:q.width()/2;g(a,j?m-l-b+a.pageY:a.pageX-l-b)}),f.keyboard&&e.keydown(function(b){if(!e.attr("readonly")){var c=b.keyCode,d=-1!=a([75,76,38,33,39]).index(c),f=-1!=a([74,72,40,34,37]).index(c);if((d||f)&&!b.shiftKey&&!b.altKey&&!b.ctrlKey)return d?n.step(33==c?10:1,b):f&&n.step(34==c?-10:-1,b),b.preventDefault()}}),e.blur(function(b){var c=a(this).val();c!==k&&n.setValue(c,b)}),a.extend(e[0],{stepUp:n.stepUp,stepDown:n.stepDown}),i(),m||a(window).load(i)}a.tools=a.tools||{version:"@VERSION"};var f;f=a.tools.rangeinput={conf:{min:0,max:100,step:"any",steps:0,value:0,precision:void 0,vertical:0,keyboard:!0,progress:!1,speed:100,css:{input:"range",slider:"slider",progress:"progress",handle:"handle"}}};var g,h;a.fn.drag=function(b){return document.ondragstart=function(){return!1},b=a.extend({x:!0,y:!0,drag:!0},b),g=g||a(document).on("mousedown mouseup",function(c){var d=a(c.target);if("mousedown"==c.type&&d.data("drag")){var e=d.position(),f=c.pageX-e.left,i=c.pageY-e.top,j=!0;g.on("mousemove.drag",function(a){var c=a.pageX-f,a=a.pageY-i,e={};b.x&&(e.left=c),b.y&&(e.top=a),j&&(d.trigger("dragStart"),j=!1),b.drag&&d.css(e),d.trigger("drag",[a,c]),h=d}),c.preventDefault()}else try{h&&h.trigger("dragEnd")}finally{g.off("mousemove.drag"),h=null}}),this.data("drag",!0)},a.expr[":"].range=function(b){var c=b.getAttribute("type");return c&&"range"==c||!!a(b).filter("input").data("rangeinput")},a.fn.rangeinput=function(b){if(this.data("rangeinput"))return this;var c,b=a.extend(!0,{},f.conf,b);return this.each(function(){var d=new e(a(this),a.extend(!0,{},b)),d=d.getInput().data("rangeinput",d);c=c?c.add(d):d}),c?c:this}}(jQuery),function(a){function b(b,c,d){var c=a(c).first()||c,e=b.offset().top,f=b.offset().left,g=d.position.split(/,?\s+/),h=g[0],g=g[1],e=e-(c.outerHeight()-d.offset[0]),f=f+(b.outerWidth()+d.offset[1]);return/iPad/i.test(navigator.userAgent)&&(e-=a(window).scrollTop()),d=c.outerHeight()+b.outerHeight(),"center"==h&&(e+=d/2),"bottom"==h&&(e+=d),b=b.outerWidth(),"center"==g&&(f-=(b+c.outerWidth())/2),"left"==g&&(f-=b),{top:e,left:f}}function c(a){function b(){return this.getAttribute("type")==a}return b.key='[type="'+a+'"]',b}function d(c,d,f){function g(b,c,d){if(f.grouped||!b.length){var g;!1===d||a.isArray(d)?(g=e.messages[c.key||c]||e.messages["*"],g=g[f.lang]||e.messages["*"].en,(c=g.match(/\$\d/g))&&a.isArray(d)&&a.each(c,function(a){g=g.replace(this,d[a])})):g=d[f.lang]||d,b.push(g)}}var i=this,j=d.add(i),c=c.not(":button, :image, :reset, :submit");d.attr("novalidate","novalidate"),a.extend(i,{getConf:function(){return f},getForm:function(){return d},getInputs:function(){return c},reflow:function(){return c.each(function(){var c=a(this),d=c.data("msg.el");d&&(c=b(c,d,f),d.css({top:c.top,left:c.left}))}),i},invalidate:function(b,d){if(!d){var e=[];a.each(b,function(a,b){var d=c.filter("[name='"+a+"']");d.length&&(d.trigger("OI",[b]),e.push({input:d,messages:[b]}))}),b=e,d=a.Event()}return d.type="onFail",j.trigger(d,[b]),d.isDefaultPrevented()||l[f.effect][0].call(i,b,d),i},reset:function(b){return b=b||c,b.removeClass(f.errorClass).each(function(){var b=a(this).data("msg.el");b&&(b.remove(),a(this).data("msg.el",null))}).off(f.errorInputEvent+".v"||""),i},destroy:function(){return d.off(f.formEvent+".V reset.V"),c.off(f.inputEvent+".V change.V"),i.reset()},checkValidity:function(b,d){var b=b||c,b=b.not(":disabled"),e={},b=b.filter(function(){var b=a(this).attr("name");return e[b]?void 0:(e[b]=!0,a(this))});if(!b.length)return!0;if(d=d||a.Event(),d.type="onBeforeValidate",j.trigger(d,[b]),d.isDefaultPrevented())return d.result;var m=[];b.each(function(){var b=[],c=a(this).data("messages",b),e=h&&c.is(":date")?"onHide.v":f.errorInputEvent+".v";return c.off(e),a.each(k,function(){var a=this[0];if(c.filter(a).length){var e=this[1].call(i,c,c.val());if(!0!==e){if(d.type="onBeforeFail",j.trigger(d,[c,a]),d.isDefaultPrevented())return!1;var h=c.attr(f.messageAttr);if(h)return b=[h],!1;g(b,a,e)}}}),b.length&&(m.push({input:c,messages:b}),c.trigger("OI",[b]),f.errorInputEvent)&&c.on(e,function(a){i.checkValidity(c,a)}),f.singleError&&m.length?!1:void 0});var n=l[f.effect];if(!n)throw'Validator: cannot find effect "'+f.effect+'"';return m.length?(i.invalidate(m,d),!1):(n[1].call(i,b,d),d.type="onSuccess",j.trigger(d,[b]),b.off(f.errorInputEvent+".v"),!0)}}),a.each(["onBeforeValidate","onBeforeFail","onFail","onSuccess"],function(b,c){a.isFunction(f[c])&&a(i).on(c,f[c]),i[c]=function(b){return b&&a(i).on(c,b),i}}),f.formEvent&&d.on(f.formEvent+".V",function(a){return i.checkValidity(null,a)?(a.target=d,void(a.type=f.formEvent)):a.preventDefault()}),d.on("reset.V",function(){i.reset()}),c[0]&&c[0].validity&&c.each(function(){this.oninvalid=function(){return!1}}),d[0]&&(d[0].checkValidity=i.checkValidity),f.inputEvent&&c.on(f.inputEvent+".V",function(b){i.checkValidity(a(this),b)}),c.filter(":checkbox, select").filter("[required]").on("change.V",function(b){var c=a(this);(this.checked||c.is("select")&&a(this).val())&&l[f.effect][1].call(i,c,b)}),c.filter(":radio[required]").on("change.V",function(b){var c=a("[name='"+a(b.srcElement).attr("name")+"']");null!=c&&0!=c.length&&i.checkValidity(c,b)}),a(window).resize(function(){i.reflow()})}a.tools=a.tools||{version:"@VERSION"};var e,f=/\[type=([a-z]+)\]/,g=/^-?[0-9]*(\.[0-9]+)?$/,h=a.tools.dateinput,i=/^([a-z0-9_\.\-\+]+)@([\da-z\.\-]+)\.([a-z\.]{2,6})$/i,j=/^(https?:\/\/)?[\da-z\.\-]+\.[a-z\.]{2,6}[#&+_\?\/\w \.\-=]*$/i;e=a.tools.validator={conf:{grouped:!1,effect:"default",errorClass:"invalid",inputEvent:null,errorInputEvent:"keyup",formEvent:"submit",lang:"en",message:"<div/>",messageAttr:"data-message",messageClass:"error",offset:[0,0],position:"center right",singleError:!1,speed:"normal"},messages:{"*":{en:"Please correct this value"}},localize:function(b,c){a.each(c,function(a,c){e.messages[a]=e.messages[a]||{},e.messages[a][b]=c})},localizeFn:function(b,c){e.messages[b]=e.messages[b]||{},a.extend(e.messages[b],c)},fn:function(b,d,e){a.isFunction(d)?e=d:("string"==typeof d&&(d={en:d}),this.messages[b.key||b]=d),(d=f.exec(b))&&(b=c(d[1])),k.push([b,e])},addEffect:function(a,b,c){l[a]=[b,c]}};var k=[],l={"default":[function(c){var d=this.getConf();a.each(c,function(c,e){var f=e.input;f.addClass(d.errorClass);var g=f.data("msg.el");g||(g=a(d.message).addClass(d.messageClass).appendTo(document.body),f.data("msg.el",g)),g.css({visibility:"hidden"}).find("p").remove(),a.each(e.messages,function(b,c){a("<p/>").html(c).appendTo(g)}),g.outerWidth()==g.parent().width()&&g.add(g.find("p")).css({display:"inline"}),f=b(f,g,d),g.css({visibility:"visible",position:"absolute",top:f.top,left:f.left}).fadeIn(d.speed)})},function(b){var c=this.getConf();b.removeClass(c.errorClass).each(function(){var b=a(this).data("msg.el");b&&b.css({visibility:"hidden"})})}]};a.each(["email","url","number"],function(b,c){a.expr[":"][c]=function(a){return a.getAttribute("type")===c}}),a.fn.oninvalid=function(a){return this[a?"on":"trigger"]("OI",a)},e.fn(":email","Please enter a valid email address",function(a,b){return!b||i.test(b)}),e.fn(":url","Please enter a valid URL",function(a,b){return!b||j.test(b)}),e.fn(":number","Please enter a numeric value.",function(a,b){return g.test(b)}),e.fn("[max]","Please enter a value no larger than $1",function(a,b){if(""===b||h&&a.is(":date"))return!0;var c=a.attr("max");return parseFloat(b)<=parseFloat(c)?!0:[c]}),e.fn("[min]","Please enter a value of at least $1",function(a,b){if(""===b||h&&a.is(":date"))return!0;var c=a.attr("min");return parseFloat(b)>=parseFloat(c)?!0:[c]}),e.fn("[required]","Please complete this mandatory field.",function(a,b){return a.is(":checkbox")?a.is(":checked"):!!b}),e.fn("[pattern]",function(a,b){return""===b||RegExp("^"+a.attr("pattern")+"$").test(b)}),e.fn(":radio","Please select an option.",function(b){var c=!1;return a("[name='"+b.attr("name")+"']").each(function(b,d){a(d).is(":checked")&&(c=!0)}),c?!0:!1}),a.fn.validator=function(b){var c=this.data("validator");return c&&(c.destroy(),this.removeData("validator")),b=a.extend(!0,{},e.conf,b),this.is("form")?this.each(function(){var e=a(this);c=new d(e.find(":input"),e,b),e.data("validator",c)}):(c=new d(this,this.eq(0).closest("form"),b),this.data("validator",c))}}(jQuery),function(a){function b(a,b,c){this.dec=a,this.group=b,this.neg=c}function c(){for(var a=0;a<k.length;a++)for(var b=k[a],c=0;c<b.length;c++)e.put(b[c],a)}function d(a,d){0==e.size()&&c();var f=".",g=",",h="-";0==d&&(-1!=a.indexOf("_")?a=a.split("_")[1].toLowerCase():-1!=a.indexOf("-")&&(a=a.split("-")[1].toLowerCase()));var i=e.get(a);if(i){var k=j[i];k&&(f=k[0],g=k[1])}return new b(f,g,h)}var e=new Hashtable,f=["ae","au","ca","cn","eg","gb","hk","il","in","jp","sk","th","tw","us"],g=["at","br","de","dk","es","gr","it","nl","pt","tr","vn"],h=["bg","cz","fi","fr","no","pl","ru","se"],i=["ch"],j=[[".",","],[",","."],[","," "],[".","'"]],k=[f,g,h,i];a.fn.formatNumber=function(b,c,d){return this.each(function(){null==c&&(c=!0),null==d&&(d=!0);var e;e=a(this).is(":input")?new String(a(this).val()):new String(a(this).text());var f=a.formatNumber(e,b);return c&&(a(this).is(":input")?a(this).val(f):a(this).text(f)),d?f:void 0})},a.formatNumber=function(b,c){for(var c=a.extend({},a.fn.formatNumber.defaults,c),e=d(c.locale.toLowerCase(),c.isFullLocale),f=(e.dec,e.group,e.neg,"0#-,."),g="",h=!1,i=0;i<c.format.length;i++){if(-1!=f.indexOf(c.format.charAt(i))){if(0==i&&"-"==c.format.charAt(i)){h=!0;continue}break}g+=c.format.charAt(i)}for(var j="",i=c.format.length-1;i>=0&&-1==f.indexOf(c.format.charAt(i));i--)j=c.format.charAt(i)+j;c.format=c.format.substring(g.length),c.format=c.format.substring(0,c.format.length-j.length);var k=new Number(b);return a._formatNumber(k,c,j,g,h)},a._formatNumber=function(b,c,e,f,g){var c=a.extend({},a.fn.formatNumber.defaults,c),h=d(c.locale.toLowerCase(),c.isFullLocale),i=h.dec,j=h.group,k=h.neg;null!=c.overrideGroupSep&&(j=c.overrideGroupSep),null!=c.overrideDecSep&&(i=c.overrideDecSep),null!=c.overrideNegSign&&(k=c.overrideNegSign);var l=!1;if(isNaN(b)){if(1!=c.nanForceZero)return"";b=0,l=!0}(1==c.isPercentage||c.autoDetectPercentage&&"%"==e.charAt(e.length-1))&&(b=100*b);var m="";if(c.format.indexOf(".")>-1){var n=i,o=c.format.substring(c.format.lastIndexOf(".")+1);if(1==c.round)b=new Number(b.toFixed(o.length));else{var p=b.toString();p.lastIndexOf(".")>0&&(p=p.substring(0,p.lastIndexOf(".")+o.length+1)),b=new Number(p)}var q=new Number(b.toString().substring(b.toString().indexOf(".")));decimalString=new String(q.toFixed(o.length)),decimalString=decimalString.substring(decimalString.lastIndexOf(".")+1);for(var r=0;r<o.length;r++)if("#"!=o.charAt(r)||"0"==decimalString.charAt(r)){if("#"==o.charAt(r)&&"0"==decimalString.charAt(r)){var s=decimalString.substring(r);if(s.match("[1-9]")){n+=decimalString.charAt(r);continue}break}"0"==o.charAt(r)&&(n+=decimalString.charAt(r))}else n+=decimalString.charAt(r);m+=n}else b=Math.round(b);var t=Math.floor(b);0>b&&(t=Math.ceil(b));var u="";u=-1==c.format.indexOf(".")?c.format:c.format.substring(0,c.format.indexOf("."));var v="";if(0!=t||"#"!=u.substr(u.length-1)||l){var w=new String(Math.abs(t)),x=9999;-1!=u.lastIndexOf(",")&&(x=u.length-u.lastIndexOf(",")-1);for(var y=0,r=w.length-1;r>-1;r--)v=w.charAt(r)+v,y++,y==x&&0!=r&&(v=j+v,y=0);if(u.length>v.length){var z=u.indexOf("0");if(-1!=z)for(var A=u.length-z,B=u.length-v.length-1;v.length<A;){var C=u.charAt(B);","==C&&(C=j),v=C+v,B--}}}return v||-1===u.indexOf("0",u.length-1)||(v="0"),m=v+m,0>b&&g&&f.length>0?f=k+f:0>b&&(m=k+m),c.decimalSeparatorAlwaysShown||m.lastIndexOf(i)==m.length-1&&(m=m.substring(0,m.length-1)),m=f+m+e},a.fn.parseNumber=function(b,c,d){null==c&&(c=!0),null==d&&(d=!0);var e;e=a(this).is(":input")?new String(a(this).val()):new String(a(this).text());var f=a.parseNumber(e,b);return f&&(c&&(a(this).is(":input")?a(this).val(f.toString()):a(this).text(f.toString())),d)?f:void 0},a.parseNumber=function(b,c){var c=a.extend({},a.fn.parseNumber.defaults,c),e=d(c.locale.toLowerCase(),c.isFullLocale),f=e.dec,g=e.group,h=e.neg;null!=c.overrideGroupSep&&(g=c.overrideGroupSep),null!=c.overrideDecSep&&(f=c.overrideDecSep),null!=c.overrideNegSign&&(h=c.overrideNegSign);for(var i="1234567890",j=".-",k=c.strict;b.indexOf(g)>-1;)b=b.replace(g,"");b=b.replace(f,".").replace(h,"-");var l="",m=!1;(1==c.isPercentage||c.autoDetectPercentage&&"%"==b.charAt(b.length-1))&&(m=!0);for(var n=0;n<b.length;n++)if(i.indexOf(b.charAt(n))>-1)l+=b.charAt(n);else if(j.indexOf(b.charAt(n))>-1)l+=b.charAt(n),j=j.replace(b.charAt(n),"");else{if(c.allowPostfix)break;if(k){l="NaN";break}}var o=new Number(l);if(m){o/=100;var p=l.indexOf(".");if(-1!=p){var q=l.length-p-1;o=o.toFixed(q+2)}else o=o.toFixed(2)}return o},a.fn.parseNumber.defaults={locale:"us",decimalSeparatorAlwaysShown:!1,isPercentage:!1,autoDetectPercentage:!0,isFullLocale:!1,strict:!1,overrideGroupSep:null,overrideDecSep:null,overrideNegSign:null,allowPostfix:!1},a.fn.formatNumber.defaults={format:"#,###.00",locale:"us",decimalSeparatorAlwaysShown:!1,nanForceZero:!0,round:!0,isFullLocale:!1,overrideGroupSep:null,overrideDecSep:null,overrideNegSign:null,isPercentage:!1,autoDetectPercentage:!0},Number.prototype.toFixed=function(b){return a._roundNumber(this,b)},a._roundNumber=function(a,b){var c=Math.pow(10,b||0),d=String(Math.round(a*c)/c);if(b>0){var e=d.indexOf(".");for(-1==e?(d+=".",e=0):e=d.length-(e+1);b>e;)d+="0",e++}return d}}(jQuery),function(a){function b(b,c){var d,e,f=this,g=navigator.userAgent.toLowerCase();f.uid=a.rsModules.uid++,f.ns=".rs"+f.uid;var h=document.createElement("div").style,i=["webkit","Moz","ms","O"],j="",k=0;for(d=0;d<i.length;d++)e=i[d],!j&&e+"Transform"in h&&(j=e),e=e.toLowerCase(),window.requestAnimationFrame||(window.requestAnimationFrame=window[e+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e+"CancelAnimationFrame"]||window[e+"CancelRequestAnimationFrame"]);window.requestAnimationFrame||(window.requestAnimationFrame=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-k)),d=window.setTimeout(function(){a(b+c)},c);return k=b+c,d}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)}),f.isIPAD=g.match(/(ipad)/),i=/(chrome)[ \/]([\w.]+)/.exec(g)||/(webkit)[ \/]([\w.]+)/.exec(g)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(g)||/(msie) ([\w.]+)/.exec(g)||0>g.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(g)||[],d=i[1]||"",e=i[2]||"0",i={},d&&(i[d]=!0,i.version=e),i.chrome&&(i.webkit=!0),f._a=i,f.isAndroid=-1<g.indexOf("android"),f.slider=a(b),f.ev=a(f),f._b=a(document),f.st=a.extend({},a.fn.royalSlider.defaults,c),f._c=f.st.transitionSpeed,f._d=0,!f.st.allowCSS3||i.webkit&&!f.st.allowCSS3OnWebkit||(g=j+(j?"T":"t"),f._e=g+"ransform"in h&&g+"ransition"in h,f._e&&(f._f=j+(j?"P":"p")+"erspective"in h)),j=j.toLowerCase(),f._g="-"+j+"-",f._h="vertical"===f.st.slidesOrientation?!1:!0,f._i=f._h?"left":"top",f._j=f._h?"width":"height",f._k=-1,f._l="fade"===f.st.transitionType?!1:!0,f._l||(f.st.sliderDrag=!1,f._m=10),f._n="z-index:0; display:none; opacity:0;",f._o=0,f._p=0,f._q=0,a.each(a.rsModules,function(a,b){"uid"!==a&&b.call(f)}),f.slides=[],f._r=0,(f.st.slides?a(f.st.slides):f.slider.children().detach()).each(function(){f._s(this,!0)}),f.st.randomizeSlides&&f.slides.sort(function(){return.5-Math.random()}),f.numSlides=f.slides.length,f._t(),f.st.startSlideId?f.st.startSlideId>f.numSlides-1&&(f.st.startSlideId=f.numSlides-1):f.st.startSlideId=0,f._o=f.staticSlideId=f.currSlideId=f._u=f.st.startSlideId,f.currSlide=f.slides[f.currSlideId],f._v=0,f.msTouch=!1,f.slider.addClass((f._h?"rsHor":"rsVer")+(f._l?"":" rsFade")),h='<div class="rsOverflow"><div class="rsContainer">',f.slidesSpacing=f.st.slidesSpacing,f._w=(f._h?f.slider.width():f.slider.height())+f.st.slidesSpacing,f._x=Boolean(0<f._y),1>=f.numSlides&&(f._z=!1),f._a1=f._z&&f._l?2===f.numSlides?1:2:0,f._b1=6>f.numSlides?f.numSlides:6,f._c1=0,f._d1=0,f.slidesJQ=[];for(d=0;d<f.numSlides;d++)f.slidesJQ.push(a('<div style="'+(f._l?"":d!==f.currSlideId?f._n:"z-index:0;")+'" class="rsSlide "></div>'));f._e1=h=a(h+"</div></div>"),j=f.ns,f.msEnabled=window.navigator.msPointerEnabled,f.msEnabled?(f.msTouch=Boolean(1<window.navigator.msMaxTouchPoints),f.hasTouch=!1,f._n1=.2,f._j1="MSPointerDown"+j,f._k1="MSPointerMove"+j,f._l1="MSPointerUp"+j,f._m1="MSPointerCancel"+j):(f._j1="mousedown"+j,f._k1="mousemove"+j,f._l1="mouseup"+j,f._m1="mouseup"+j,"ontouchstart"in window||"createTouch"in document?(f.hasTouch=!0,f._j1+=" touchstart"+j,f._k1+=" touchmove"+j,f._l1+=" touchend"+j,f._m1+=" touchcancel"+j,f._n1=.5,f.st.sliderTouch&&(f._f1=!0)):(f.hasTouch=!1,f._n1=.2)),f.st.sliderDrag&&(f._f1=!0,i.msie||i.opera?f._g1=f._h1="move":i.mozilla?(f._g1="-moz-grab",f._h1="-moz-grabbing"):i.webkit&&-1!=navigator.platform.indexOf("Mac")&&(f._g1="-webkit-grab",f._h1="-webkit-grabbing"),f._i1()),f.slider.html(h),f._o1=f.st.controlsInside?f._e1:f.slider,f._p1=f._e1.children(".rsContainer"),f.msEnabled&&f._p1.css("-ms-touch-action",f._h?"pan-y":"pan-x"),f._q1=a('<div class="rsPreloader"></div>'),h=f._p1.children(".rsSlide"),f._r1=f.slidesJQ[f.currSlideId],f._s1=0,f._e?(f._t1="transition-property",f._u1="transition-duration",f._v1="transition-timing-function",f._w1=f._x1=f._g+"transform",f._f?(i.webkit&&!i.chrome&&f.slider.addClass("rsWebkit3d"),/iphone|ipad|ipod/gi.test(navigator.appVersion),f._y1="translate3d(",f._z1="px, ",f._a2="px, 0px)"):(f._y1="translate(",f._z1="px, ",f._a2="px)"),f._l?f._p1[f._g+f._t1]=f._g+"transform":(j={},j[f._g+f._t1]="opacity",j[f._g+f._u1]=f.st.transitionSpeed+"ms",j[f._g+f._v1]=f.st.css3easeInOut,h.css(j))):(f._x1="left",f._w1="top");var l;a(window).on("resize"+f.ns,function(){l&&clearTimeout(l),l=setTimeout(function(){f.updateSliderSize()},50)}),f.ev.trigger("rsAfterPropsSetup"),f.updateSliderSize(),f.st.keyboardNavEnabled&&f._b2(),f.st.arrowsNavHideOnTouch&&(f.hasTouch||f.msTouch)&&(f.st.arrowsNav=!1),f.st.arrowsNav&&(h=f._o1,a('<div class="rsArrow rsArrowLeft"><div class="rsArrowIcn"></div></div><div class="rsArrow rsArrowRight"><div class="rsArrowIcn"></div></div>').appendTo(h),f._c2=h.children(".rsArrowLeft").click(function(a){a.preventDefault(),f.prev()}),f._d2=h.children(".rsArrowRight").click(function(a){a.preventDefault(),f.next()}),f.st.arrowsNavAutoHide&&!f.hasTouch&&(f._c2.addClass("rsHidden"),f._d2.addClass("rsHidden"),h.one("mousemove.arrowshover",function(){f._c2.removeClass("rsHidden"),f._d2.removeClass("rsHidden")}),h.hover(function(){f._e2||(f._c2.removeClass("rsHidden"),f._d2.removeClass("rsHidden"))},function(){f._e2||(f._c2.addClass("rsHidden"),f._d2.addClass("rsHidden"))})),f.ev.on("rsOnUpdateNav",function(){f._f2()}),f._f2()),f._f1?f._p1.on(f._j1,function(a){f._g2(a)}):f.dragSuccess=!1;var m=["rsPlayBtnIcon","rsPlayBtn","rsCloseVideoBtn","rsCloseVideoIcn"];f._p1.click(function(b){if(!f.dragSuccess){var c=a(b.target).attr("class");if(-1!==a.inArray(c,m)&&f.toggleVideo())return!1;if(f.st.navigateByClick&&!f._h2){if(a(b.target).closest(".rsNoDrag",f._r1).length)return!0;f._i2(b)}f.ev.trigger("rsSlideClick")}}).on("click.rs","a",function(){return f.dragSuccess?!1:(f._h2=!0,void setTimeout(function(){f._h2=!1},3))}),f.ev.trigger("rsAfterInit")}a.rsModules||(a.rsModules={uid:0}),b.prototype={constructor:b,_i2:function(a){a=a[this._h?"pageX":"pageY"]-this._j2,a>=this._q?this.next():0>a&&this.prev()},_t:function(){var a;a=this.st.numImagesToPreload,(this._z=this.st.loop)&&(2===this.numSlides?(this._z=!1,this.st.loopRewind=!0):2>this.numSlides&&(this.st.loopRewind=this._z=!1)),this._z&&a>0&&(4>=this.numSlides?a=1:this.st.numImagesToPreload>(this.numSlides-1)/2&&(a=Math.floor((this.numSlides-1)/2))),this._y=a},_s:function(b,c){function d(a,b){if(b?h.images.push(a.attr(b)):h.images.push(a.text()),i){i=!1,h.caption="src"===b?a.attr("alt"):a.contents(),h.image=h.images[0],h.videoURL=a.attr("data-rsVideo");var c=a.attr("data-rsw"),d=a.attr("data-rsh");"undefined"!=typeof c&&!1!==c&&"undefined"!=typeof d&&!1!==d?(h.iW=parseInt(c,10),h.iH=parseInt(d,10)):g.st.imgWidth&&g.st.imgHeight&&(h.iW=g.st.imgWidth,h.iH=g.st.imgHeight)}}var e,f,g=this,h={},i=!0;return b=a(b),g._k2=b,g.ev.trigger("rsBeforeParseNode",[b,h]),h.stopParsing?void 0:(b=g._k2,h.id=g._r,h.contentAdded=!1,g._r++,h.images=[],h.isBig=!1,h.hasCover||(b.hasClass("rsImg")?(f=b,e=!0):(f=b.find(".rsImg"),f.length&&(e=!0)),e?(h.bigImage=f.eq(0).attr("data-rsBigImg"),f.each(function(){var b=a(this);b.is("a")?d(b,"href"):b.is("img")?d(b,"src"):d(b)})):b.is("img")&&(b.addClass("rsImg rsMainSlideImage"),d(b,"src"))),f=b.find(".rsCaption"),f.length&&(h.caption=f.remove()),h.content=b,g.ev.trigger("rsAfterParseNode",[b,h]),c&&g.slides.push(h),0===h.images.length&&(h.isLoaded=!0,h.isRendered=!1,h.isLoading=!1,h.images=null),h)},_b2:function(){var a,b,c=this,d=function(a){37===a?c.prev():39===a&&c.next()};c._b.on("keydown"+c.ns,function(e){c._l2||(b=e.keyCode,37!==b&&39!==b||a)||(d(b),a=setInterval(function(){d(b)},700))}).on("keyup"+c.ns,function(){a&&(clearInterval(a),a=null)})},goTo:function(a,b){a!==this.currSlideId&&this._m2(a,this.st.transitionSpeed,!0,!b)},destroy:function(b){this.ev.trigger("rsBeforeDestroy"),this._b.off("keydown"+this.ns+" keyup"+this.ns+" "+this._k1+" "+this._l1),this._p1.off(this._j1+" click"),this.slider.data("royalSlider",null),a.removeData(this.slider,"royalSlider"),a(window).off("resize"+this.ns),b&&this.slider.remove(),this.ev=this.slider=this.slides=null},_n2:function(b,c){function d(c,d,g){c.isAdded?(e(d,c),f(d,c)):(g||(g=j.slidesJQ[d]),c.holder?g=c.holder:(g=j.slidesJQ[d]=a(g),c.holder=g),c.appendOnLoaded=!1,f(d,c,g),e(d,c),j._p2(c,g,b),c.isAdded=!0)}function e(a,c){c.contentAdded||(j.setItemHtml(c,b),b||(c.contentAdded=!0))}function f(a,b,c){j._l&&(c||(c=j.slidesJQ[a]),c.css(j._i,(a+j._d1+m)*j._w))}function g(a){if(k){if(a>l-1)return g(a-l);if(0>a)return g(l+a)}return a}var h,i,j=this,k=j._z,l=j.numSlides;if(!isNaN(c))return g(c);var m,n,o=j.currSlideId,p=b?Math.abs(j._o2-j.currSlideId)>=j.numSlides-1?0:1:j._y,q=Math.min(2,p),r=!1,s=!1;for(i=o;o+1+q>i;i++)if(n=g(i),(h=j.slides[n])&&(!h.isAdded||!h.positionSet)){r=!0;break}for(i=o-1;i>o-1-q;i--)if(n=g(i),(h=j.slides[n])&&(!h.isAdded||!h.positionSet)){s=!0;break}if(r)for(i=o;o+p+1>i;i++)n=g(i),m=Math.floor((j._u-(o-i))/j.numSlides)*j.numSlides,(h=j.slides[n])&&d(h,n);if(s)for(i=o-1;i>o-1-p;i--)n=g(i),m=Math.floor((j._u-(o-i))/l)*l,(h=j.slides[n])&&d(h,n);if(!b)for(q=g(o-p),o=g(o+p),p=q>o?0:q,i=0;l>i;i++)q>o&&i>q-1||!(p>i||i>o)||(h=j.slides[i])&&h.holder&&(h.holder.detach(),h.isAdded=!1)},setItemHtml:function(b,c){var d=this,e=function(){if(b.images){if(!b.isLoading){var c,e;if(b.content.hasClass("rsImg")?(c=b.content,e=!0):c=b.content.find(".rsImg:not(img)"),c&&!c.is("img")&&c.each(function(){var c=a(this),d='<img class="rsImg" src="'+(c.is("a")?c.attr("href"):c.text())+'" />';e?b.content=a(d):c.replaceWith(d)}),c=e?b.content:b.content.find("img.rsImg"),j(),c.eq(0).addClass("rsMainSlideImage"),b.iW&&b.iH&&(b.isLoaded||d._q2(b),h()),b.isLoading=!0,b.isBig)a("<img />").on("load.rs error.rs",function(){a(this).off("load.rs error.rs"),f([this],!0)}).attr("src",b.image);else{b.loaded=[],b.numStartedLoad=0,c=function(){a(this).off("load.rs error.rs"),b.loaded.push(this),b.loaded.length===b.numStartedLoad&&f(b.loaded,!1)};for(var g=0;g<b.images.length;g++){var i=a("<img />");b.numStartedLoad++,i.on("load.rs error.rs",c).attr("src",b.images[g])}}}}else b.isRendered=!0,b.isLoaded=!0,b.isLoading=!1,h(!0)},f=function(a,c){if(a.length){var d=a[0];if(c!==b.isBig)(d=b.holder.children())&&1<d.length&&k();else if(b.iW&&b.iH)g();else if(b.iW=d.width,b.iH=d.height,b.iW&&b.iH)g();else{var e=new Image;e.onload=function(){e.width?(b.iW=e.width,b.iH=e.height,g()):setTimeout(function(){e.width&&(b.iW=e.width,b.iH=e.height),g()},1e3)},e.src=d.src}}else g()},g=function(){b.isLoaded=!0,b.isLoading=!1,h(),k(),i()},h=function(){if(!b.isAppended&&d.ev){var a=d.st.visibleNearby,e=b.id-d._o;c||b.appendOnLoaded||!d.st.fadeinLoadedSlide||0!==e&&(!(a||d._r2||d._l2)||-1!==e&&1!==e)||(a={visibility:"visible",opacity:0},a[d._g+"transition"]="opacity 400ms ease-in-out",b.content.css(a),setTimeout(function(){b.content.css("opacity",1)},16)),b.holder.find(".rsPreloader").length?b.holder.append(b.content):b.holder.html(b.content),b.isAppended=!0,b.isLoaded&&(d._q2(b),i()),b.sizeReady||(b.sizeReady=!0,setTimeout(function(){d.ev.trigger("rsMaybeSizeReady",b)},100))}},i=function(){!b.loadedTriggered&&d.ev&&(b.isLoaded=b.loadedTriggered=!0,b.holder.trigger("rsAfterContentSet"),d.ev.trigger("rsAfterContentSet",b))},j=function(){d.st.usePreloader&&b.holder.html(d._q1.clone())},k=function(){if(d.st.usePreloader){var a=b.holder.find(".rsPreloader");a.length&&a.remove()}};b.isLoaded?h():c?!d._l&&b.images&&b.iW&&b.iH?e():(b.holder.isWaiting=!0,j(),b.holder.slideId=-99):e()},_p2:function(a){this._p1.append(a.holder),a.appendOnLoaded=!1},_g2:function(b,c){var d,e=this,f="touchstart"===b.type;if(e._s2=f,e.ev.trigger("rsDragStart"),a(b.target).closest(".rsNoDrag",e._r1).length)return e.dragSuccess=!1,!0;if(!c&&e._r2&&(e._t2=!0,e._u2()),e.dragSuccess=!1,e._l2)f&&(e._v2=!0);else{if(f&&(e._v2=!1),e._w2(),f){var g=b.originalEvent.touches;if(!(g&&0<g.length))return;d=g[0],1<g.length&&(e._v2=!0)}else b.preventDefault(),d=b,e.msEnabled&&(d=d.originalEvent);e._l2=!0,e._b.on(e._k1,function(a){e._x2(a,c)}).on(e._l1,function(a){e._y2(a,c)}),e._z2="",e._a3=!1,e._b3=d.pageX,e._c3=d.pageY,e._d3=e._v=(c?e._e3:e._h)?d.pageX:d.pageY,e._f3=0,e._g3=0,e._h3=c?e._i3:e._p,e._j3=(new Date).getTime(),f&&e._e1.on(e._m1,function(a){e._y2(a,c)})}},_k3:function(a,b){if(this._l3){var c=this._m3,d=a.pageX-this._b3,e=a.pageY-this._c3,f=this._h3+d,g=this._h3+e,h=b?this._e3:this._h,f=h?f:g,g=this._z2;this._a3=!0,this._b3=a.pageX,this._c3=a.pageY,"x"===g&&0!==d?this._f3=d>0?1:-1:"y"===g&&0!==e&&(this._g3=e>0?1:-1),g=h?this._b3:this._c3,d=h?d:e,b?f>this._n3?f=this._h3+d*this._n1:f<this._o3&&(f=this._h3+d*this._n1):this._z||(0>=this.currSlideId&&0<g-this._d3&&(f=this._h3+d*this._n1),this.currSlideId>=this.numSlides-1&&0>g-this._d3&&(f=this._h3+d*this._n1)),this._h3=f,200<c-this._j3&&(this._j3=c,this._v=g),b?this._q3(this._h3):this._l&&this._p3(this._h3)}},_x2:function(a,b){var c,d=this,e="touchmove"===a.type;if(!d._s2||e){if(e){if(d._r3)return;var f=a.originalEvent.touches;if(!f)return;if(1<f.length)return;c=f[0]}else c=a,d.msEnabled&&(c=c.originalEvent);if(d._a3||(d._e&&(b?d._s3:d._p1).css(d._g+d._u1,"0s"),function g(){d._l2&&(d._t3=requestAnimationFrame(g),d._u3&&d._k3(d._u3,b))}()),d._l3)a.preventDefault(),d._m3=(new Date).getTime(),
d._u3=c;else if(f=b?d._e3:d._h,c=Math.abs(c.pageX-d._b3)-Math.abs(c.pageY-d._c3)-(f?-7:7),c>7){if(f)a.preventDefault(),d._z2="x";else if(e)return void d._v3();d._l3=!0}else if(-7>c){if(f){if(e)return void d._v3()}else a.preventDefault(),d._z2="y";d._l3=!0}}},_v3:function(){this._r3=!0,this._a3=this._l2=!1,this._y2()},_y2:function(b,c){function d(a){return 100>a?100:a>500?500:a}function e(a,b){(j._l||c)&&(h=(-j._u-j._d1)*j._w,i=Math.abs(j._p-h),j._c=i/b,a&&(j._c+=250),j._c=d(j._c),j._x3(h,!1))}var f,g,h,i,j=this;if(g="touchend"===b.type||"touchcancel"===b.type,!j._s2||g)if(j._s2=!1,j.ev.trigger("rsDragRelease"),j._u3=null,j._l2=!1,j._r3=!1,j._l3=!1,j._m3=0,cancelAnimationFrame(j._t3),j._a3&&(c?j._q3(j._h3):j._l&&j._p3(j._h3)),j._b.off(j._k1).off(j._l1),g&&j._e1.off(j._m1),j._i1(),!j._a3&&!j._v2&&c&&j._w3){var k=a(b.target).closest(".rsNavItem");k.length&&j.goTo(k.index())}else{if(f=c?j._e3:j._h,!j._a3||"y"===j._z2&&f||"x"===j._z2&&!f){if(c||!j._t2)return j._t2=!1,void(j.dragSuccess=!1);if(j._t2=!1,j.st.navigateByClick)return j._i2(j.msEnabled?b.originalEvent:b),void(j.dragSuccess=!0);j.dragSuccess=!0}else j.dragSuccess=!0;j._t2=!1,j._z2="";var l=j.st.minSlideOffset;g=g?b.originalEvent.changedTouches[0]:j.msEnabled?b.originalEvent:b;var m=f?g.pageX:g.pageY,n=j._d3;g=j._v;var o=j.currSlideId,p=j.numSlides,q=f?j._f3:j._g3,r=j._z;if(Math.abs(m-n),f=m-g,g=(new Date).getTime()-j._j3,g=Math.abs(f)/g,0===q||1>=p)e(!0,g);else{if(!r&&!c)if(0>=o){if(q>0)return void e(!0,g)}else if(o>=p-1&&0>q)return void e(!0,g);if(c){if(h=j._i3,h>j._n3)h=j._n3;else if(h<j._o3)h=j._o3;else{if(l=g*g/.006,k=-j._i3,m=j._y3-j._z3+j._i3,f>0&&l>k?(k+=j._z3/(15/(.003*(l/g))),g=g*k/l,l=k):0>f&&l>m&&(m+=j._z3/(15/(.003*(l/g))),g=g*m/l,l=m),k=Math.max(Math.round(g/.003),50),h+=l*(0>f?-1:1),h>j._n3)return void j._a4(h,k,!0,j._n3,200);if(h<j._o3)return void j._a4(h,k,!0,j._o3,200)}j._a4(h,k,!0)}else m>n+l?0>q?e(!1,g):j._m2("prev",d(Math.abs(j._p-(-j._u-j._d1+1)*j._w)/g),!1,!0,!0):n-l>m?q>0?e(!1,g):j._m2("next",d(Math.abs(j._p-(-j._u-j._d1-1)*j._w)/g),!1,!0,!0):e(!1,g)}}},_p3:function(a){a=this._p=a,this._e?this._p1.css(this._x1,this._y1+(this._h?a+this._z1+0:0+this._z1+a)+this._a2):this._p1.css(this._h?this._x1:this._w1,a)},updateSliderSize:function(a){var b,c;if(this.st.autoScaleSlider){var d=this.st.autoScaleSliderWidth,e=this.st.autoScaleSliderHeight;this.st.autoScaleHeight?(b=this.slider.width(),b!=this.width&&(this.slider.css("height",b*(e/d)),b=this.slider.width()),c=this.slider.height()):(c=this.slider.height(),c!=this.height&&(this.slider.css("width",c*(d/e)),c=this.slider.height()),b=this.slider.width())}else b=this.slider.width(),c=this.slider.height();if(a||b!=this.width||c!=this.height){for(this.width=b,this.height=c,this._b4=b,this._c4=c,this.ev.trigger("rsBeforeSizeSet"),this.ev.trigger("rsAfterSizePropSet"),this._e1.css({width:this._b4,height:this._c4}),this._w=(this._h?this._b4:this._c4)+this.st.slidesSpacing,this._d4=this.st.imageScalePadding,b=0;b<this.slides.length;b++)a=this.slides[b],a.positionSet=!1,a&&a.images&&a.isLoaded&&(a.isRendered=!1,this._q2(a));if(this._e4)for(b=0;b<this._e4.length;b++)a=this._e4[b],a.holder.css(this._i,(a.id+this._d1)*this._w);this._n2(),this._l&&(this._e&&this._p1.css(this._g+"transition-duration","0s"),this._p3((-this._u-this._d1)*this._w)),this.ev.trigger("rsOnUpdateNav")}this._j2=this._e1.offset(),this._j2=this._j2[this._i]},appendSlide:function(a,b){var c=this._s(a);(isNaN(b)||b>this.numSlides)&&(b=this.numSlides),this.slides.splice(b,0,c),this.slidesJQ.splice(b,0,'<div style="'+(this._l?"position:absolute;":this._n)+'" class="rsSlide"></div>'),b<this.currSlideId&&this.currSlideId++,this.ev.trigger("rsOnAppendSlide",[c,b]),this._f4(b),b===this.currSlideId&&this.ev.trigger("rsAfterSlideChange")},removeSlide:function(a){var b=this.slides[a];b&&(b.holder&&b.holder.remove(),a<this.currSlideId&&this.currSlideId--,this.slides.splice(a,1),this.slidesJQ.splice(a,1),this.ev.trigger("rsOnRemoveSlide",[a]),this._f4(a),a===this.currSlideId&&this.ev.trigger("rsAfterSlideChange"))},_f4:function(){var a=this,b=a.numSlides,b=0>=a._u?0:Math.floor(a._u/b);for(a.numSlides=a.slides.length,0===a.numSlides?(a.currSlideId=a._d1=a._u=0,a.currSlide=a._g4=null):a._u=b*a.numSlides+a.currSlideId,b=0;b<a.numSlides;b++)a.slides[b].id=b;a.currSlide=a.slides[a.currSlideId],a._r1=a.slidesJQ[a.currSlideId],a.currSlideId>=a.numSlides?a.goTo(a.numSlides-1):0>a.currSlideId&&a.goTo(0),a._t(),a._l&&a._z&&a._p1.css(a._g+a._u1,"0ms"),a._h4&&clearTimeout(a._h4),a._h4=setTimeout(function(){a._l&&a._p3((-a._u-a._d1)*a._w),a._n2(),a._l||a._r1.css({display:"block",opacity:1})},14),a.ev.trigger("rsOnUpdateNav")},_i1:function(){this._f1&&this._l&&(this._g1?this._e1.css("cursor",this._g1):(this._e1.removeClass("grabbing-cursor"),this._e1.addClass("grab-cursor")))},_w2:function(){this._f1&&this._l&&(this._h1?this._e1.css("cursor",this._h1):(this._e1.removeClass("grab-cursor"),this._e1.addClass("grabbing-cursor")))},next:function(a){this._m2("next",this.st.transitionSpeed,!0,!a)},prev:function(a){this._m2("prev",this.st.transitionSpeed,!0,!a)},_m2:function(a,b,c,d,e){var f,g,h,i=this;if(i.ev.trigger("rsBeforeMove",[a,d]),h="next"===a?i.currSlideId+1:"prev"===a?i.currSlideId-1:a=parseInt(a,10),!i._z){if(0>h)return void i._i4("left",!d);if(h>=i.numSlides)return void i._i4("right",!d)}i._r2&&(i._u2(!0),c=!1),g=h-i.currSlideId,h=i._o2=i.currSlideId;var j=i.currSlideId+g;d=i._u;var k;i._z?(j=i._n2(!1,j),d+=g):d=j,i._o=j,i._g4=i.slidesJQ[i.currSlideId],i._u=d,i.currSlideId=i._o,i.currSlide=i.slides[i.currSlideId],i._r1=i.slidesJQ[i.currSlideId];var j=i.st.slidesDiff,l=Boolean(g>0);g=Math.abs(g);var m=Math.floor(h/i._y),n=Math.floor((h+(l?j:-j))/i._y),m=(l?Math.max(m,n):Math.min(m,n))*i._y+(l?i._y-1:0);if(m>i.numSlides-1?m=i.numSlides-1:0>m&&(m=0),h=l?m-h:h-m,h>i._y&&(h=i._y),g>h+j)for(i._d1+=(g-(h+j))*(l?-1:1),b*=1.4,h=0;h<i.numSlides;h++)i.slides[h].positionSet=!1;i._c=b,i._n2(!0),e||(k=!0),f=(-d-i._d1)*i._w,k?setTimeout(function(){i._j4=!1,i._x3(f,a,!1,c),i.ev.trigger("rsOnUpdateNav")},0):(i._x3(f,a,!1,c),i.ev.trigger("rsOnUpdateNav"))},_f2:function(){this.st.arrowsNav&&(1>=this.numSlides?(this._c2.css("display","none"),this._d2.css("display","none")):(this._c2.css("display","block"),this._d2.css("display","block"),!this._z&&!this.st.loopRewind&&(0===this.currSlideId?this._c2.addClass("rsArrowDisabled"):this._c2.removeClass("rsArrowDisabled"),this.currSlideId===this.numSlides-1?this._d2.addClass("rsArrowDisabled"):this._d2.removeClass("rsArrowDisabled"))))},_x3:function(b,c,d,e,f){function g(){var a;h&&(a=h.data("rsTimeout"))&&(h!==i&&h.css({opacity:0,display:"none",zIndex:0}),clearTimeout(a),h.data("rsTimeout","")),(a=i.data("rsTimeout"))&&(clearTimeout(a),i.data("rsTimeout",""))}var h,i,j=this,k={};isNaN(j._c)&&(j._c=400),j._p=j._h3=b,j.ev.trigger("rsBeforeAnimStart"),j._e?j._l?(j._c=parseInt(j._c,10),d=j._g+j._v1,k[j._g+j._u1]=j._c+"ms",k[d]=e?a.rsCSS3Easing[j.st.easeInOut]:a.rsCSS3Easing[j.st.easeOut],j._p1.css(k),e||!j.hasTouch?setTimeout(function(){j._p3(b)},5):j._p3(b)):(j._c=j.st.transitionSpeed,h=j._g4,i=j._r1,i.data("rsTimeout")&&i.css("opacity",0),g(),h&&h.data("rsTimeout",setTimeout(function(){k[j._g+j._u1]="0ms",k.zIndex=0,k.display="none",h.data("rsTimeout",""),h.css(k),setTimeout(function(){h.css("opacity",0)},16)},j._c+60)),k.display="block",k.zIndex=j._m,k.opacity=0,k[j._g+j._u1]="0ms",k[j._g+j._v1]=a.rsCSS3Easing[j.st.easeInOut],i.css(k),i.data("rsTimeout",setTimeout(function(){i.css(j._g+j._u1,j._c+"ms"),i.data("rsTimeout",setTimeout(function(){i.css("opacity",1),i.data("rsTimeout","")},20))},20))):j._l?(k[j._h?j._x1:j._w1]=b+"px",j._p1.animate(k,j._c,e?j.st.easeInOut:j.st.easeOut)):(h=j._g4,i=j._r1,i.stop(!0,!0).css({opacity:0,display:"block",zIndex:j._m}),j._c=j.st.transitionSpeed,i.animate({opacity:1},j._c,j.st.easeInOut),g(),h&&h.data("rsTimeout",setTimeout(function(){h.stop(!0,!0).css({opacity:0,display:"none",zIndex:0})},j._c+60))),j._r2=!0,j.loadingTimeout&&clearTimeout(j.loadingTimeout),j.loadingTimeout=f?setTimeout(function(){j.loadingTimeout=null,f.call()},j._c+60):setTimeout(function(){j.loadingTimeout=null,j._k4(c)},j._c+60)},_u2:function(a){if(this._r2=!1,clearTimeout(this.loadingTimeout),this._l)if(this._e){if(!a){a=this._p;var b=this._h3=this._l4();this._p1.css(this._g+this._u1,"0ms"),a!==b&&this._p3(b)}}else this._p1.stop(!0),this._p=parseInt(this._p1.css(this._x1),10);else 20<this._m?this._m=10:this._m++},_l4:function(){var a=window.getComputedStyle(this._p1.get(0),null).getPropertyValue(this._g+"transform").replace(/^matrix\(/i,"").split(/, |\)$/g),b=0===a[0].indexOf("matrix3d");return parseInt(a[this._h?b?12:4:b?13:5],10)},_m4:function(a,b){return this._e?this._y1+(b?a+this._z1+0:0+this._z1+a)+this._a2:a},_k4:function(){this._l||(this._r1.css("z-index",0),this._m=10),this._r2=!1,this.staticSlideId=this.currSlideId,this._n2(),this._n4=!1,this.ev.trigger("rsAfterSlideChange")},_i4:function(a,b){var c=this,d=(-c._u-c._d1)*c._w;if(0!==c.numSlides&&!c._r2)if(c.st.loopRewind)c.goTo("left"===a?c.numSlides-1:0,b);else if(c._l){c._c=200;var e=function(){c._r2=!1};c._x3(d+("left"===a?30:-30),"",!1,!0,function(){c._r2=!1,c._x3(d,"",!1,!0,e)})}},_q2:function(a){if(!a.isRendered){var b,c,d=a.content,e="rsMainSlideImage",f=this.st.imageAlignCenter,g=this.st.imageScaleMode;if(a.videoURL&&(e="rsVideoContainer","fill"!==g?b=!0:(c=d,c.hasClass(e)||(c=c.find("."+e)),c.css({width:"100%",height:"100%"}),e="rsMainSlideImage")),d.hasClass(e)||(d=d.find("."+e)),d){var h=a.iW,e=a.iH;if(a.isRendered=!0,"none"!==g||f){a="fill"!==g?this._d4:0,c=this._b4-2*a;var i,j,k=this._c4-2*a,l={};"fit-if-smaller"===g&&(h>c||e>k)&&(g="fit"),("fill"===g||"fit"===g)&&(i=c/h,j=k/e,i="fill"==g?i>j?i:j:"fit"==g?j>i?i:j:1,h=Math.ceil(h*i,10),e=Math.ceil(e*i,10)),"none"!==g&&(l.width=h,l.height=e,b&&d.find(".rsImg").css({width:"100%",height:"100%"})),f&&(l.marginLeft=Math.floor((c-h)/2)+a,l.marginTop=Math.floor((k-e)/2)+a),d.css(l)}}}}},a.rsProto=b.prototype,a.fn.royalSlider=function(c){var d=arguments;return this.each(function(){var e=a(this);if("object"!=typeof c&&c){if((e=e.data("royalSlider"))&&e[c])return e[c].apply(e,Array.prototype.slice.call(d,1))}else e.data("royalSlider")||e.data("royalSlider",new b(e,c))})},a.fn.royalSlider.defaults={slidesSpacing:8,startSlideId:0,loop:!1,loopRewind:!1,numImagesToPreload:4,fadeinLoadedSlide:!0,slidesOrientation:"horizontal",transitionType:"move",transitionSpeed:600,controlNavigation:"bullets",controlsInside:!0,arrowsNav:!0,arrowsNavAutoHide:!0,navigateByClick:!0,randomizeSlides:!1,sliderDrag:!0,sliderTouch:!0,keyboardNavEnabled:!1,fadeInAfterLoaded:!0,allowCSS3:!0,allowCSS3OnWebkit:!0,addActiveClass:!1,autoHeight:!1,easeOut:"easeOutSine",easeInOut:"easeInOutSine",minSlideOffset:10,imageScaleMode:"fit-if-smaller",imageAlignCenter:!0,imageScalePadding:4,usePreloader:!0,autoScaleSlider:!1,autoScaleSliderWidth:800,autoScaleSliderHeight:400,autoScaleHeight:!0,arrowsNavHideOnTouch:!1,globalCaption:!1,slidesDiff:2},a.rsCSS3Easing={easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)"},a.extend(jQuery.easing,{easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c}})}(jQuery,window),function(a){a.extend(a.rsProto,{_i5:function(){var b=this;"bullets"===b.st.controlNavigation&&(b.ev.one("rsAfterPropsSetup",function(){b._j5=!0,b.slider.addClass("rsWithBullets");for(var c='<div class="rsNav rsBullets">',d=0;d<b.numSlides;d++)c+='<div class="rsNavItem rsBullet"><span></span></div>';b._k5=c=a(c+"</div>"),b._l5=c.appendTo(b.slider).children(),b._k5.on("click.rs",".rsNavItem",function(){b._m5||b.goTo(a(this).index())})}),b.ev.on("rsOnAppendSlide",function(a,c,d){d>=b.numSlides?b._k5.append('<div class="rsNavItem rsBullet"><span></span></div>'):b._l5.eq(d).before('<div class="rsNavItem rsBullet"><span></span></div>'),b._l5=b._k5.children()}),b.ev.on("rsOnRemoveSlide",function(a,c){var d=b._l5.eq(c);d&&d.length&&(d.remove(),b._l5=b._k5.children())}),b.ev.on("rsOnUpdateNav",function(){var a=b.currSlideId;b._n5&&b._n5.removeClass("rsNavSelected"),a=b._l5.eq(a),a.addClass("rsNavSelected"),b._n5=a}))}}),a.rsModules.bullets=a.rsProto._i5}(jQuery),function(a){a.extend(a.rsProto,{_h6:function(){var b=this;"thumbnails"===b.st.controlNavigation&&(b._i6={drag:!0,touch:!0,orientation:"horizontal",navigation:!0,arrows:!0,arrowLeft:null,arrowRight:null,spacing:4,arrowsAutoHide:!1,appendSpan:!1,transitionSpeed:600,autoCenter:!0,fitInViewport:!0,firstMargin:!0,paddingTop:0,paddingBottom:0},b.st.thumbs=a.extend({},b._i6,b.st.thumbs),b._j6=!0,!1===b.st.thumbs.firstMargin?b.st.thumbs.firstMargin=0:!0===b.st.thumbs.firstMargin&&(b.st.thumbs.firstMargin=b.st.thumbs.spacing),b.ev.on("rsBeforeParseNode",function(b,c,d){c=a(c),d.thumbnail=c.find(".rsTmb").remove(),d.thumbnail.length?d.thumbnail=a(document.createElement("div")).append(d.thumbnail).html():(d.thumbnail=c.attr("data-rsTmb"),d.thumbnail||(d.thumbnail=c.find(".rsImg").attr("data-rsTmb")),d.thumbnail=d.thumbnail?'<img src="'+d.thumbnail+'"/>':"")}),b.ev.one("rsAfterPropsSetup",function(){b._k6()}),b._n5=null,b.ev.on("rsOnUpdateNav",function(){var c=a(b._l5[b.currSlideId]);c!==b._n5&&(b._n5&&(b._n5.removeClass("rsNavSelected"),b._n5=null),b._l6&&b._m6(b.currSlideId),b._n5=c.addClass("rsNavSelected"))}),b.ev.on("rsOnAppendSlide",function(a,c,d){a="<div"+b._n6+' class="rsNavItem rsThumb">'+b._o6+c.thumbnail+"</div>",d>=b.numSlides?b._s3.append(a):b._l5.eq(d).before(a),b._l5=b._s3.children(),b.updateThumbsSize()}),b.ev.on("rsOnRemoveSlide",function(a,c){var d=b._l5.eq(c);d&&(d.remove(),b._l5=b._s3.children(),b.updateThumbsSize())}))},_k6:function(){var b,c,d=this,e="rsThumbs",f=d.st.thumbs,g="",h=f.spacing;d._j5=!0,d._e3="vertical"===f.orientation?!1:!0,d._n6=b=h?' style="margin-'+(d._e3?"right":"bottom")+":"+h+'px;"':"",d._i3=0,d._p6=!1,d._m5=!1,d._l6=!1,d._q6=f.arrows&&f.navigation,c=d._e3?"Hor":"Ver",d.slider.addClass("rsWithThumbs rsWithThumbs"+c),g+='<div class="rsNav rsThumbs rsThumbs'+c+'"><div class="'+e+'Container">',d._o6=f.appendSpan?'<span class="thumbIco"></span>':"";for(var i=0;i<d.numSlides;i++)c=d.slides[i],g+="<div"+b+' class="rsNavItem rsThumb">'+c.thumbnail+d._o6+"</div>";g=a(g+"</div></div>"),b={},f.paddingTop&&(b[d._e3?"paddingTop":"paddingLeft"]=f.paddingTop),f.paddingBottom&&(b[d._e3?"paddingBottom":"paddingRight"]=f.paddingBottom),g.css(b),d._s3=a(g).find("."+e+"Container"),d._q6&&(e+="Arrow",f.arrowLeft?d._r6=f.arrowLeft:(d._r6=a('<div class="'+e+" "+e+'Left"><div class="'+e+'Icn"></div></div>'),g.append(d._r6)),f.arrowRight?d._s6=f.arrowRight:(d._s6=a('<div class="'+e+" "+e+'Right"><div class="'+e+'Icn"></div></div>'),g.append(d._s6)),d._r6.click(function(){var a=(Math.floor(d._i3/d._t6)+d._u6)*d._t6;d._a4(a>d._n3?d._n3:a)}),d._s6.click(function(){var a=(Math.floor(d._i3/d._t6)-d._u6)*d._t6;d._a4(a<d._o3?d._o3:a)}),f.arrowsAutoHide&&!d.hasTouch&&(d._r6.css("opacity",0),d._s6.css("opacity",0),g.one("mousemove.rsarrowshover",function(){d._l6&&(d._r6.css("opacity",1),d._s6.css("opacity",1))}),g.hover(function(){d._l6&&(d._r6.css("opacity",1),d._s6.css("opacity",1))},function(){d._l6&&(d._r6.css("opacity",0),d._s6.css("opacity",0))}))),d._k5=g,d._l5=d._s3.children(),d.msEnabled&&d.st.thumbs.navigation&&d._s3.css("-ms-touch-action",d._e3?"pan-y":"pan-x"),d.slider.append(g),d._w3=!0,d._v6=h,f.navigation&&d._e&&d._s3.css(d._g+"transition-property",d._g+"transform"),d._k5.on("click.rs",".rsNavItem",function(){d._m5||d.goTo(a(this).index())}),d.ev.off("rsBeforeSizeSet.thumbs").on("rsBeforeSizeSet.thumbs",function(){d._w6=d._e3?d._c4:d._b4,d.updateThumbsSize(!0)})},updateThumbsSize:function(){var a=this,b=a._l5.first(),c={},d=a._l5.length;a._t6=(a._e3?b.outerWidth():b.outerHeight())+a._v6,a._y3=d*a._t6-a._v6,c[a._e3?"width":"height"]=a._y3+a._v6,a._z3=a._e3?a._k5.width():a._k5.height(),a._o3=-(a._y3-a._z3)-a.st.thumbs.firstMargin,a._n3=a.st.thumbs.firstMargin,a._u6=Math.floor(a._z3/a._t6),a._y3<a._z3?(a.st.thumbs.autoCenter&&a._q3((a._z3-a._y3)/2),a.st.thumbs.arrows&&a._r6&&(a._r6.addClass("rsThumbsArrowDisabled"),a._s6.addClass("rsThumbsArrowDisabled")),a._l6=!1,a._m5=!1,a._k5.off(a._j1)):a.st.thumbs.navigation&&!a._l6&&(a._l6=!0,!a.hasTouch&&a.st.thumbs.drag||a.hasTouch&&a.st.thumbs.touch)&&(a._m5=!0,a._k5.on(a._j1,function(b){a._g2(b,!0)})),a._e&&(c[a._g+"transition-duration"]="0ms"),a._s3.css(c),a._w3&&(a.isFullscreen||a.st.thumbs.fitInViewport)&&(a._e3?a._c4=a._w6-a._k5.outerHeight():a._b4=a._w6-a._k5.outerWidth())},setThumbsOrientation:function(a,b){this._w3&&(this.st.thumbs.orientation=a,this._k5.remove(),this.slider.removeClass("rsWithThumbsHor rsWithThumbsVer"),this._k6(),this._k5.off(this._j1),b||this.updateSliderSize(!0))},_q3:function(a){this._i3=a,this._e?this._s3.css(this._x1,this._y1+(this._e3?a+this._z1+0:0+this._z1+a)+this._a2):this._s3.css(this._e3?this._x1:this._w1,a)},_a4:function(b,c,d,e,f){var g=this;if(g._l6){c||(c=g.st.thumbs.transitionSpeed),g._i3=b,g._x6&&clearTimeout(g._x6),g._p6&&(g._e||g._s3.stop(),d=!0);var h={};g._p6=!0,g._e?(h[g._g+"transition-duration"]=c+"ms",h[g._g+"transition-timing-function"]=d?a.rsCSS3Easing[g.st.easeOut]:a.rsCSS3Easing[g.st.easeInOut],g._s3.css(h),g._q3(b)):(h[g._e3?g._x1:g._w1]=b+"px",g._s3.animate(h,c,d?"easeOutCubic":g.st.easeInOut)),e&&(g._i3=e),g._y6(),g._x6=setTimeout(function(){g._p6=!1,f&&(g._a4(e,f,!0),f=null)},c)}},_y6:function(){this._q6&&(this._i3===this._n3?this._r6.addClass("rsThumbsArrowDisabled"):this._r6.removeClass("rsThumbsArrowDisabled"),this._i3===this._o3?this._s6.addClass("rsThumbsArrowDisabled"):this._s6.removeClass("rsThumbsArrowDisabled"))},_m6:function(a,b){var c,d=0,e=a*this._t6+2*this._t6-this._v6+this._n3,f=Math.floor(this._i3/this._t6);this._l6&&(this._j6&&(b=!0,this._j6=!1),e+this._i3>this._z3?(a===this.numSlides-1&&(d=1),f=-a+this._u6-2+d,c=f*this._t6+this._z3%this._t6+this._v6-this._n3):0!==a?(a-1)*this._t6<=-this._i3+this._n3&&a-1<=this.numSlides-this._u6&&(c=(-a+1)*this._t6+this._n3):c=this._n3,c!==this._i3&&(d=void 0===c?this._i3:c,d>this._n3?this._q3(this._n3):d<this._o3?this._q3(this._o3):void 0!==c&&(b?this._q3(c):this._a4(c))),this._y6())}}),a.rsModules.thumbnails=a.rsProto._h6}(jQuery),function(a){a.extend(a.rsProto,{_f6:function(){var b=this;"tabs"===b.st.controlNavigation&&(b.ev.on("rsBeforeParseNode",function(b,c,d){c=a(c),d.thumbnail=c.find(".rsTmb").remove(),d.thumbnail.length?d.thumbnail=a(document.createElement("div")).append(d.thumbnail).html():(d.thumbnail=c.attr("data-rsTmb"),d.thumbnail||(d.thumbnail=c.find(".rsImg").attr("data-rsTmb")),d.thumbnail=d.thumbnail?'<img src="'+d.thumbnail+'"/>':"")}),b.ev.one("rsAfterPropsSetup",function(){b._g6()}),b.ev.on("rsOnAppendSlide",function(a,c,d){d>=b.numSlides?b._k5.append('<div class="rsNavItem rsTab">'+c.thumbnail+"</div>"):b._l5.eq(d).before('<div class="rsNavItem rsTab">'+item.thumbnail+"</div>"),b._l5=b._k5.children()}),b.ev.on("rsOnRemoveSlide",function(a,c){var d=b._l5.eq(c);d&&(d.remove(),b._l5=b._k5.children())}),b.ev.on("rsOnUpdateNav",function(){var a=b.currSlideId;b._n5&&b._n5.removeClass("rsNavSelected"),a=b._l5.eq(a),a.addClass("rsNavSelected"),b._n5=a}))},_g6:function(){var b,c=this;c._j5=!0,b='<div class="rsNav rsTabs">';for(var d=0;d<c.numSlides;d++)b+='<div class="rsNavItem rsTab">'+c.slides[d].thumbnail+"</div>";b=a(b+"</div>"),c._k5=b,c._l5=b.children(".rsNavItem"),c.slider.append(b),c._k5.click(function(b){b=a(b.target).closest(".rsNavItem"),b.length&&c.goTo(b.index())})}}),a.rsModules.tabs=a.rsProto._f6}(jQuery),function(a){a.extend(a.rsProto,{_q5:function(){var b=this;b._r5={enabled:!1,keyboardNav:!0,buttonFS:!0,nativeFS:!1,doubleTap:!0},b.st.fullscreen=a.extend({},b._r5,b.st.fullscreen),b.st.fullscreen.enabled&&b.ev.one("rsBeforeSizeSet",function(){b._s5()})},_s5:function(){var b=this;if(b._t5=!b.st.keyboardNavEnabled&&b.st.fullscreen.keyboardNav,b.st.fullscreen.nativeFS){b._u5={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""};var c=["webkit","moz","o","ms","khtml"];if(!b.isAndroid)if("undefined"!=typeof document.cancelFullScreen)b._u5.supportsFullScreen=!0;else for(var d=0;d<c.length;d++)if(b._u5.prefix=c[d],"undefined"!=typeof document[b._u5.prefix+"CancelFullScreen"]){b._u5.supportsFullScreen=!0;break}b._u5.supportsFullScreen?(b.nativeFS=!0,b._u5.fullScreenEventName=b._u5.prefix+"fullscreenchange"+b.ns,b._u5.isFullScreen=function(){switch(this.prefix){case"":return document.fullScreen;case"webkit":return document.webkitIsFullScreen;default:return document[this.prefix+"FullScreen"]}},b._u5.requestFullScreen=function(a){return""===this.prefix?a.requestFullScreen():a[this.prefix+"RequestFullScreen"]()},b._u5.cancelFullScreen=function(){return""===this.prefix?document.cancelFullScreen():document[this.prefix+"CancelFullScreen"]()}):b._u5=!1}b.st.fullscreen.buttonFS&&(b._v5=a('<div class="rsFullscreenBtn"><div class="rsFullscreenIcn"></div></div>').appendTo(b._o1).on("click.rs",function(){b.isFullscreen?b.exitFullscreen():b.enterFullscreen()}))},enterFullscreen:function(b){var c=this;if(c._u5){if(!b)return c._b.on(c._u5.fullScreenEventName,function(){c._u5.isFullScreen()?c.enterFullscreen(!0):c.exitFullscreen(!0)}),void c._u5.requestFullScreen(a("html")[0]);c._u5.requestFullScreen(a("html")[0])}if(!c._w5){c._w5=!0,c._b.on("keyup"+c.ns+"fullscreen",function(a){27===a.keyCode&&c.exitFullscreen()}),c._t5&&c._b2(),b=a(window),c._x5=b.scrollTop(),c._y5=b.scrollLeft(),c._z5=a("html").attr("style"),c._a6=a("body").attr("style"),c._b6=c.slider.attr("style"),a("body, html").css({overflow:"hidden",height:"100%",width:"100%",margin:"0",padding:"0"}),c.slider.addClass("rsFullscreen");var d;for(d=0;d<c.numSlides;d++)b=c.slides[d],b.isRendered=!1,b.bigImage&&(b.isBig=!0,b.isMedLoaded=b.isLoaded,b.isMedLoading=b.isLoading,b.medImage=b.image,b.medIW=b.iW,b.medIH=b.iH,b.slideId=-99,b.bigImage!==b.medImage&&(b.sizeType="big"),b.isLoaded=b.isBigLoaded,b.isLoading=!1,b.image=b.bigImage,b.images[0]=b.bigImage,b.iW=b.bigIW,b.iH=b.bigIH,b.isAppended=b.contentAdded=!1,c._c6(b));c.isFullscreen=!0,c._w5=!1,c.updateSliderSize(),c.ev.trigger("rsEnterFullscreen")}},exitFullscreen:function(b){var c=this;if(c._u5){if(!b)return void c._u5.cancelFullScreen(a("html")[0]);c._b.off(c._u5.fullScreenEventName)}if(!c._w5){c._w5=!0,c._b.off("keyup"+c.ns+"fullscreen"),c._t5&&c._b.off("keydown"+c.ns),a("html").attr("style",c._z5||""),a("body").attr("style",c._a6||"");var d;for(d=0;d<c.numSlides;d++)b=c.slides[d],b.isRendered=!1,b.bigImage&&(b.isBig=!1,b.slideId=-99,b.isBigLoaded=b.isLoaded,b.isBigLoading=b.isLoading,b.bigImage=b.image,b.bigIW=b.iW,b.bigIH=b.iH,b.isLoaded=b.isMedLoaded,b.isLoading=!1,b.image=b.medImage,b.images[0]=b.medImage,b.iW=b.medIW,b.iH=b.medIH,b.isAppended=b.contentAdded=!1,c._c6(b,!0),b.bigImage!==b.medImage&&(b.sizeType="med"));c.isFullscreen=!1,b=a(window),b.scrollTop(c._x5),b.scrollLeft(c._y5),c._w5=!1,c.slider.removeClass("rsFullscreen"),c.updateSliderSize(),setTimeout(function(){c.updateSliderSize()},1),c.ev.trigger("rsExitFullscreen")}},_c6:function(b){var c=b.isLoaded||b.isLoading?'<img class="rsImg rsMainSlideImage" src="'+b.image+'"/>':'<a class="rsImg rsMainSlideImage" href="'+b.image+'"></a>';b.content.hasClass("rsImg")?b.content=a(c):b.content.find(".rsImg").eq(0).replaceWith(c),!b.isLoaded&&!b.isLoading&&b.holder&&b.holder.html(b.content)}}),a.rsModules.fullscreen=a.rsProto._q5}(jQuery),function(a){a.extend(a.rsProto,{_x4:function(){var b,c=this;c._y4={enabled:!1,stopAtAction:!0,pauseOnHover:!0,delay:2e3},!c.st.autoPlay&&c.st.autoplay&&(c.st.autoPlay=c.st.autoplay),c.st.autoPlay=a.extend({},c._y4,c.st.autoPlay),c.st.autoPlay.enabled&&(c.ev.on("rsBeforeParseNode",function(c,d,e){d=a(d),(b=d.attr("data-rsDelay"))&&(e.customDelay=parseInt(b,10))}),c.ev.one("rsAfterInit",function(){c._z4()}),c.ev.on("rsBeforeDestroy",function(){c.stopAutoPlay(),c.slider.off("mouseenter mouseleave"),a(window).off("blur"+c.ns+" focus"+c.ns)}))},_z4:function(){var b=this;b.startAutoPlay(),b.ev.on("rsAfterContentSet",function(a,c){!b._l2&&!b._r2&&b._a5&&c===b.currSlide&&b._b5()}),b.ev.on("rsDragRelease",function(){b._a5&&b._c5&&(b._c5=!1,b._b5())}),b.ev.on("rsAfterSlideChange",function(){b._a5&&b._c5&&(b._c5=!1,b.currSlide.isLoaded&&b._b5())}),b.ev.on("rsDragStart",function(){b._a5&&(b.st.autoPlay.stopAtAction?b.stopAutoPlay():(b._c5=!0,b._d5()))}),b.ev.on("rsBeforeMove",function(a,c,d){b._a5&&(d&&b.st.autoPlay.stopAtAction?b.stopAutoPlay():(b._c5=!0,b._d5()))}),b._e5=!1,b.ev.on("rsVideoStop",function(){b._a5&&(b._e5=!1,b._b5())}),b.ev.on("rsVideoPlay",function(){b._a5&&(b._c5=!1,b._d5(),b._e5=!0)}),a(window).on("blur"+b.ns,function(){b._a5&&(b._c5=!0,b._d5())}).on("focus"+b.ns,function(){b._a5&&b._c5&&(b._c5=!1,b._b5())}),b.st.autoPlay.pauseOnHover&&(b._f5=!1,b.slider.hover(function(){b._a5&&(b._c5=!1,b._d5(),b._f5=!0)},function(){b._a5&&(b._f5=!1,b._b5())}))},toggleAutoPlay:function(){this._a5?this.stopAutoPlay():this.startAutoPlay()},startAutoPlay:function(){this._a5=!0,this.currSlide.isLoaded&&this._b5()},stopAutoPlay:function(){this._e5=this._f5=this._c5=this._a5=!1,this._d5()},_b5:function(){var a=this;!a._f5&&!a._e5&&(a._g5=!0,a._h5&&clearTimeout(a._h5),a._h5=setTimeout(function(){var b;!a._z&&!a.st.loopRewind&&(b=!0,a.st.loopRewind=!0),a.next(!0),b&&(a.st.loopRewind=!1)},a.currSlide.customDelay?a.currSlide.customDelay:a.st.autoPlay.delay))},_d5:function(){!this._f5&&!this._e5&&(this._g5=!1,this._h5&&(clearTimeout(this._h5),this._h5=null))}}),a.rsModules.autoplay=a.rsProto._x4}(jQuery),function(a){a.extend(a.rsProto,{_z6:function(){var b=this;b._a7={autoHideArrows:!0,autoHideControlNav:!1,autoHideBlocks:!1,autoHideCaption:!1,disableCSS3inFF:!0,youTubeCode:'<iframe src="https://www.youtube.com/embed/%id%?rel=1&autoplay=1&showinfo=0&autoplay=1&wmode=transparent" frameborder="no"></iframe>',vimeoCode:'<iframe src="https://player.vimeo.com/video/%id%?byline=0&amp;portrait=0&amp;autoplay=1" frameborder="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'},b.st.video=a.extend({},b._a7,b.st.video),b.ev.on("rsBeforeSizeSet",function(){b._b7&&setTimeout(function(){var a=b._r1,a=a.hasClass("rsVideoContainer")?a:a.find(".rsVideoContainer");b._c7&&b._c7.css({width:a.width(),height:a.height()})},32)});var c=b._a.mozilla;b.ev.on("rsAfterParseNode",function(d,e,f){if(d=a(e),f.videoURL){b.st.video.disableCSS3inFF&&c&&(b._e=b._f=!1),e=a('<div class="rsVideoContainer"></div>');var g=a('<div class="rsBtnCenterer"><div class="rsPlayBtn"><div class="rsPlayBtnIcon"></div></div></div>');d.hasClass("rsImg")?f.content=e.append(d).append(g):f.content.find(".rsImg").wrap(e).after(g)}}),b.ev.on("rsAfterSlideChange",function(){b.stopVideo()})},toggleVideo:function(){return this._b7?this.stopVideo():this.playVideo()},playVideo:function(){var b=this;if(!b._b7){var c=b.currSlide;if(!c.videoURL)return!1;var d,e,f=b._d7=c.content,c=c.videoURL;return c.match(/youtu\.be/i)||c.match(/youtube\.com/i)?(e=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,(e=c.match(e))&&11==e[7].length&&(d=e[7]),void 0!==d&&(b._c7=b.st.video.youTubeCode.replace("%id%",d))):c.match(/vimeo\.com/i)&&(e=/(www\.)?vimeo.com\/(\d+)($|\/)/,(e=c.match(e))&&(d=e[2]),void 0!==d&&(b._c7=b.st.video.vimeoCode.replace("%id%",d))),b.videoObj=a(b._c7),b.ev.trigger("rsOnCreateVideoElement",[c]),b.videoObj.length&&(b._c7=a('<div class="rsVideoFrameHolder"><div class="rsPreloader"></div><div class="rsCloseVideoBtn"><div class="rsCloseVideoIcn"></div></div></div>'),b._c7.find(".rsPreloader").after(b.videoObj),f=f.hasClass("rsVideoContainer")?f:f.find(".rsVideoContainer"),b._c7.css({width:f.width(),height:f.height()}).find(".rsCloseVideoBtn").off("click.rsv").on("click.rsv",function(a){return b.stopVideo(),a.preventDefault(),a.stopPropagation(),!1}),f.append(b._c7),b.isIPAD&&f.addClass("rsIOSVideo"),b._e7(!1),setTimeout(function(){b._c7.addClass("rsVideoActive")},10),b.ev.trigger("rsVideoPlay"),b._b7=!0),!0}return!1},stopVideo:function(){var a=this;return a._b7?(a.isIPAD&&a.slider.find(".rsCloseVideoBtn").remove(),a._e7(!0),setTimeout(function(){a.ev.trigger("rsOnDestroyVideoElement",[a.videoObj]);var b=a._c7.find("iframe");if(b.length)try{b.attr("src","")}catch(c){}a._c7.remove(),a._c7=null},16),a.ev.trigger("rsVideoStop"),a._b7=!1,!0):!1},_e7:function(a){var b=[],c=this.st.video;if(c.autoHideArrows&&(this._c2&&(b.push(this._c2,this._d2),this._e2=!a),this._v5&&b.push(this._v5)),c.autoHideControlNav&&this._k5&&b.push(this._k5),c.autoHideBlocks&&this.currSlide.animBlocks&&b.push(this.currSlide.animBlocks),c.autoHideCaption&&this.globalCaption&&b.push(this.globalCaption),b.length)for(c=0;c<b.length;c++)a?b[c].removeClass("rsHidden"):b[c].addClass("rsHidden")}}),a.rsModules.video=a.rsProto._z6}(jQuery),function(a){a.extend(a.rsProto,{_p4:function(){function b(){var a=d.currSlide;if(d.currSlide&&d.currSlide.isLoaded&&d._t4!==a){if(0<d._s4.length){for(c=0;c<d._s4.length;c++)clearTimeout(d._s4[c]);d._s4=[]}if(0<d._r4.length){var b;for(c=0;c<d._r4.length;c++)(b=d._r4[c])&&(d._e?(b.block.css(d._g+d._u1,"0s"),b.block.css(b.css)):b.block.stop(!0).css(b.css),d._t4=null,a.animBlocksDisplayed=!1);d._r4=[]}a.animBlocks&&(a.animBlocksDisplayed=!0,d._t4=a,d._u4(a.animBlocks))}}var c,d=this;d._q4={fadeEffect:!0,moveEffect:"top",moveOffset:20,speed:400,easing:"easeOutSine",delay:200},d.st.block=a.extend({},d._q4,d.st.block),d._r4=[],d._s4=[],d.ev.on("rsAfterInit",function(){b()}),d.ev.on("rsBeforeParseNode",function(b,c,d){c=a(c),d.animBlocks=c.find(".rsABlock").css("display","none"),d.animBlocks.length||(d.animBlocks=c.hasClass("rsABlock")?c.css("display","none"):!1)}),d.ev.on("rsAfterContentSet",function(a,c){c.id===d.slides[d.currSlideId].id&&setTimeout(function(){b()},d.st.fadeinLoadedSlide?300:0)}),d.ev.on("rsAfterSlideChange",function(){b()})},_v4:function(a,b){setTimeout(function(){a.css(b)},6)},_u4:function(b){var c,d,e,f,g,h,i,j=this;j._s4=[],b.each(function(b){c=a(this),d={},e={},f=null;var k=c.attr("data-move-offset"),k=k?parseInt(k,10):j.st.block.moveOffset;if(k>0&&((h=c.data("move-effect"))?(h=h.toLowerCase(),"none"===h?h=!1:"left"!==h&&"top"!==h&&"bottom"!==h&&"right"!==h&&(h=j.st.block.moveEffect,"none"===h&&(h=!1))):h=j.st.block.moveEffect,h&&"none"!==h)){var l;l="right"===h||"left"===h?!0:!1;var m;i=!1,j._e?(m=0,g=j._x1):(l?isNaN(parseInt(c.css("right"),10))?g="left":(g="right",i=!0):isNaN(parseInt(c.css("bottom"),10))?g="top":(g="bottom",i=!0),g="margin-"+g,i&&(k=-k),j._e?m=parseInt(c.css(g),10):(m=c.data("rs-start-move-prop"),void 0===m&&(m=parseInt(c.css(g),10),c.data("rs-start-move-prop",m)))),e[g]=j._m4("top"===h||"left"===h?m-k:m+k,l),d[g]=j._m4(m,l)}(k=c.attr("data-fade-effect"))?("none"===k.toLowerCase()||"false"===k.toLowerCase())&&(k=!1):k=j.st.block.fadeEffect,k&&(e.opacity=0,d.opacity=1),(k||h)&&(f={},f.hasFade=Boolean(k),Boolean(h)&&(f.moveProp=g,f.hasMove=!0),f.speed=c.data("speed"),isNaN(f.speed)&&(f.speed=j.st.block.speed),f.easing=c.data("easing"),f.easing||(f.easing=j.st.block.easing),f.css3Easing=a.rsCSS3Easing[f.easing],f.delay=c.data("delay"),isNaN(f.delay)&&(f.delay=j.st.block.delay*b)),k={},j._e&&(k[j._g+j._u1]="0ms"),k.moveProp=d.moveProp,k.opacity=d.opacity,k.display="none",j._r4.push({block:c,css:k}),j._v4(c,e),j._s4.push(setTimeout(function(a,b,c,d){return function(){if(a.css("display","block"),c){var e={};if(j._e){var f="";c.hasMove&&(f+=c.moveProp),c.hasFade&&(c.hasMove&&(f+=", "),f+="opacity"),e[j._g+j._t1]=f,e[j._g+j._u1]=c.speed+"ms",e[j._g+j._v1]=c.css3Easing,a.css(e),setTimeout(function(){a.css(b)},24)}else setTimeout(function(){a.animate(b,c.speed,c.easing)},16)}delete j._s4[d]}}(c,d,f,b),6>=f.delay?12:f.delay))})}}),a.rsModules.animatedBlocks=a.rsProto._p4}(jQuery),function(a){a.extend(a.rsProto,{_w4:function(){
var a=this;if(a.st.autoHeight){var b,c,d,e=function(e){d=a.slides[a.currSlideId],(b=d.holder)&&(c=b.height())&&void 0!==c&&(a._c4=c,a._e||!e?a._e1.css("height",c):a._e1.stop(!0,!0).animate({height:c},a.st.transitionSpeed))};a.ev.on("rsMaybeSizeReady.rsAutoHeight",function(a,b){d===b&&e()}),a.ev.on("rsAfterContentSet.rsAutoHeight",function(a,b){d===b&&e()}),a.slider.addClass("rsAutoHeight"),a.ev.one("rsAfterInit",function(){setTimeout(function(){e(!1),setTimeout(function(){a.slider.append('<div style="clear:both; float: none;"></div>'),a._e&&a._e1.css(a._g+"transition","height "+a.st.transitionSpeed+"ms ease-in-out")},16)},16)}),a.ev.on("rsBeforeAnimStart",function(){e(!0)}),a.ev.on("rsBeforeSizeSet",function(){setTimeout(function(){e(!1)},16)})}}}),a.rsModules.autoHeight=a.rsProto._w4}(jQuery),function(a){a.extend(a.rsProto,{_d6:function(){var b=this;b.st.globalCaption&&(b.ev.on("rsAfterInit",function(){b.globalCaption=a('<div class="rsGCaption"></div>').appendTo(b.st.globalCaptionInside?b._e1:b.slider),b.globalCaption.html(b.currSlide.caption)}),b.ev.on("rsBeforeAnimStart",function(){b.globalCaption.html(b.currSlide.caption)}))}}),a.rsModules.globalCaption=a.rsProto._d6}(jQuery),function(a){a.rsProto._o4=function(){var a,b=this;b.st.addActiveClass&&b.ev.on("rsOnUpdateNav",function(){a&&clearTimeout(a),a=setTimeout(function(){b._g4&&b._g4.removeClass("rsActiveSlide"),b._r1&&b._r1.addClass("rsActiveSlide"),a=null},50)})},a.rsModules.activeClass=a.rsProto._o4}(jQuery),function(a){a.extend(a.rsProto,{_o5:function(){var b,c,d,e=this;if(e._p5={enabled:!1,change:!1,prefix:""},e.st.deeplinking=a.extend({},e._p5,e.st.deeplinking),e.st.deeplinking.enabled){var f=e.st.deeplinking.change,g="#"+e.st.deeplinking.prefix,h=function(){var a=window.location.hash;return a&&(a=parseInt(a.substring(g.length),10),a>=0)?a-1:-1},i=h();-1!==i&&(e.st.startSlideId=i),f&&(a(window).on("hashchange"+e.ns,function(){if(!b){var a=h();0>a||(a>e.numSlides-1&&(a=e.numSlides-1),e.goTo(a))}}),e.ev.on("rsBeforeAnimStart",function(){c&&clearTimeout(c),d&&clearTimeout(d)}),e.ev.on("rsAfterSlideChange",function(){c&&clearTimeout(c),d&&clearTimeout(d),d=setTimeout(function(){b=!0,window.location.replace((""+window.location).split("#")[0]+g+(e.currSlideId+1)),c=setTimeout(function(){b=!1,c=null},60)},400)})),e.ev.on("rsBeforeDestroy",function(){c=d=null,f&&a(window).off("hashchange"+e.ns)})}}}),a.rsModules.deeplinking=a.rsProto._o5}(jQuery),function(a,b,c){function d(a){return a=a||location.href,"#"+a.replace(/^[^#]*#?(.*)$/,"$1")}var e,f=document,g=a.event.special,h=f.documentMode,i="onhashchange"in b&&(h===c||h>7);a.fn.hashchange=function(a){return a?this.bind("hashchange",a):this.trigger("hashchange")},a.fn.hashchange.delay=50,g.hashchange=a.extend(g.hashchange,{setup:function(){return i?!1:void a(e.start)},teardown:function(){return i?!1:void a(e.stop)}});var j,k=function(){var c=d(),e=n(l);c!==l?(m(l=c,e),a(b).trigger("hashchange")):e!==l&&(location.href=location.href.replace(/#.*/,"")+e),j=setTimeout(k,a.fn.hashchange.delay)},g={},l=d(),m=h=function(a){return a},n=h;if(g.start=function(){j||k()},g.stop=function(){j&&clearTimeout(j),j=c},b.attachEvent&&!b.addEventListener&&!i){var o,p;g.start=function(){o||(p=(p=a.fn.hashchange.src)&&p+d(),o=a('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){p||m(d()),k()}).attr("src",p||"javascript:0").insertAfter("body")[0].contentWindow,f.onpropertychange=function(){try{"title"===event.propertyName&&(o.document.title=f.title)}catch(a){}})},g.stop=h,n=function(){return d(o.location.href)},m=function(b,c){var d=o.document,e=a.fn.hashchange.domain;b!==c&&(d.title=f.title,d.open(),e&&d.write('<script>document.domain="'+e+'"</script>'),d.close(),o.location.hash=b)}}e=g}(jQuery,this),function(a){a.rsProto._f7=function(){var b=this;b.st.visibleNearby&&b.st.visibleNearby.enabled&&(b._g7={enabled:!0,centerArea:.6,center:!0,breakpoint:0,breakpointCenterArea:.8,hiddenOverflow:!0,navigateByCenterClick:!1},b.st.visibleNearby=a.extend({},b._g7,b.st.visibleNearby),b.ev.one("rsAfterPropsSetup",function(){b._h7=b._e1.css("overflow","visible").wrap('<div class="rsVisibleNearbyWrap"></div>').parent(),b.st.visibleNearby.hiddenOverflow||b._h7.css("overflow","visible"),b._o1=b.st.controlsInside?b._h7:b.slider}),b.ev.on("rsAfterSizePropSet",function(){var a,c=b.st.visibleNearby;a=c.breakpoint&&b.width<c.breakpoint?c.breakpointCenterArea:c.centerArea,b._h?(b._b4*=a,b._h7.css({height:b._c4,width:b._b4/a}),b._d=b._b4*(1-a)/2/a):(b._c4*=a,b._h7.css({height:b._c4/a,width:b._b4}),b._d=b._c4*(1-a)/2/a),c.navigateByCenterClick||(b._q=b._h?b._b4:b._c4),c.center&&b._e1.css("margin-"+(b._h?"left":"top"),b._d)}))},a.rsModules.visibleNearby=a.rsProto._f7}(jQuery),function(a,b,c,d){var e=c(a),f=c(b),g=c.fancybox=function(){g.open.apply(this,arguments)},h=navigator.userAgent.match(/msie/),i=null,j=b.createTouch!==d,k=function(a){return a&&a.hasOwnProperty&&a instanceof c},l=function(a){return a&&"string"===c.type(a)},m=function(a){return l(a)&&0<a.indexOf("%")},n=function(a,b){var c=parseInt(a,10)||0;return b&&m(a)&&(c*=g.getViewport()[b]/100),Math.ceil(c)},o=function(a,b){return n(a,b)+"px"};c.extend(g,{version:"2.1.4",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!j,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(h?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:c.noop,beforeLoad:c.noop,afterLoad:c.noop,beforeShow:c.noop,afterShow:c.noop,beforeChange:c.noop,beforeClose:c.noop,afterClose:c.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(a,b){return a&&(c.isPlainObject(b)||(b={}),!1!==g.close(!0))?(c.isArray(a)||(a=k(a)?c(a).get():[a]),c.each(a,function(e,f){var h,i,j,m,n,o={};"object"===c.type(f)&&(f.nodeType&&(f=c(f)),k(f)?(o={href:f.data("fancybox-href")||f.attr("href"),title:f.data("fancybox-title")||f.attr("title"),isDom:!0,element:f},c.metadata&&c.extend(!0,o,f.metadata())):o=f),h=b.href||o.href||(l(f)?f:null),i=b.title!==d?b.title:o.title||"",m=(j=b.content||o.content)?"html":b.type||o.type,!m&&o.isDom&&(m=f.data("fancybox-type"),m||(m=(m=f.prop("class").match(/fancybox\.(\w+)/))?m[1]:null)),l(h)&&(m||(g.isImage(h)?m="image":g.isSWF(h)?m="swf":"#"===h.charAt(0)?m="inline":l(f)&&(m="html",j=f)),"ajax"===m&&(n=h.split(/\s+/,2),h=n.shift(),n=n.shift())),j||("inline"===m?h?j=c(l(h)?h.replace(/.*(?=#[^\s]+$)/,""):h):o.isDom&&(j=f):"html"===m?j=h:!m&&!h&&o.isDom&&(m="inline",j=f)),c.extend(o,{href:h,type:m,content:j,title:i,selector:n}),a[e]=o}),g.opts=c.extend(!0,{},g.defaults,b),b.keys!==d&&(g.opts.keys=b.keys?c.extend({},g.defaults.keys,b.keys):!1),g.group=a,g._start(g.opts.index)):void 0},cancel:function(){var a=g.coming;a&&!1!==g.trigger("onCancel")&&(g.hideLoading(),g.ajaxLoad&&g.ajaxLoad.abort(),g.ajaxLoad=null,g.imgPreload&&(g.imgPreload.onload=g.imgPreload.onerror=null),a.wrap&&a.wrap.stop(!0,!0).trigger("onReset").remove(),g.coming=null,g.current||g._afterZoomOut(a))},close:function(a){g.cancel(),!1!==g.trigger("beforeClose")&&(g.unbindEvents(),g.isActive&&(g.isOpen&&!0!==a?(g.isOpen=g.isOpened=!1,g.isClosing=!0,c(".fancybox-item, .fancybox-nav").remove(),g.wrap.stop(!0,!0).removeClass("fancybox-opened"),g.transitions[g.current.closeMethod]()):(c(".fancybox-wrap").stop(!0).trigger("onReset").remove(),g._afterZoomOut())))},play:function(a){var b=function(){clearTimeout(g.player.timer)},d=function(){b(),g.current&&g.player.isActive&&(g.player.timer=setTimeout(g.next,g.current.playSpeed))},e=function(){b(),c("body").unbind(".player"),g.player.isActive=!1,g.trigger("onPlayEnd")};!0===a||!g.player.isActive&&!1!==a?g.current&&(g.current.loop||g.current.index<g.group.length-1)&&(g.player.isActive=!0,c("body").bind({"afterShow.player onUpdate.player":d,"onCancel.player beforeClose.player":e,"beforeLoad.player":b}),d(),g.trigger("onPlayStart")):e()},next:function(a){var b=g.current;b&&(l(a)||(a=b.direction.next),g.jumpto(b.index+1,a,"next"))},prev:function(a){var b=g.current;b&&(l(a)||(a=b.direction.prev),g.jumpto(b.index-1,a,"prev"))},jumpto:function(a,b,c){var e=g.current;e&&(a=n(a),g.direction=b||e.direction[a>=e.index?"next":"prev"],g.router=c||"jumpto",e.loop&&(0>a&&(a=e.group.length+a%e.group.length),a%=e.group.length),e.group[a]!==d&&(g.cancel(),g._start(a)))},reposition:function(a,b){var d,e=g.current,f=e?e.wrap:null;f&&(d=g._getPosition(b),a&&"scroll"===a.type?(delete d.position,f.stop(!0,!0).animate(d,200)):(f.css(d),e.pos=c.extend({},e.dim,d)))},update:function(a){var b=a&&a.type,c=!b||"orientationchange"===b;c&&(clearTimeout(i),i=null),g.isOpen&&!i&&(i=setTimeout(function(){var d=g.current;d&&!g.isClosing&&(g.wrap.removeClass("fancybox-tmp"),(c||"load"===b||"resize"===b&&d.autoResize)&&g._setDimension(),"scroll"===b&&d.canShrink||g.reposition(a),g.trigger("onUpdate"),i=null)},c&&!j?0:300))},toggle:function(a){g.isOpen&&(g.current.fitToView="boolean"===c.type(a)?a:!g.current.fitToView,j&&(g.wrap.removeAttr("style").addClass("fancybox-tmp"),g.trigger("onUpdate")),g.update())},hideLoading:function(){f.unbind(".loading"),c("#fancybox-loading").remove()},showLoading:function(){var a,b;g.hideLoading(),a=c('<div id="fancybox-loading"><div></div></div>').click(g.cancel).appendTo("body"),f.bind("keydown.loading",function(a){27===(a.which||a.keyCode)&&(a.preventDefault(),g.cancel())}),g.defaults.fixed||(b=g.getViewport(),a.css({position:"absolute",top:.5*b.h+b.y,left:.5*b.w+b.x}))},getViewport:function(){var b=g.current&&g.current.locked||!1,c={x:e.scrollLeft(),y:e.scrollTop()};return b?(c.w=b[0].clientWidth,c.h=b[0].clientHeight):(c.w=j&&a.innerWidth?a.innerWidth:e.width(),c.h=j&&a.innerHeight?a.innerHeight:e.height()),c},unbindEvents:function(){g.wrap&&k(g.wrap)&&g.wrap.unbind(".fb"),f.unbind(".fb"),e.unbind(".fb")},bindEvents:function(){var a,b=g.current;b&&(e.bind("orientationchange.fb"+(j?"":" resize.fb")+(b.autoCenter&&!b.locked?" scroll.fb":""),g.update),(a=b.keys)&&f.bind("keydown.fb",function(e){var f=e.which||e.keyCode,h=e.target||e.srcElement;return 27===f&&g.coming?!1:void(!e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey&&(!h||!h.type&&!c(h).is("[contenteditable]"))&&c.each(a,function(a,h){return 1<b.group.length&&h[f]!==d?(g[a](h[f]),e.preventDefault(),!1):-1<c.inArray(f,h)?(g[a](),e.preventDefault(),!1):void 0}))}),c.fn.mousewheel&&b.mouseWheel&&g.wrap.bind("mousewheel.fb",function(a,d,e,f){for(var h=c(a.target||null),i=!1;h.length&&!i&&!h.is(".fancybox-skin")&&!h.is(".fancybox-wrap");)i=h[0]&&!(h[0].style.overflow&&"hidden"===h[0].style.overflow)&&(h[0].clientWidth&&h[0].scrollWidth>h[0].clientWidth||h[0].clientHeight&&h[0].scrollHeight>h[0].clientHeight),h=c(h).parent();0!==d&&!i&&1<g.group.length&&!b.canShrink&&(f>0||e>0?g.prev(f>0?"down":"left"):(0>f||0>e)&&g.next(0>f?"up":"right"),a.preventDefault())}))},trigger:function(a,b){var d,e=b||g.coming||g.current;if(e){if(c.isFunction(e[a])&&(d=e[a].apply(e,Array.prototype.slice.call(arguments,1))),!1===d)return!1;e.helpers&&c.each(e.helpers,function(b,d){d&&g.helpers[b]&&c.isFunction(g.helpers[b][a])&&(d=c.extend(!0,{},g.helpers[b].defaults,d),g.helpers[b][a](d,e))}),c.event.trigger(a+".fb")}},isImage:function(a){return l(a)&&a.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$)/i)},isSWF:function(a){return l(a)&&a.match(/\.(swf)((\?|#).*)?$/i)},_start:function(a){var b,d,e={};if(a=n(a),b=g.group[a]||null,!b)return!1;if(e=c.extend(!0,{},g.opts,b),b=e.margin,d=e.padding,"number"===c.type(b)&&(e.margin=[b,b,b,b]),"number"===c.type(d)&&(e.padding=[d,d,d,d]),e.modal&&c.extend(!0,e,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),e.autoSize&&(e.autoWidth=e.autoHeight=!0),"auto"===e.width&&(e.autoWidth=!0),"auto"===e.height&&(e.autoHeight=!0),e.group=g.group,e.index=a,g.coming=e,!1===g.trigger("beforeLoad"))g.coming=null;else{if(d=e.type,b=e.href,!d)return g.coming=null,g.current&&g.router&&"jumpto"!==g.router?(g.current.index=a,g[g.router](g.direction)):!1;if(g.isActive=!0,("image"===d||"swf"===d)&&(e.autoHeight=e.autoWidth=!1,e.scrolling="visible"),"image"===d&&(e.aspectRatio=!0),"iframe"===d&&j&&(e.scrolling="scroll"),e.wrap=c(e.tpl.wrap).addClass("fancybox-"+(j?"mobile":"desktop")+" fancybox-type-"+d+" fancybox-tmp "+e.wrapCSS).appendTo(e.parent||"body"),c.extend(e,{skin:c(".fancybox-skin",e.wrap),outer:c(".fancybox-outer",e.wrap),inner:c(".fancybox-inner",e.wrap)}),c.each(["Top","Right","Bottom","Left"],function(a,b){e.skin.css("padding"+b,o(e.padding[a]))}),g.trigger("onReady"),"inline"===d||"html"===d){if(!e.content||!e.content.length)return g._error("content")}else if(!b)return g._error("href");"image"===d?g._loadImage():"ajax"===d?g._loadAjax():"iframe"===d?g._loadIframe():g._afterLoad()}},_error:function(a){c.extend(g.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:a,content:g.coming.tpl.error}),g._afterLoad()},_loadImage:function(){var a=g.imgPreload=new Image;a.onload=function(){this.onload=this.onerror=null,g.coming.width=this.width,g.coming.height=this.height,g._afterLoad()},a.onerror=function(){this.onload=this.onerror=null,g._error("image")},a.src=g.coming.href,!0!==a.complete&&g.showLoading()},_loadAjax:function(){var a=g.coming;g.showLoading(),g.ajaxLoad=c.ajax(c.extend({},a.ajax,{url:a.href,error:function(a,b){g.coming&&"abort"!==b?g._error("ajax",a):g.hideLoading()},success:function(b,c){"success"===c&&(a.content=b,g._afterLoad())}}))},_loadIframe:function(){var a=g.coming,b=c(a.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",j?"auto":a.iframe.scrolling).attr("src",a.href);c(a.wrap).bind("onReset",function(){try{c(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(a){}}),a.iframe.preload&&(g.showLoading(),b.one("load",function(){c(this).data("ready",1),j||c(this).bind("load.fb",g.update),c(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),g._afterLoad()})),a.content=b.appendTo(a.inner),a.iframe.preload||g._afterLoad()},_preloadImages:function(){var a,b,c=g.group,d=g.current,e=c.length,f=d.preload?Math.min(d.preload,e-1):0;for(b=1;f>=b;b+=1)a=c[(d.index+b)%e],"image"===a.type&&a.href&&((new Image).src=a.href)},_afterLoad:function(){var a,b,d,e,f,h=g.coming,i=g.current;if(g.hideLoading(),h&&!1!==g.isActive)if(!1===g.trigger("afterLoad",h,i))h.wrap.stop(!0).trigger("onReset").remove(),g.coming=null;else{switch(i&&(g.trigger("beforeChange",i),i.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),g.unbindEvents(),a=h.content,b=h.type,d=h.scrolling,c.extend(g,{wrap:h.wrap,skin:h.skin,outer:h.outer,inner:h.inner,current:h,previous:i}),e=h.href,b){case"inline":case"ajax":case"html":h.selector?a=c("<div>").html(a).find(h.selector):k(a)&&(a.data("fancybox-placeholder")||a.data("fancybox-placeholder",c('<div class="fancybox-placeholder"></div>').insertAfter(a).hide()),a=a.show().detach(),h.wrap.bind("onReset",function(){c(this).find(a).length&&a.hide().replaceAll(a.data("fancybox-placeholder")).data("fancybox-placeholder",!1)}));break;case"image":a=h.tpl.image.replace("{href}",e);break;case"swf":a='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+e+'"></param>',f="",c.each(h.swf,function(b,c){a+='<param name="'+b+'" value="'+c+'"></param>',f+=" "+b+'="'+c+'"'}),a+='<embed src="'+e+'" type="application/x-shockwave-flash" width="100%" height="100%"'+f+"></embed></object>"}(!k(a)||!a.parent().is(h.inner))&&h.inner.append(a),g.trigger("beforeShow"),h.inner.css("overflow","yes"===d?"scroll":"no"===d?"hidden":d),g._setDimension(),g.reposition(),g.isOpen=!1,g.coming=null,g.bindEvents(),g.isOpened?i.prevMethod&&g.transitions[i.prevMethod]():c(".fancybox-wrap").not(h.wrap).stop(!0).trigger("onReset").remove(),g.transitions[g.isOpened?h.nextMethod:h.openMethod](),g._preloadImages()}},_setDimension:function(){var a,b,d,e,f,h,i,j,k,l=g.getViewport(),p=0,q=!1,r=!1,q=g.wrap,s=g.skin,t=g.inner,u=g.current,r=u.width,v=u.height,w=u.minWidth,x=u.minHeight,y=u.maxWidth,z=u.maxHeight,A=u.scrolling,B=u.scrollOutside?u.scrollbarWidth:0,C=u.margin,D=n(C[1]+C[3]),E=n(C[0]+C[2]);if(q.add(s).add(t).width("auto").height("auto").removeClass("fancybox-tmp"),C=n(s.outerWidth(!0)-s.width()),a=n(s.outerHeight(!0)-s.height()),b=D+C,d=E+a,e=m(r)?(l.w-b)*n(r)/100:r,f=m(v)?(l.h-d)*n(v)/100:v,"iframe"===u.type){if(k=u.content,u.autoHeight&&1===k.data("ready"))try{k[0].contentWindow.document.location&&(t.width(e).height(9999),h=k.contents().find("body"),B&&h.css("overflow-x","hidden"),f=h.height())}catch(F){}}else(u.autoWidth||u.autoHeight)&&(t.addClass("fancybox-tmp"),u.autoWidth||t.width(e),u.autoHeight||t.height(f),u.autoWidth&&(e=t.width()),u.autoHeight&&(f=t.height()),t.removeClass("fancybox-tmp"));if(r=n(e),v=n(f),j=e/f,w=n(m(w)?n(w,"w")-b:w),y=n(m(y)?n(y,"w")-b:y),x=n(m(x)?n(x,"h")-d:x),z=n(m(z)?n(z,"h")-d:z),h=y,i=z,u.fitToView&&(y=Math.min(l.w-b,y),z=Math.min(l.h-d,z)),b=l.w-D,E=l.h-E,u.aspectRatio?(r>y&&(r=y,v=n(r/j)),v>z&&(v=z,r=n(v*j)),w>r&&(r=w,v=n(r/j)),x>v&&(v=x,r=n(v*j))):(r=Math.max(w,Math.min(r,y)),u.autoHeight&&"iframe"!==u.type&&(t.width(r),v=t.height()),v=Math.max(x,Math.min(v,z))),u.fitToView)if(t.width(r).height(v),q.width(r+C),l=q.width(),D=q.height(),u.aspectRatio)for(;(l>b||D>E)&&r>w&&v>x&&!(19<p++);)v=Math.max(x,Math.min(z,v-10)),r=n(v*j),w>r&&(r=w,v=n(r/j)),r>y&&(r=y,v=n(r/j)),t.width(r).height(v),q.width(r+C),l=q.width(),D=q.height();else r=Math.max(w,Math.min(r,r-(l-b))),v=Math.max(x,Math.min(v,v-(D-E)));B&&"auto"===A&&f>v&&b>r+C+B&&(r+=B),t.width(r).height(v),q.width(r+C),l=q.width(),D=q.height(),q=(l>b||D>E)&&r>w&&v>x,r=u.aspectRatio?h>r&&i>v&&e>r&&f>v:(h>r||i>v)&&(e>r||f>v),c.extend(u,{dim:{width:o(l),height:o(D)},origWidth:e,origHeight:f,canShrink:q,canExpand:r,wPadding:C,hPadding:a,wrapSpace:D-s.outerHeight(!0),skinSpace:s.height()-v}),!k&&u.autoHeight&&v>x&&z>v&&!r&&t.height("auto")},_getPosition:function(a){var b=g.current,c=g.getViewport(),d=b.margin,e=g.wrap.width()+d[1]+d[3],f=g.wrap.height()+d[0]+d[2],d={position:"absolute",top:d[0],left:d[3]};return b.autoCenter&&b.fixed&&!a&&f<=c.h&&e<=c.w?d.position="fixed":b.locked||(d.top+=c.y,d.left+=c.x),d.top=o(Math.max(d.top,d.top+(c.h-f)*b.topRatio)),d.left=o(Math.max(d.left,d.left+(c.w-e)*b.leftRatio)),d},_afterZoomIn:function(){var a=g.current;a&&(g.isOpen=g.isOpened=!0,g.wrap.css("overflow","visible").addClass("fancybox-opened"),g.update(),(a.closeClick||a.nextClick&&1<g.group.length)&&g.inner.css("cursor","pointer").bind("click.fb",function(b){!c(b.target).is("a")&&!c(b.target).parent().is("a")&&(b.preventDefault(),g[a.closeClick?"close":"next"]())}),a.closeBtn&&c(a.tpl.closeBtn).appendTo(g.skin).bind("click.fb",function(a){a.preventDefault(),g.close()}),a.arrows&&1<g.group.length&&((a.loop||0<a.index)&&c(a.tpl.prev).appendTo(g.outer).bind("click.fb",g.prev),(a.loop||a.index<g.group.length-1)&&c(a.tpl.next).appendTo(g.outer).bind("click.fb",g.next)),g.trigger("afterShow"),a.loop||a.index!==a.group.length-1?g.opts.autoPlay&&!g.player.isActive&&(g.opts.autoPlay=!1,g.play()):g.play(!1))},_afterZoomOut:function(a){a=a||g.current,c(".fancybox-wrap").trigger("onReset").remove(),c.extend(g,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),g.trigger("afterClose",a)}}),g.transitions={getOrigPosition:function(){var a=g.current,b=a.element,c=a.orig,d={},e=50,f=50,h=a.hPadding,i=a.wPadding,j=g.getViewport();return!c&&a.isDom&&b.is(":visible")&&(c=b.find("img:first"),c.length||(c=b)),k(c)?(d=c.offset(),c.is("img")&&(e=c.outerWidth(),f=c.outerHeight())):(d.top=j.y+(j.h-f)*a.topRatio,d.left=j.x+(j.w-e)*a.leftRatio),("fixed"===g.wrap.css("position")||a.locked)&&(d.top-=j.y,d.left-=j.x),d={top:o(d.top-h*a.topRatio),left:o(d.left-i*a.leftRatio),width:o(e+i),height:o(f+h)}},step:function(a,b){var c,d,e=b.prop;d=g.current;var f=d.wrapSpace,h=d.skinSpace;("width"===e||"height"===e)&&(c=b.end===b.start?1:(a-b.start)/(b.end-b.start),g.isClosing&&(c=1-c),d="width"===e?d.wPadding:d.hPadding,d=a-d,g.skin[e](n("width"===e?d:d-f*c)),g.inner[e](n("width"===e?d:d-f*c-h*c)))},zoomIn:function(){var a=g.current,b=a.pos,d=a.openEffect,e="elastic"===d,f=c.extend({opacity:1},b);delete f.position,e?(b=this.getOrigPosition(),a.openOpacity&&(b.opacity=.1)):"fade"===d&&(b.opacity=.1),g.wrap.css(b).animate(f,{duration:"none"===d?0:a.openSpeed,easing:a.openEasing,step:e?this.step:null,complete:g._afterZoomIn})},zoomOut:function(){var a=g.current,b=a.closeEffect,c="elastic"===b,d={opacity:.1};c&&(d=this.getOrigPosition(),a.closeOpacity&&(d.opacity=.1)),g.wrap.animate(d,{duration:"none"===b?0:a.closeSpeed,easing:a.closeEasing,step:c?this.step:null,complete:g._afterZoomOut})},changeIn:function(){var a,b=g.current,c=b.nextEffect,d=b.pos,e={opacity:1},f=g.direction;d.opacity=.1,"elastic"===c&&(a="down"===f||"up"===f?"top":"left","down"===f||"right"===f?(d[a]=o(n(d[a])-200),e[a]="+=200px"):(d[a]=o(n(d[a])+200),e[a]="-=200px")),"none"===c?g._afterZoomIn():g.wrap.css(d).animate(e,{duration:b.nextSpeed,easing:b.nextEasing,complete:g._afterZoomIn})},changeOut:function(){var a=g.previous,b=a.prevEffect,d={opacity:.1},e=g.direction;"elastic"===b&&(d["down"===e||"up"===e?"top":"left"]=("up"===e||"left"===e?"-":"+")+"=200px"),a.wrap.animate(d,{duration:"none"===b?0:a.prevSpeed,easing:a.prevEasing,complete:function(){c(this).trigger("onReset").remove()}})}},g.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!j,fixed:!0},overlay:null,fixed:!1,create:function(a){a=c.extend({},this.defaults,a),this.overlay&&this.close(),this.overlay=c('<div class="fancybox-overlay"></div>').appendTo("body"),this.fixed=!1,a.fixed&&g.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(a){var b=this;a=c.extend({},this.defaults,a),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(a),this.fixed||(e.bind("resize.overlay",c.proxy(this.update,this)),this.update()),a.closeClick&&this.overlay.bind("click.overlay",function(a){c(a.target).hasClass("fancybox-overlay")&&(g.isActive?g.close():b.close())}),this.overlay.css(a.css).show()},close:function(){c(".fancybox-overlay").remove(),e.unbind("resize.overlay"),this.overlay=null,!1!==this.margin&&(c("body").css("margin-right",this.margin),this.margin=!1),this.el&&this.el.removeClass("fancybox-lock")},update:function(){var a,c="100%";this.overlay.width(c).height("100%"),h?(a=Math.max(b.documentElement.offsetWidth,b.body.offsetWidth),f.width()>a&&(c=f.width())):f.width()>e.width()&&(c=f.width()),this.overlay.width(c).height(f.height())},onReady:function(a,d){c(".fancybox-overlay").stop(!0,!0),this.overlay||(this.margin=f.height()>e.height()||"scroll"===c("body").css("overflow-y")?c("body").css("margin-right"):!1,this.el=c(b.all&&!b.querySelector?"html":"body"),this.create(a)),a.locked&&this.fixed&&(d.locked=this.overlay.append(d.wrap),d.fixed=!1),!0===a.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(a,b){b.locked&&(this.el.addClass("fancybox-lock"),!1!==this.margin&&c("body").css("margin-right",n(this.margin)+b.scrollbarWidth)),this.open(a)},onUpdate:function(){this.fixed||this.update()},afterClose:function(a){this.overlay&&!g.isActive&&this.overlay.fadeOut(a.speedOut,c.proxy(this.close,this))}},g.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(a){var b=g.current,d=b.title,e=a.type;if(c.isFunction(d)&&(d=d.call(b.element,b)),l(d)&&""!==c.trim(d)){switch(b=c('<div class="fancybox-title fancybox-title-'+e+'-wrap">'+d+"</div>"),e){case"inside":e=g.skin;break;case"outside":e=g.wrap;break;case"over":e=g.inner;break;default:e=g.skin,b.appendTo("body"),h&&b.width(b.width()),b.wrapInner('<span class="child"></span>'),g.current.margin[2]+=Math.abs(n(b.css("margin-bottom")))}b["top"===a.position?"prependTo":"appendTo"](e)}}},c.fn.fancybox=function(a){var b,d=c(this),e=this.selector||"",h=function(f){var h,i,j=c(this).blur(),k=b;!f.ctrlKey&&!f.altKey&&!f.shiftKey&&!f.metaKey&&!j.is(".fancybox-wrap")&&(h=a.groupAttr||"data-fancybox-group",i=j.attr(h),i||(h="rel",i=j.get(0)[h]),i&&""!==i&&"nofollow"!==i&&(j=e.length?c(e):d,j=j.filter("["+h+'="'+i+'"]'),k=j.index(this)),a.index=k,!1!==g.open(j,a)&&f.preventDefault())};return a=a||{},b=a.index||0,e&&!1!==a.live?f.undelegate(e,"click.fb-start").delegate(e+":not('.fancybox-item, .fancybox-nav')","click.fb-start",h):d.unbind("click.fb-start").bind("click.fb-start",h),this.filter("[data-fancybox-start=1]").trigger("click"),this},f.ready(function(){if(c.scrollbarWidth===d&&(c.scrollbarWidth=function(){var a=c('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),b=a.children(),b=b.innerWidth()-b.height(99).innerWidth();return a.remove(),b}),c.support.fixedPosition===d){var a=c.support,b=c('<div style="position:fixed;top:20px;"></div>').appendTo("body"),e=20===b[0].offsetTop||15===b[0].offsetTop;b.remove(),a.fixedPosition=e}c.extend(g.defaults,{scrollbarWidth:c.scrollbarWidth(),fixed:c.support.fixedPosition,parent:c("body")})})}(window,document,jQuery),function(a){var b=a.fancybox;b.helpers.thumbs={defaults:{width:50,height:50,position:"bottom",source:function(b){var c;return b.element&&(c=a(b.element).find("img").attr("src")),!c&&"image"===b.type&&b.href&&(c=b.href),c}},wrap:null,list:null,width:0,init:function(b,c){var d,e=this,f=b.width,g=b.height,h=b.source;d="";for(var i=0;i<c.group.length;i++)d+='<li><a style="width:'+f+"px;height:"+g+'px;" href="javascript:jQuery.fancybox.jumpto('+i+');"></a></li>';this.wrap=a('<div id="fancybox-thumbs"></div>').addClass(b.position).appendTo("body"),this.list=a("<ul>"+d+"</ul>").appendTo(this.wrap),a.each(c.group,function(b){var d=h(c.group[b]);d&&a("<img />").load(function(){var c,d,h,i=this.width,j=this.height;e.list&&i&&j&&(c=i/f,d=j/g,h=e.list.children().eq(b).find("a"),c>=1&&d>=1&&(c>d?(i=Math.floor(i/d),j=g):(i=f,j=Math.floor(j/c))),a(this).css({width:i,height:j,top:Math.floor(g/2-j/2),left:Math.floor(f/2-i/2)}),h.width(f).height(g),a(this).hide().appendTo(h).fadeIn(300))}).attr("src",d)}),this.width=this.list.children().eq(0).outerWidth(!0),this.list.width(this.width*(c.group.length+1)).css("left",Math.floor(.5*a(window).width()-(c.index*this.width+.5*this.width)))},beforeLoad:function(a,b){return b.group.length<2?void(b.helpers.thumbs=!1):void(b.margin["top"===a.position?0:2]+=a.height+15)},afterShow:function(a,b){this.list?this.onUpdate(a,b):this.init(a,b),this.list.children().removeClass("active").eq(b.index).addClass("active")},onUpdate:function(b,c){this.list&&this.list.stop(!0).animate({left:Math.floor(.5*a(window).width()-(c.index*this.width+.5*this.width))},150)},beforeClose:function(){this.wrap&&this.wrap.remove(),this.wrap=null,this.list=null,this.width=0}}}(jQuery),function(a,b,c){function d(a){var b={},d=/^jQuery\d+$/;return c.each(a.attributes,function(a,c){c.specified&&!d.test(c.name)&&(b[c.name]=c.value)}),b}function e(a,b){var d=this,e=c(d);if(d.value==e.attr("placeholder")&&e.hasClass("placeholder"))if(e.data("placeholder-password")){if(e=e.hide().next().show().attr("id",e.removeAttr("id").data("placeholder-id")),a===!0)return e[0].value=b;e.focus()}else d.value="",e.removeClass("placeholder"),d==g()&&d.select()}function f(){var a,b=this,f=c(b),g=this.id;if(""==b.value){if("password"==b.type){if(!f.data("placeholder-textinput")){try{a=f.clone().attr({type:"text"})}catch(h){a=c("<input>").attr(c.extend(d(this),{type:"text"}))}a.removeAttr("name").data({"placeholder-password":f,"placeholder-id":g}).bind("focus.placeholder",e),f.data({"placeholder-textinput":a,"placeholder-id":g}).before(a)}f=f.removeAttr("id").hide().prev().attr("id",g).show()}f.addClass("placeholder"),f[0].value=f.attr("placeholder")}else f.removeClass("placeholder")}function g(){try{return b.activeElement}catch(a){}}var h,i,j="[object OperaMini]"==Object.prototype.toString.call(a.operamini),k="placeholder"in b.createElement("input")&&!j,l="placeholder"in b.createElement("textarea")&&!j,m=c.fn,n=c.valHooks,o=c.propHooks;k&&l?(i=m.placeholder=function(){return this},i.input=i.textarea=!0):(i=m.placeholder=function(){var a=this;return a.filter((k?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":e,"blur.placeholder":f}).data("placeholder-enabled",!0).trigger("blur.placeholder"),a},i.input=k,i.textarea=l,h={get:function(a){var b=c(a),d=b.data("placeholder-password");return d?d[0].value:b.data("placeholder-enabled")&&b.hasClass("placeholder")?"":a.value},set:function(a,b){var d=c(a),h=d.data("placeholder-password");return h?h[0].value=b:d.data("placeholder-enabled")?(""==b?(a.value=b,a!=g()&&f.call(a)):d.hasClass("placeholder")?e.call(a,!0,b)||(a.value=b):a.value=b,d):a.value=b}},k||(n.input=h,o.value=h),l||(n.textarea=h,o.value=h),c(function(){c(b).delegate("form","submit.placeholder",function(){var a=c(".placeholder",this).each(e);setTimeout(function(){a.each(f)},10)})}),c(a).bind("beforeunload.placeholder",function(){c(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),function(a){a.fn.extend({complexify:function(b,c){function d(a,b){for(var c=a.length-1;c>=0;c--)if(b[0]<=a.charCodeAt(c)&&a.charCodeAt(c)<=b[1])return b[1]-b[0]+1;return 0}function e(c){if("strict"===b.banmode){for(var d=0;d<b.bannedPasswords.length;d++)if(-1!==b.bannedPasswords[d].indexOf(c))return!0;return!1}return a.inArray(c,b.bannedPasswords)>-1?!0:!1}function f(){var f=a(this).val(),j=0,k=!1;if(e(f))j=1;else for(var l=i.length-1;l>=0;l--)j+=d(f,i[l]);j=Math.log(Math.pow(j,f.length))*(1/b.strengthScaleFactor),k=j>g&&f.length>=b.minimumChars,j=j/h*100,j=j>100?100:j,c.call(this,k,j)}var g=49,h=120,i=[[48,57],[65,90],[97,122],[33,47],[58,64],[91,96],[123,126],[128,255],[256,383],[384,591],[592,687],[688,767],[768,879],[880,1023],[1024,1279],[1328,1423],[1424,1535],[1536,1791],[1792,1871],[1920,1983],[2304,2431],[2432,2559],[2560,2687],[2688,2815],[2816,2943],[2944,3071],[3072,3199],[3200,3327],[3328,3455],[3456,3583],[3584,3711],[3712,3839],[3840,4095],[4096,4255],[4256,4351],[4352,4607],[4608,4991],[5024,5119],[5120,5759],[5760,5791],[5792,5887],[6016,6143],[6144,6319],[7680,7935],[7936,8191],[8192,8303],[8304,8351],[8352,8399],[8400,8447],[8448,8527],[8528,8591],[8592,8703],[8704,8959],[8960,9215],[9216,9279],[9280,9311],[9312,9471],[9472,9599],[9600,9631],[9632,9727],[9728,9983],[9984,10175],[10240,10495],[11904,12031],[12032,12255],[12272,12287],[12288,12351],[12352,12447],[12448,12543],[12544,12591],[12592,12687],[12688,12703],[12704,12735],[12800,13055],[13056,13311],[13312,19893],[19968,40959],[40960,42127],[42128,42191],[44032,55203],[55296,56191],[56192,56319],[56320,57343],[57344,63743],[63744,64255],[64256,64335],[64336,65023],[65056,65071],[65072,65103],[65104,65135],[65136,65278],[65279,65279],[65280,65519],[65520,65533]],j={
minimumChars:8,strengthScaleFactor:1,bannedPasswords:window.COMPLEXIFY_BANLIST||[],banmode:"strict",evaluateOnInit:!0};return a.isFunction(b)&&!c&&(c=b,b={}),b=a.extend(j,b),b.evaluateOnInit&&this.each(function(){f.apply(this)}),this.each(function(){a(this).bind("keyup focus",f)})}})}(jQuery),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){a.extend(a.fn,{validate:function(b){if(!this.length)return void(b&&b.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var c=a.data(this[0],"validator");return c?c:(this.attr("novalidate","novalidate"),c=new a.validator(b,this[0]),a.data(this[0],"validator",c),c.settings.onsubmit&&(this.validateDelegate(":submit","click",function(b){c.settings.submitHandler&&(c.submitButton=b.target),a(b.target).hasClass("cancel")&&(c.cancelSubmit=!0),void 0!==a(b.target).attr("formnovalidate")&&(c.cancelSubmit=!0)}),this.submit(function(b){function d(){var d;return c.settings.submitHandler?(c.submitButton&&(d=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(a(c.submitButton).val()).appendTo(c.currentForm)),c.settings.submitHandler.call(c,c.currentForm,b),c.submitButton&&d.remove(),!1):!0}return c.settings.debug&&b.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)})),c)},valid:function(){var b,c;return a(this[0]).is("form")?b=this.validate().form():(b=!0,c=a(this[0].form).validate(),this.each(function(){b=c.element(this)&&b})),b},removeAttrs:function(b){var c={},d=this;return a.each(b.split(/\s/),function(a,b){c[b]=d.attr(b),d.removeAttr(b)}),c},rules:function(b,c){var d,e,f,g,h,i,j=this[0];if(b)switch(d=a.data(j.form,"validator").settings,e=d.rules,f=a.validator.staticRules(j),b){case"add":a.extend(f,a.validator.normalizeRule(c)),delete f.messages,e[j.name]=f,c.messages&&(d.messages[j.name]=a.extend(d.messages[j.name],c.messages));break;case"remove":return c?(i={},a.each(c.split(/\s/),function(b,c){i[c]=f[c],delete f[c],"required"===c&&a(j).removeAttr("aria-required")}),i):(delete e[j.name],f)}return g=a.validator.normalizeRules(a.extend({},a.validator.classRules(j),a.validator.attributeRules(j),a.validator.dataRules(j),a.validator.staticRules(j)),j),g.required&&(h=g.required,delete g.required,g=a.extend({required:h},g),a(j).attr("aria-required","true")),g.remote&&(h=g.remote,delete g.remote,g=a.extend(g,{remote:h})),g}}),a.extend(a.expr[":"],{blank:function(b){return!a.trim(""+a(b).val())},filled:function(b){return!!a.trim(""+a(b).val())},unchecked:function(b){return!a(b).prop("checked")}}),a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,b),this.currentForm=c,this.init()},a.validator.format=function(b,c){return 1===arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(b),a.validator.format.apply(this,c)}:(arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(a,c){b=b.replace(new RegExp("\\{"+a+"\\}","g"),function(){return c})}),b)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a){this.lastActive=a,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(a)))},onfocusout:function(a){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(a,b){(9!==b.which||""!==this.elementValue(a))&&(a.name in this.submitted||a===this.lastElement)&&this.element(a)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)},unhighlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function b(b){var c=a.data(this[0].form,"validator"),d="on"+b.type.replace(/^validate/,""),e=c.settings;e[d]&&!this.is(e.ignore)&&e[d].call(c,this[0],b)}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var c,d=this.groups={};a.each(this.settings.groups,function(b,c){"string"==typeof c&&(c=c.split(/\s/)),a.each(c,function(a,c){d[c]=b})}),c=this.settings.rules,a.each(c,function(b,d){c[b]=a.validator.normalizeRule(d)}),a(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']","focusin focusout keyup",b).validateDelegate("select, option, [type='radio'], [type='checkbox']","click",b),this.settings.invalidHandler&&a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler),a(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(b){var c=this.clean(b),d=this.validationTargetFor(c),e=!0;return this.lastElement=d,void 0===d?delete this.invalid[c.name]:(this.prepareElement(d),this.currentElements=a(d),e=this.check(d)!==!1,e?delete this.invalid[d.name]:this.invalid[d.name]=!0),a(b).attr("aria-invalid",!e),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),e},showErrors:function(b){if(b){a.extend(this.errorMap,b),this.errorList=[];for(var c in b)this.errorList.push({message:b[c],element:this.findByName(c)[0]});this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b,c=0;for(b in a)c++;return c},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(a){a.not(this.containers).text(""),this.addWrapper(a).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}},findLastActive:function(){var b=this.lastActive;return b&&1===a.grep(this.errorList,function(a){return a.element.name===b.name}).length&&b},elements:function(){var b=this,c={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&b.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in c||!b.objectLength(a(this).rules())?!1:(c[this.name]=!0,!0)})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.split(" ").join(".");return a(this.settings.errorElement+"."+b,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([]),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function(b){var c,d=a(b),e=b.type;return"radio"===e||"checkbox"===e?a("input[name='"+b.name+"']:checked").val():"number"===e&&"undefined"!=typeof b.validity?b.validity.badInput?!1:d.val():(c=d.val(),"string"==typeof c?c.replace(/\r/g,""):c)},check:function(b){b=this.validationTargetFor(this.clean(b));var c,d,e,f=a(b).rules(),g=a.map(f,function(a,b){return b}).length,h=!1,i=this.elementValue(b);for(d in f){e={method:d,parameters:f[d]};try{if(c=a.validator.methods[d].call(this,i,b,e.parameters),"dependency-mismatch"===c&&1===g){h=!0;continue}if(h=!1,"pending"===c)return void(this.toHide=this.toHide.not(this.errorsFor(b)));if(!c)return this.formatAndAdd(b,e),!1}catch(j){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+b.id+", check the '"+e.method+"' method.",j),j}}if(!h)return this.objectLength(f)&&this.successList.push(b),!0},customDataMessage:function(b,c){return a(b).data("msg"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase())||a(b).data("msg")},customMessage:function(a,b){var c=this.settings.messages[a];return c&&(c.constructor===String?c:c[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a];return void 0},defaultMessage:function(b,c){return this.findDefined(this.customMessage(b.name,c),this.customDataMessage(b,c),!this.settings.ignoreTitle&&b.title||void 0,a.validator.messages[c],"<strong>Warning: No message defined for "+b.name+"</strong>")},formatAndAdd:function(b,c){var d=this.defaultMessage(b,c.method),e=/\$?\{(\d+)\}/g;"function"==typeof d?d=d.call(this,c.parameters,b):e.test(d)&&(d=a.validator.format(d.replace(e,"{$1}"),c.parameters)),this.errorList.push({message:d,element:b,method:c.method}),this.errorMap[b.name]=d,this.submitted[b.name]=d},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var a,b,c;for(a=0;this.errorList[a];a++)c=this.errorList[a],this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){var d,e,f,g=this.errorsFor(b),h=this.idOrName(b),i=a(b).attr("aria-describedby");g.length?(g.removeClass(this.settings.validClass).addClass(this.settings.errorClass),g.html(c)):(g=a("<"+this.settings.errorElement+">").attr("id",h+"-error").addClass(this.settings.errorClass).html(c||""),d=g,this.settings.wrapper&&(d=g.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(d):this.settings.errorPlacement?this.settings.errorPlacement(d,a(b)):d.insertAfter(b),g.is("label")?g.attr("for",h):0===g.parents("label[for='"+h+"']").length&&(f=g.attr("id"),i?i.match(new RegExp("\b"+f+"\b"))||(i+=" "+f):i=f,a(b).attr("aria-describedby",i),e=this.groups[b.name],e&&a.each(this.groups,function(b,c){c===e&&a("[name='"+b+"']",this.currentForm).attr("aria-describedby",g.attr("id"))}))),!c&&this.settings.success&&(g.text(""),"string"==typeof this.settings.success?g.addClass(this.settings.success):this.settings.success(g,b)),this.toShow=this.toShow.add(g)},errorsFor:function(b){var c=this.idOrName(b),d=a(b).attr("aria-describedby"),e="label[for='"+c+"'], label[for='"+c+"'] *";return d&&(e=e+", #"+d.replace(/\s+/g,", #")),this.errors().filter(e)},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){return this.checkable(a)&&(a=this.findByName(a.name).not(this.settings.ignore)[0]),a},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){return a(this.currentForm).find("[name='"+b+"']")},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return b.length},depend:function(a,b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):!0},dependTypes:{"boolean":function(a){return a},string:function(b,c){return!!a(b,c.form).length},"function":function(a,b){return a(b)}},optional:function(b){var c=this.elementValue(b);return!a.validator.methods.required.call(this,c,b)&&"dependency-mismatch"},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,this.pending[a.name]=!0)},stopRequest:function(b,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[b.name],c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,c){b.constructor===String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(b){var c={},d=a(b).attr("class");return d&&a.each(d.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},attributeRules:function(b){var c,d,e={},f=a(b),g=b.getAttribute("type");for(c in a.validator.methods)"required"===c?(d=b.getAttribute(c),""===d&&(d=!0),d=!!d):d=f.attr(c),/min|max/.test(c)&&(null===g||/number|range|text/.test(g))&&(d=Number(d)),d||0===d?e[c]=d:g===c&&"range"!==g&&(e[c]=!0);return e.maxlength&&/-1|2147483647|524288/.test(e.maxlength)&&delete e.maxlength,e},dataRules:function(b){var c,d,e={},f=a(b);for(c in a.validator.methods)d=f.data("rule"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase()),void 0!==d&&(e[c]=d);return e},staticRules:function(b){var c={},d=a.data(b.form,"validator");return d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[b.name])||{}),c},normalizeRules:function(b,c){return a.each(b,function(d,e){if(e===!1)return void delete b[d];if(e.param||e.depends){var f=!0;switch(typeof e.depends){case"string":f=!!a(e.depends,c.form).length;break;case"function":f=e.depends.call(c,c)}f?b[d]=void 0!==e.param?e.param:!0:delete b[d]}}),a.each(b,function(d,e){b[d]=a.isFunction(e)?e(c):e}),a.each(["minlength","maxlength"],function(){b[this]&&(b[this]=Number(b[this]))}),a.each(["rangelength","range"],function(){var c;b[this]&&(a.isArray(b[this])?b[this]=[Number(b[this][0]),Number(b[this][1])]:"string"==typeof b[this]&&(c=b[this].replace(/[\[\]]/g,"").split(/[\s,]+/),b[this]=[Number(c[0]),Number(c[1])]))}),a.validator.autoCreateRanges&&(b.min&&b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),b.minlength&&b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b},normalizeRule:function(b){if("string"==typeof b){var c={};a.each(b.split(/\s/),function(){c[this]=!0}),b=c}return b},addMethod:function(b,c,d){a.validator.methods[b]=c,a.validator.messages[b]=void 0!==d?d:a.validator.messages[b],c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,c,d){if(!this.depend(d,c))return"dependency-mismatch";if("select"===c.nodeName.toLowerCase()){var e=a(c).val();return e&&e.length>0}return this.checkable(c)?this.getLength(b,c)>0:a.trim(b).length>0},email:function(a,b){return this.optional(b)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a)},url:function(a,b){return this.optional(b)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a).toString())},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9 \-]+/.test(a))return!1;var c,d,e=0,f=0,g=!1;if(a=a.replace(/\D/g,""),a.length<13||a.length>19)return!1;for(c=a.length-1;c>=0;c--)d=a.charAt(c),f=parseInt(d,10),g&&(f*=2)>9&&(f-=9),e+=f,g=!g;return e%10===0},minlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||e>=d},maxlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||d>=e},rangelength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||e>=d[0]&&e<=d[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||c>=a},range:function(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},equalTo:function(b,c,d){var e=a(d);return this.settings.onfocusout&&e.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(c).valid()}),b===e.val()},remote:function(b,c,d){if(this.optional(c))return"dependency-mismatch";var e,f,g=this.previousValue(c);return this.settings.messages[c.name]||(this.settings.messages[c.name]={}),g.originalMessage=this.settings.messages[c.name].remote,this.settings.messages[c.name].remote=g.message,d="string"==typeof d&&{url:d}||d,g.old===b?g.valid:(g.old=b,e=this,this.startRequest(c),f={},f[c.name]=b,a.ajax(a.extend(!0,{url:d,mode:"abort",port:"validate"+c.name,dataType:"json",data:f,context:e.currentForm,success:function(d){var f,h,i,j=d===!0||"true"===d;e.settings.messages[c.name].remote=g.originalMessage,j?(i=e.formSubmitted,e.prepareElement(c),e.formSubmitted=i,e.successList.push(c),delete e.invalid[c.name],e.showErrors()):(f={},h=d||e.defaultMessage(c,"remote"),f[c.name]=g.message=a.isFunction(h)?h(b):h,e.invalid[c.name]=!0,e.showErrors(f)),g.valid=j,e.stopRequest(c,j)}},d)),"pending")}}}),a.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead."};var b,c={};a.ajaxPrefilter?a.ajaxPrefilter(function(a,b,d){var e=a.port;"abort"===a.mode&&(c[e]&&c[e].abort(),c[e]=d)}):(b=a.ajax,a.ajax=function(d){var e=("mode"in d?d:a.ajaxSettings).mode,f=("port"in d?d:a.ajaxSettings).port;return"abort"===e?(c[f]&&c[f].abort(),c[f]=b.apply(this,arguments),c[f]):b.apply(this,arguments)}),a.extend(a.fn,{validateDelegate:function(b,c,d){return this.bind(c,function(c){var e=a(c.target);return e.is(b)?d.apply(e,arguments):void 0})}})}),!function(a,b,c,d){"use strict";function e(a,b,c){return setTimeout(j(a,c),b)}function f(a,b,c){return Array.isArray(a)?(g(a,c[b],c),!0):!1}function g(a,b,c){var e;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==d)for(e=0;e<a.length;)b.call(c,a[e],e,a),e++;else for(e in a)a.hasOwnProperty(e)&&b.call(c,a[e],e,a)}function h(b,c,d){var e="DEPRECATED METHOD: "+c+"\n"+d+" AT \n";return function(){var c=new Error("get-stack-trace"),d=c&&c.stack?c.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",f=a.console&&(a.console.warn||a.console.log);return f&&f.call(a.console,e,d),b.apply(this,arguments)}}function i(a,b,c){var d,e=b.prototype;d=a.prototype=Object.create(e),d.constructor=a,d._super=e,c&&la(d,c)}function j(a,b){return function(){return a.apply(b,arguments)}}function k(a,b){return typeof a==oa?a.apply(b?b[0]||d:d,b):a}function l(a,b){return a===d?b:a}function m(a,b,c){g(q(b),function(b){a.addEventListener(b,c,!1)})}function n(a,b,c){g(q(b),function(b){a.removeEventListener(b,c,!1)})}function o(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function p(a,b){return a.indexOf(b)>-1}function q(a){return a.trim().split(/\s+/g)}function r(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function s(a){return Array.prototype.slice.call(a,0)}function t(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];r(e,g)<0&&d.push(a[f]),e[f]=g,f++}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d}function u(a,b){for(var c,e,f=b[0].toUpperCase()+b.slice(1),g=0;g<ma.length;){if(c=ma[g],e=c?c+f:b,e in a)return e;g++}return d}function v(){return ua++}function w(b){var c=b.ownerDocument||b;return c.defaultView||c.parentWindow||a}function x(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){k(a.options.enable,[a])&&c.handler(b)},this.init()}function y(a){var b,c=a.options.inputClass;return new(b=c?c:xa?M:ya?P:wa?R:L)(a,z)}function z(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&Ea&&d-e===0,g=b&(Ga|Ha)&&d-e===0;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,A(a,c),a.emit("hammer.input",c),a.recognize(c),a.session.prevInput=c}function A(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=D(b)),e>1&&!c.firstMultiple?c.firstMultiple=D(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=b.center=E(d);b.timeStamp=ra(),b.deltaTime=b.timeStamp-f.timeStamp,b.angle=I(h,i),b.distance=H(h,i),B(c,b),b.offsetDirection=G(b.deltaX,b.deltaY);var j=F(b.deltaTime,b.deltaX,b.deltaY);b.overallVelocityX=j.x,b.overallVelocityY=j.y,b.overallVelocity=qa(j.x)>qa(j.y)?j.x:j.y,b.scale=g?K(g.pointers,d):1,b.rotation=g?J(g.pointers,d):0,b.maxPointers=c.prevInput?b.pointers.length>c.prevInput.maxPointers?b.pointers.length:c.prevInput.maxPointers:b.pointers.length,C(c,b);var k=a.element;o(b.srcEvent.target,k)&&(k=b.srcEvent.target),b.target=k}function B(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};b.eventType!==Ea&&f.eventType!==Ga||(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}function C(a,b){var c,e,f,g,h=a.lastInterval||b,i=b.timeStamp-h.timeStamp;if(b.eventType!=Ha&&(i>Da||h.velocity===d)){var j=b.deltaX-h.deltaX,k=b.deltaY-h.deltaY,l=F(i,j,k);e=l.x,f=l.y,c=qa(l.x)>qa(l.y)?l.x:l.y,g=G(j,k),a.lastInterval=b}else c=h.velocity,e=h.velocityX,f=h.velocityY,g=h.direction;b.velocity=c,b.velocityX=e,b.velocityY=f,b.direction=g}function D(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:pa(a.pointers[c].clientX),clientY:pa(a.pointers[c].clientY)},c++;return{timeStamp:ra(),pointers:b,center:E(b),deltaX:a.deltaX,deltaY:a.deltaY}}function E(a){var b=a.length;if(1===b)return{x:pa(a[0].clientX),y:pa(a[0].clientY)};for(var c=0,d=0,e=0;b>e;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:pa(c/b),y:pa(d/b)}}function F(a,b,c){return{x:b/a||0,y:c/a||0}}function G(a,b){return a===b?Ia:qa(a)>=qa(b)?0>a?Ja:Ka:0>b?La:Ma}function H(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function I(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function J(a,b){return I(b[1],b[0],Ra)+I(a[1],a[0],Ra)}function K(a,b){return H(b[0],b[1],Ra)/H(a[0],a[1],Ra)}function L(){this.evEl=Ta,this.evWin=Ua,this.pressed=!1,x.apply(this,arguments)}function M(){this.evEl=Xa,this.evWin=Ya,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function N(){this.evTarget=$a,this.evWin=_a,this.started=!1,x.apply(this,arguments)}function O(a,b){var c=s(a.touches),d=s(a.changedTouches);return b&(Ga|Ha)&&(c=t(c.concat(d),"identifier",!0)),[c,d]}function P(){this.evTarget=bb,this.targetIds={},x.apply(this,arguments)}function Q(a,b){var c=s(a.touches),d=this.targetIds;if(b&(Ea|Fa)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f,g=s(a.changedTouches),h=[],i=this.target;if(f=c.filter(function(a){return o(a.target,i)}),b===Ea)for(e=0;e<f.length;)d[f[e].identifier]=!0,e++;for(e=0;e<g.length;)d[g[e].identifier]&&h.push(g[e]),b&(Ga|Ha)&&delete d[g[e].identifier],e++;return h.length?[t(f.concat(h),"identifier",!0),h]:void 0}function R(){x.apply(this,arguments);var a=j(this.handler,this);this.touch=new P(this.manager,a),this.mouse=new L(this.manager,a),this.primaryTouch=null,this.lastTouches=[]}function S(a,b){a&Ea?(this.primaryTouch=b.changedPointers[0].identifier,T.call(this,b)):a&(Ga|Ha)&&T.call(this,b)}function T(a){var b=a.changedPointers[0];if(b.identifier===this.primaryTouch){var c={x:b.clientX,y:b.clientY};this.lastTouches.push(c);var d=this.lastTouches,e=function(){var a=d.indexOf(c);a>-1&&d.splice(a,1)};setTimeout(e,cb)}}function U(a){for(var b=a.srcEvent.clientX,c=a.srcEvent.clientY,d=0;d<this.lastTouches.length;d++){var e=this.lastTouches[d],f=Math.abs(b-e.x),g=Math.abs(c-e.y);if(db>=f&&db>=g)return!0}return!1}function V(a,b){this.manager=a,this.set(b)}function W(a){if(p(a,jb))return jb;var b=p(a,kb),c=p(a,lb);return b&&c?jb:b||c?b?kb:lb:p(a,ib)?ib:hb}function X(){if(!fb)return!1;var b={},c=a.CSS&&a.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(d){b[d]=c?a.CSS.supports("touch-action",d):!0}),b}function Y(a){this.options=la({},this.defaults,a||{}),this.id=v(),this.manager=null,this.options.enable=l(this.options.enable,!0),this.state=nb,this.simultaneous={},this.requireFail=[]}function Z(a){return a&sb?"cancel":a&qb?"end":a&pb?"move":a&ob?"start":""}function $(a){return a==Ma?"down":a==La?"up":a==Ja?"left":a==Ka?"right":""}function _(a,b){var c=b.manager;return c?c.get(a):a}function aa(){Y.apply(this,arguments)}function ba(){aa.apply(this,arguments),this.pX=null,this.pY=null}function ca(){aa.apply(this,arguments)}function da(){Y.apply(this,arguments),this._timer=null,this._input=null}function ea(){aa.apply(this,arguments)}function fa(){aa.apply(this,arguments)}function ga(){Y.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ha(a,b){return b=b||{},b.recognizers=l(b.recognizers,ha.defaults.preset),new ia(a,b)}function ia(a,b){this.options=la({},ha.defaults,b||{}),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=a,this.input=y(this),this.touchAction=new V(this,this.options.touchAction),ja(this,!0),g(this.options.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])},this)}function ja(a,b){var c=a.element;if(c.style){var d;g(a.options.cssProps,function(e,f){d=u(c.style,f),b?(a.oldCssProps[d]=c.style[d],c.style[d]=e):c.style[d]=a.oldCssProps[d]||""}),b||(a.oldCssProps={})}}function ka(a,c){var d=b.createEvent("Event");d.initEvent(a,!0,!0),d.gesture=c,c.target.dispatchEvent(d)}var la,ma=["","webkit","Moz","MS","ms","o"],na=b.createElement("div"),oa="function",pa=Math.round,qa=Math.abs,ra=Date.now;la="function"!=typeof Object.assign?function(a){if(a===d||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var e=arguments[c];if(e!==d&&null!==e)for(var f in e)e.hasOwnProperty(f)&&(b[f]=e[f])}return b}:Object.assign;var sa=h(function(a,b,c){for(var e=Object.keys(b),f=0;f<e.length;)(!c||c&&a[e[f]]===d)&&(a[e[f]]=b[e[f]]),f++;return a},"extend","Use `assign`."),ta=h(function(a,b){return sa(a,b,!0)},"merge","Use `assign`."),ua=1,va=/mobile|tablet|ip(ad|hone|od)|android/i,wa="ontouchstart"in a,xa=u(a,"PointerEvent")!==d,ya=wa&&va.test(navigator.userAgent),za="touch",Aa="pen",Ba="mouse",Ca="kinect",Da=25,Ea=1,Fa=2,Ga=4,Ha=8,Ia=1,Ja=2,Ka=4,La=8,Ma=16,Na=Ja|Ka,Oa=La|Ma,Pa=Na|Oa,Qa=["x","y"],Ra=["clientX","clientY"];x.prototype={handler:function(){},init:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(w(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(w(this.element),this.evWin,this.domHandler)}};var Sa={mousedown:Ea,mousemove:Fa,mouseup:Ga},Ta="mousedown",Ua="mousemove mouseup";i(L,x,{handler:function(a){var b=Sa[a.type];b&Ea&&0===a.button&&(this.pressed=!0),b&Fa&&1!==a.which&&(b=Ga),this.pressed&&(b&Ga&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:Ba,srcEvent:a}))}});var Va={pointerdown:Ea,pointermove:Fa,pointerup:Ga,pointercancel:Ha,pointerout:Ha},Wa={2:za,3:Aa,4:Ba,5:Ca},Xa="pointerdown",Ya="pointermove pointerup pointercancel";a.MSPointerEvent&&!a.PointerEvent&&(Xa="MSPointerDown",Ya="MSPointerMove MSPointerUp MSPointerCancel"),i(M,x,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=Va[d],f=Wa[a.pointerType]||a.pointerType,g=f==za,h=r(b,a.pointerId,"pointerId");e&Ea&&(0===a.button||g)?0>h&&(b.push(a),h=b.length-1):e&(Ga|Ha)&&(c=!0),0>h||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1));
}});var Za={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},$a="touchstart",_a="touchstart touchmove touchend touchcancel";i(N,x,{handler:function(a){var b=Za[a.type];if(b===Ea&&(this.started=!0),this.started){var c=O.call(this,a,b);b&(Ga|Ha)&&c[0].length-c[1].length===0&&(this.started=!1),this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}}});var ab={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},bb="touchstart touchmove touchend touchcancel";i(P,x,{handler:function(a){var b=ab[a.type],c=Q.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}});var cb=2500,db=25;i(R,x,{handler:function(a,b,c){var d=c.pointerType==za,e=c.pointerType==Ba;if(!(e&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)S.call(this,b,c);else if(e&&U.call(this,c))return;this.callback(a,b,c)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var eb=u(na.style,"touchAction"),fb=eb!==d,gb="compute",hb="auto",ib="manipulation",jb="none",kb="pan-x",lb="pan-y",mb=X();V.prototype={set:function(a){a==gb&&(a=this.compute()),fb&&this.manager.element.style&&mb[a]&&(this.manager.element.style[eb]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return g(this.manager.recognizers,function(b){k(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),W(a.join(" "))},preventDefaults:function(a){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=p(d,jb)&&!mb[jb],f=p(d,lb)&&!mb[lb],g=p(d,kb)&&!mb[kb];if(e){var h=1===a.pointers.length,i=a.distance<2,j=a.deltaTime<250;if(h&&i&&j)return}return g&&f?void 0:e||f&&c&Na||g&&c&Oa?this.preventSrc(b):void 0},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var nb=1,ob=2,pb=4,qb=8,rb=qb,sb=16,tb=32;Y.prototype={defaults:{},set:function(a){return la(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(f(a,"recognizeWith",this))return this;var b=this.simultaneous;return a=_(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return f(a,"dropRecognizeWith",this)?this:(a=_(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(f(a,"requireFailure",this))return this;var b=this.requireFail;return a=_(a,this),-1===r(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(f(a,"dropRequireFailure",this))return this;a=_(a,this);var b=r(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(b){c.manager.emit(b,a)}var c=this,d=this.state;qb>d&&b(c.options.event+Z(d)),b(c.options.event),a.additionalEvent&&b(a.additionalEvent),d>=qb&&b(c.options.event+Z(d))},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=tb)},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(tb|nb)))return!1;a++}return!0},recognize:function(a){var b=la({},a);return k(this.options.enable,[this,b])?(this.state&(rb|sb|tb)&&(this.state=nb),this.state=this.process(b),void(this.state&(ob|pb|qb|sb)&&this.tryEmit(b))):(this.reset(),void(this.state=tb))},process:function(a){},getTouchAction:function(){},reset:function(){}},i(aa,Y,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(ob|pb),e=this.attrTest(a);return d&&(c&Ha||!e)?b|sb:d||e?c&Ga?b|qb:b&ob?b|pb:ob:tb}}),i(ba,aa,{defaults:{event:"pan",threshold:10,pointers:1,direction:Pa},getTouchAction:function(){var a=this.options.direction,b=[];return a&Na&&b.push(lb),a&Oa&&b.push(kb),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&Na?(e=0===f?Ia:0>f?Ja:Ka,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?Ia:0>g?La:Ma,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return aa.prototype.attrTest.call(this,a)&&(this.state&ob||!(this.state&ob)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=$(a.direction);b&&(a.additionalEvent=this.options.event+b),this._super.emit.call(this,a)}}),i(ca,aa,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&ob)},emit:function(a){if(1!==a.scale){var b=a.scale<1?"in":"out";a.additionalEvent=this.options.event+b}this._super.emit.call(this,a)}}),i(da,Y,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[hb]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(Ga|Ha)&&!f)this.reset();else if(a.eventType&Ea)this.reset(),this._timer=e(function(){this.state=rb,this.tryEmit()},b.time,this);else if(a.eventType&Ga)return rb;return tb},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===rb&&(a&&a.eventType&Ga?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=ra(),this.manager.emit(this.options.event,this._input)))}}),i(ea,aa,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&ob)}}),i(fa,aa,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Na|Oa,pointers:1},getTouchAction:function(){return ba.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(Na|Oa)?b=a.overallVelocity:c&Na?b=a.overallVelocityX:c&Oa&&(b=a.overallVelocityY),this._super.attrTest.call(this,a)&&c&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers==this.options.pointers&&qa(b)>this.options.velocity&&a.eventType&Ga},emit:function(a){var b=$(a.offsetDirection);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),i(ga,Y,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ib]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime<b.time;if(this.reset(),a.eventType&Ea&&0===this.count)return this.failTimeout();if(d&&f&&c){if(a.eventType!=Ga)return this.failTimeout();var g=this.pTime?a.timeStamp-this.pTime<b.interval:!0,h=!this.pCenter||H(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,h&&g?this.count+=1:this.count=1,this._input=a;var i=this.count%b.taps;if(0===i)return this.hasRequireFailures()?(this._timer=e(function(){this.state=rb,this.tryEmit()},b.interval,this),ob):rb}return tb},failTimeout:function(){return this._timer=e(function(){this.state=tb},this.options.interval,this),tb},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==rb&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ha.VERSION="2.0.8",ha.defaults={domEvents:!1,touchAction:gb,enable:!0,inputTarget:null,inputClass:null,preset:[[ea,{enable:!1}],[ca,{enable:!1},["rotate"]],[fa,{direction:Na}],[ba,{direction:Na},["swipe"]],[ga],[ga,{event:"doubletap",taps:2},["tap"]],[da]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ub=1,vb=2;ia.prototype={set:function(a){return la(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?vb:ub},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&rb)&&(e=b.curRecognizer=null);for(var f=0;f<d.length;)c=d[f],b.stopped===vb||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(ob|pb|qb)&&(e=b.curRecognizer=c),f++}},get:function(a){if(a instanceof Y)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(f(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(f(a,"remove",this))return this;if(a=this.get(a)){var b=this.recognizers,c=r(b,a);-1!==c&&(b.splice(c,1),this.touchAction.update())}return this},on:function(a,b){if(a!==d&&b!==d){var c=this.handlers;return g(q(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this}},off:function(a,b){if(a!==d){var c=this.handlers;return g(q(a),function(a){b?c[a]&&c[a].splice(r(c[a],b),1):delete c[a]}),this}},emit:function(a,b){this.options.domEvents&&ka(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&ja(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},la(ha,{INPUT_START:Ea,INPUT_MOVE:Fa,INPUT_END:Ga,INPUT_CANCEL:Ha,STATE_POSSIBLE:nb,STATE_BEGAN:ob,STATE_CHANGED:pb,STATE_ENDED:qb,STATE_RECOGNIZED:rb,STATE_CANCELLED:sb,STATE_FAILED:tb,DIRECTION_NONE:Ia,DIRECTION_LEFT:Ja,DIRECTION_RIGHT:Ka,DIRECTION_UP:La,DIRECTION_DOWN:Ma,DIRECTION_HORIZONTAL:Na,DIRECTION_VERTICAL:Oa,DIRECTION_ALL:Pa,Manager:ia,Input:x,TouchAction:V,TouchInput:P,MouseInput:L,PointerEventInput:M,TouchMouseInput:R,SingleTouchInput:N,Recognizer:Y,AttrRecognizer:aa,Tap:ga,Pan:ba,Swipe:fa,Pinch:ca,Rotate:ea,Press:da,on:m,off:n,each:g,merge:ta,extend:sa,assign:la,inherit:i,bindFn:j,prefixed:u});var wb="undefined"!=typeof a?a:"undefined"!=typeof self?self:{};wb.Hammer=ha,"function"==typeof define&&define.amd?define(function(){return ha}):"undefined"!=typeof module&&module.exports?module.exports=ha:a[c]=ha}(window,document,"Hammer"),"undefined"==typeof jwplayer&&(jwplayer=function(){return jwplayer.api?jwplayer.api.selectPlayer.apply(this,arguments):void 0},jwplayer.version="6.12.4956",jwplayer.vid=document.createElement("video"),jwplayer.audio=document.createElement("audio"),jwplayer.source=document.createElement("source"),function(){var a={},b=Array.prototype,c=Object.prototype,d=b.slice,e=b.concat,f=c.toString,g=c.hasOwnProperty,h=b.map,i=b.forEach,j=b.filter,k=b.every,l=b.some,m=b.indexOf,c=Array.isArray,n=Object.keys,o=function(a){return a instanceof o?a:this instanceof o?void 0:new o(a)},p=o.each=o.forEach=function(b,c,d){if(null==b)return b;if(i&&b.forEach===i)b.forEach(c,d);else if(b.length===+b.length){for(var e=0,f=b.length;f>e;e++)if(c.call(d,b[e],e,b)===a)return}else for(var g=o.keys(b),e=0,f=g.length;f>e;e++)if(c.call(d,b[g[e]],g[e],b)===a)return;return b};o.map=o.collect=function(a,b,c){var d=[];return null==a?d:h&&a.map===h?a.map(b,c):(p(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d)},o.find=o.detect=function(a,b,c){var d;return q(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},o.filter=o.select=function(a,b,c){var d=[];return null==a?d:j&&a.filter===j?a.filter(b,c):(p(a,function(a,e,f){b.call(c,a,e,f)&&d.push(a)}),d)},o.every=o.all=function(b,c,d){c||(c=o.identity);var e=!0;return null==b?e:k&&b.every===k?b.every(c,d):(p(b,function(b,f,g){return(e=e&&c.call(d,b,f,g))?void 0:a}),!!e)};var q=o.some=o.any=function(b,c,d){c||(c=o.identity);var e=!1;return null==b?e:l&&b.some===l?b.some(c,d):(p(b,function(b,f,g){return e||(e=c.call(d,b,f,g))?a:void 0}),!!e)};o.size=function(a){return null==a?0:a.length===+a.length?a.length:o.keys(a).length},o.after=function(a,b){return function(){return 1>--a?b.apply(this,arguments):void 0}},o.sortedIndex=function(a,b,c,d){c=null==c?o.identity:o.isFunction(c)?c:o.property(c),b=c.call(d,b);for(var e=0,f=a.length;f>e;){var g=e+f>>>1;c.call(d,a[g])<b?e=g+1:f=g}return e},o.find=o.detect=function(a,b,c){var d;return q(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},q=o.some=o.any=function(b,c,d){c||(c=o.identity);var e=!1;return null==b?e:l&&b.some===l?b.some(c,d):(p(b,function(b,f,g){return e||(e=c.call(d,b,f,g))?a:void 0}),!!e)},o.contains=o.include=function(a,b){return null==a?!1:(a.length!==+a.length&&(a=o.values(a)),0<=o.indexOf(a,b))},o.where=function(a,b){return o.filter(a,o.matches(b))},o.difference=function(a){var c=e.apply(b,d.call(arguments,1));return o.filter(a,function(a){return!o.contains(c,a)})},o.without=function(a){return o.difference(a,d.call(arguments,1))},o.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=o.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(m&&a.indexOf===m)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},o.partial=function(a){var b=d.call(arguments,1);return function(){for(var c=0,d=b.slice(),e=0,f=d.length;f>e;e++)d[e]===o&&(d[e]=arguments[c++]);for(;c<arguments.length;)d.push(arguments[c++]);return a.apply(this,d)}},o.memoize=function(a,b){var c={};return b||(b=o.identity),function(){var d=b.apply(this,arguments);return o.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},o.delay=function(a,b){var c=d.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},o.defer=function(a){return o.delay.apply(o,[a,1].concat(d.call(arguments,1)))},o.keys=function(a){if(!o.isObject(a))return[];if(n)return n(a);var b,c=[];for(b in a)o.has(a,b)&&c.push(b);return c},o.pick=function(a){var c={},f=e.apply(b,d.call(arguments,1));return p(f,function(b){b in a&&(c[b]=a[b])}),c},o.isArray=c||function(a){return"[object Array]"==f.call(a)},o.isObject=function(a){return a===Object(a)},p("Arguments Function String Number Date RegExp".split(" "),function(a){o["is"+a]=function(b){return f.call(b)=="[object "+a+"]"}}),o.isArguments(arguments)||(o.isArguments=function(a){return!(!a||!o.has(a,"callee"))}),"function"!=typeof/./&&(o.isFunction=function(a){return"function"==typeof a}),o.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},o.isNaN=function(a){return o.isNumber(a)&&a!=+a},o.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"==f.call(a)},o.isNull=function(a){return null===a},o.isUndefined=function(a){return void 0===a},o.has=function(a,b){return g.call(a,b)},o.identity=function(a){return a},o.constant=function(a){return function(){return a}},o.property=function(a){return function(b){return b[a]}},o.matches=function(a){return function(b){if(b===a)return!0;for(var c in a)if(a[c]!==b[c])return!1;return!0}},o.result=function(a,b){if(null!=a){var c=a[b];return o.isFunction(c)?c.call(a):c}},this._=o}.call(jwplayer),function(a){function b(a){return function(){return g(a)}}function c(a,b,c,e,f){return function(){var g,h;if(f)c(a);else{try{if((g=a.responseXML)&&(h=g.firstChild,g.lastChild&&"parsererror"===g.lastChild.nodeName))return void(e&&e("Invalid XML",b,a))}catch(i){}if(g&&h)return c(a);(g=d.parseXML(a.responseText))&&g.firstChild?(a=d.extend({},a,{responseXML:g}),c(a)):e&&e(a.responseText?"Invalid XML":b,b,a)}}}var d=a.utils={},e=a._;d.exists=function(a){switch(typeof a){case"string":return 0<a.length;case"object":return null!==a;case"undefined":return!1}return!0},d.styleDimension=function(a){return a+(0<a.toString().indexOf("%")?"":"px")},d.getAbsolutePath=function(a,b){if(d.exists(b)||(b=document.location.href),d.exists(a)){var c;if(d.exists(a)){c=a.indexOf("://");var e=a.indexOf("?");c=c>0&&(0>e||e>c)}else c=void 0;if(c)return a;c=b.substring(0,b.indexOf("://")+3);var f,e=b.substring(c.length,b.indexOf("/",c.length+1));0===a.indexOf("/")?f=a.split("/"):(f=b.split("?")[0],f=f.substring(c.length+e.length+1,f.lastIndexOf("/")),f=f.split("/").concat(a.split("/")));for(var g=[],h=0;h<f.length;h++)f[h]&&d.exists(f[h])&&"."!==f[h]&&(".."===f[h]?g.pop():g.push(f[h]));return c+e+"/"+g.join("/")}},d.extend=function(){var a=Array.prototype.slice.call(arguments,0);if(1<a.length){for(var b=a[0],c=function(a,c){void 0!==c&&null!==c&&(b[a]=c)},e=1;e<a.length;e++)d.foreach(a[e],c);return b}return null};var f=window.console=window.console||{log:function(){}};d.log=function(){var a=Array.prototype.slice.call(arguments,0);"object"==typeof f.log?f.log(a):f.log.apply(f,a)};var g=e.memoize(function(a){return null!==navigator.userAgent.toLowerCase().match(a)});d.isFF=b(/firefox/i),d.isChrome=b(/chrome/i),d.isIPod=b(/iP(hone|od)/i),d.isIPad=b(/iPad/i),d.isSafari602=b(/Macintosh.*Mac OS X 10_8.*6\.0\.\d* Safari/i),d.isIETrident=function(a){return a?(a=parseFloat(a).toFixed(1),g(RegExp("trident/.+rv:\\s*"+a,"i"))):g(/trident/i)},d.isMSIE=function(a){return a?(a=parseFloat(a).toFixed(1),g(RegExp("msie\\s*"+a,"i"))):g(/msie/i)},d.isIE=function(a){return a?(a=parseFloat(a).toFixed(1),a>=11?d.isIETrident(a):d.isMSIE(a)):d.isMSIE()||d.isIETrident()},d.isSafari=function(){return g(/safari/i)&&!g(/chrome/i)&&!g(/chromium/i)&&!g(/android/i)},d.isIOS=function(a){return g(a?RegExp("iP(hone|ad|od).+\\sOS\\s"+a,"i"):/iP(hone|ad|od)/i)},d.isAndroidNative=function(a){return d.isAndroid(a,!0)},d.isAndroid=function(a,b){return b&&g(/chrome\/[123456789]/i)&&!g(/chrome\/18/)?!1:a?(d.isInt(a)&&!/\./.test(a)&&(a=""+a+"."),g(RegExp("Android\\s*"+a,"i"))):g(/Android/i)},d.isMobile=function(){return d.isIOS()||d.isAndroid()},d.isIframe=function(){return window.frameElement&&"IFRAME"===window.frameElement.nodeName},d.saveCookie=function(a,b){document.cookie="jwplayer."+a+"="+b+"; path=/"},d.getCookies=function(){for(var a={},b=document.cookie.split("; "),c=0;c<b.length;c++){var d=b[c].split("=");0===d[0].indexOf("jwplayer.")&&(a[d[0].substring(9,d[0].length)]=d[1])}return a},d.isInt=function(a){return 0===parseFloat(a)%1},d.typeOf=function(a){if(null===a)return"null";var b=typeof a;return"object"===b&&e.isArray(a)?"array":b},d.translateEventResponse=function(b,c){var e=d.extend({},c);if(b!==a.events.JWPLAYER_FULLSCREEN||e.fullscreen)if("object"==typeof e.data){var f=e.data;delete e.data,e=d.extend(e,f)}else"object"==typeof e.metadata&&d.deepReplaceKeyName(e.metadata,["__dot__","__spc__","__dsh__","__default__"],["."," ","-","default"]);else e.fullscreen="true"===e.message,delete e.message;return d.foreach(["position","duration","offset"],function(a,b){e[b]&&(e[b]=Math.round(1e3*e[b])/1e3)}),e},d.flashVersion=function(){if(d.isAndroid())return 0;var a,b=navigator.plugins;try{if("undefined"!==b&&(a=b["Shockwave Flash"]))return parseInt(a.description.replace(/\D+(\d+)\..*/,"$1"),10)}catch(c){}if("undefined"!=typeof window.ActiveXObject)try{if(a=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash"))return parseInt(a.GetVariable("$version").split(" ")[1].split(",")[0],10)}catch(e){}return 0},d.getScriptPath=function(a){for(var b=document.getElementsByTagName("script"),c=0;c<b.length;c++){var d=b[c].src;if(d&&0<=d.indexOf(a))return d.substr(0,d.indexOf(a))}return""},d.deepReplaceKeyName=function(b,c,e){switch(a.utils.typeOf(b)){case"array":for(var f=0;f<b.length;f++)b[f]=a.utils.deepReplaceKeyName(b[f],c,e);break;case"object":d.foreach(b,function(d,f){var g;if(c instanceof Array&&e instanceof Array){if(c.length!==e.length)return;g=c}else g=[c];for(var h=d,i=0;i<g.length;i++)h=h.replace(RegExp(c[i],"g"),e[i]);b[h]=a.utils.deepReplaceKeyName(f,c,e),d!==h&&delete b[d]})}return b};var h=d.pluginPathType={ABSOLUTE:0,RELATIVE:1,CDN:2};d.getPluginPathType=function(a){if("string"==typeof a){a=a.split("?")[0];var b=a.indexOf("://");if(b>0)return h.ABSOLUTE;var c=a.indexOf("/");return a=d.extension(a),!(0>b&&0>c)||a&&isNaN(a)?h.RELATIVE:h.CDN}},d.getPluginName=function(a){return a.replace(/^(.*\/)?([^-]*)-?.*\.(swf|js)$/,"$2")},d.getPluginVersion=function(a){return a.replace(/[^-]*-?([^\.]*).*$/,"$1")},d.isYouTube=function(a,b){return"youtube"===b||/^(http|\/\/).*(youtube\.com|youtu\.be)\/.+/.test(a)},d.youTubeID=function(a){try{return/v[=\/]([^?&]*)|youtu\.be\/([^?]*)|^([\w-]*)$/i.exec(a).slice(1).join("").replace("?","")}catch(b){return""}},d.isRtmp=function(a,b){return 0===a.indexOf("rtmp")||"rtmp"===b},d.foreach=function(a,b){var c,e;for(c in a)"function"===d.typeOf(a.hasOwnProperty)?a.hasOwnProperty(c)&&(e=a[c],b(c,e)):(e=a[c],b(c,e))},d.isHTTPS=function(){return 0===window.location.href.indexOf("https")},d.repo=function(){var b="http://p.jwpcdn.com/"+a.version.split(/\W/).splice(0,2).join("/")+"/";try{d.isHTTPS()&&(b=b.replace("http://","https://ssl."))}catch(c){}return b},d.versionCheck=function(b){b=("0"+b).split(/\W/);var c=a.version.split(/\W/),d=parseFloat(b[0]),e=parseFloat(c[0]);return d>e||d===e&&parseFloat("0"+b[1])>parseFloat(c[1])?!1:!0},d.ajax=function(a,b,e,f){var g,h=!1;if(0<a.indexOf("#")&&(a=a.replace(/#.*$/,"")),a&&0<=a.indexOf("://")&&a.split("/")[2]!==window.location.href.split("/")[2]&&d.exists(window.XDomainRequest))g=new window.XDomainRequest,g.onload=c(g,a,b,e,f),g.ontimeout=g.onprogress=function(){},g.timeout=5e3;else{if(!d.exists(window.XMLHttpRequest))return e&&e("",a,g),g;var i=g=new window.XMLHttpRequest,j=a;g.onreadystatechange=function(){if(4===i.readyState)switch(i.status){case 200:c(i,j,b,e,f)();break;case 404:e("File not found",j,i)}}}g.overrideMimeType&&g.overrideMimeType("text/xml");var k=a,l=g;g.onerror=function(){e("Error loading file",k,l)};try{g.open("GET",a,!0)}catch(m){h=!0}return setTimeout(function(){if(h)e&&e(a,a,g);else try{g.send()}catch(b){e&&e(a,a,g)}},0),g},d.parseXML=function(a){var b;try{if(window.DOMParser){if(b=(new window.DOMParser).parseFromString(a,"text/xml"),b.childNodes&&b.childNodes.length&&"parsererror"===b.childNodes[0].firstChild.nodeName)return}else b=new window.ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)}catch(c){return}return b},d.between=function(a,b,c){return Math.max(Math.min(a,c),b)},d.seconds=function(a){if(e.isNumber(a))return a;a=a.replace(",",".");var b=a.split(":"),c=0;return"s"===a.slice(-1)?c=parseFloat(a):"m"===a.slice(-1)?c=60*parseFloat(a):"h"===a.slice(-1)?c=3600*parseFloat(a):1<b.length?(c=parseFloat(b[b.length-1]),c+=60*parseFloat(b[b.length-2]),3===b.length&&(c+=3600*parseFloat(b[b.length-3]))):c=parseFloat(a),c},d.serialize=function(a){return null===a?null:"true"===a.toString().toLowerCase()?!0:"false"===a.toString().toLowerCase()?!1:isNaN(Number(a))||5<a.length||0===a.length?a:Number(a)},d.addClass=function(a,b){var c=e.isString(a.className)?a.className.split(" "):[],f=e.isArray(b)?b:b.split(" ");e.each(f,function(a){e.contains(c,a)||c.push(a)}),a.className=d.trim(c.join(" "))},d.removeClass=function(a,b){var c=e.isString(a.className)?a.className.split(" "):[],f=e.isArray(b)?b:b.split(" ");a.className=d.trim(e.difference(c,f).join(" "))},d.emptyElement=function(a){for(;a.firstChild;)a.removeChild(a.firstChild)},d.indexOf=e.indexOf,d.noop=function(){},d.canCast=function(){var b=a.cast;return!(!b||!e.isFunction(b.available)||!b.available())}}(jwplayer),function(a){function b(a){var b=document.createElement("style");return a&&b.appendChild(document.createTextNode(a)),b.type="text/css",document.getElementsByTagName("head")[0].appendChild(b),b}function c(a,b,c){return g.exists(b)?(c=c?" !important":"","string"==typeof b&&isNaN(b)?/png|gif|jpe?g/i.test(b)&&0>b.indexOf("url")?"url("+b+")":b+c:0===b||"z-index"===a||"opacity"===a?""+b+c:/color/i.test(a)?"#"+g.pad(b.toString(16).replace(/^0x/i,""),6)+c:Math.ceil(b)+"px"+c):""}function d(a,b){for(var c=0;c<a.length;c++){var d,e,f=a[c];if(void 0!==f&&null!==f)for(d in b){e=d,e=e.split("-");for(var g=1;g<e.length;g++)e[g]=e[g].charAt(0).toUpperCase()+e[g].slice(1);e=e.join(""),f.style[e]!==b[d]&&(f.style[e]=b[d])}}}function e(a){var b,c,d,e=h[a].sheet;if(e){b=e.cssRules,c=k[a],d=a;var f=i[d];d+=" { ";for(var g in f)d+=g+": "+f[g]+"; ";if(d+="}",void 0!==c&&c<b.length&&b[c].selectorText===a){if(d===b[c].cssText)return;e.deleteRule(c)}else c=b.length,k[a]=c;try{e.insertRule(d,c)}catch(j){}}}var f,g=a.utils,h={},i={},j=null,k={};g.cssKeyframes=function(a,c){var d=h.keyframes;d||(d=b(),h.keyframes=d);var d=d.sheet,e="@keyframes "+a+" { "+c+" }";try{d.insertRule(e,d.cssRules.length)}catch(f){}e=e.replace(/(keyframes|transform)/g,"-webkit-$1");try{d.insertRule(e,d.cssRules.length)}catch(g){}};var l=g.css=function(a,d,g){i[a]||(i[a]={});var k=i[a];g=g||!1;var l,m,n=!1;for(l in d)m=c(l,d[l],g),""!==m?m!==k[l]&&(k[l]=m,n=!0):void 0!==k[l]&&(delete k[l],n=!0);n&&(h[a]||(d=f&&f.sheet&&f.sheet.cssRules&&f.sheet.cssRules.length||0,(!f||d>5e4)&&(f=b()),h[a]=f),null!==j?j.styleSheets[a]=i[a]:e(a))};l.style=function(b,e,f){if(void 0!==b&&null!==b){void 0===b.length&&(b=[b]);var g,h={};for(g in e)h[g]=c(g,e[g]);if(null===j||f)d(b,h);else{e=(e=b.__cssRules)||{};for(var i in h)e[i]=h[i];b.__cssRules=e,0>a._.indexOf(j.elements,b)&&j.elements.push(b)}}},l.block=function(a){null===j&&(j={id:a,styleSheets:{},elements:[]})},l.unblock=function(a){if(j&&(!a||j.id===a)){for(var b in j.styleSheets)e(b);for(a=0;a<j.elements.length;a++)b=j.elements[a],d(b,b.__cssRules);j=null}},g.clearCss=function(a){for(var b in i)0<=b.indexOf(a)&&delete i[b];for(var c in h)0<=c.indexOf(a)&&e(c)},g.transform=function(a,b){var c={};b=b||"",c.transform=b,c["-webkit-transform"]=b,c["-ms-transform"]=b,c["-moz-transform"]=b,c["-o-transform"]=b,"string"==typeof a?l(a,c):l.style(a,c)},g.dragStyle=function(a,b){l(a,{"-webkit-user-select":b,"-moz-user-select":b,"-ms-user-select":b,"-webkit-user-drag":b,"user-select":b,"user-drag":b})},g.transitionStyle=function(a,b){navigator.userAgent.match(/5\.\d(\.\d)? safari/i)||l(a,{"-webkit-transition":b,"-moz-transition":b,"-o-transition":b,transition:b})},g.rotate=function(a,b){g.transform(a,"rotate("+b+"deg)")},g.rgbHex=function(a){return a=String(a).replace("#",""),3===a.length&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]),"#"+a.substr(-6)},g.hexToRgba=function(a,b){var c="rgb",d=[parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16)];return void 0!==b&&100!==b&&(c+="a",d.push(b/100)),c+"("+d.join(",")+")"}}(jwplayer),function(a){var b=jwplayer._,c=a.foreach,d={mp4:"video/mp4",ogg:"video/ogg",oga:"audio/ogg",vorbis:"audio/ogg",webm:"video/webm",aac:"audio/mp4",mp3:"audio/mpeg",hls:"application/vnd.apple.mpegurl"},e={mp4:d.mp4,f4v:d.mp4,m4v:d.mp4,mov:d.mp4,m4a:d.aac,f4a:d.aac,aac:d.aac,mp3:d.mp3,ogv:d.ogg,ogg:d.ogg,oga:d.vorbis,vorbis:d.vorbis,webm:d.webm,m3u8:d.hls,m3u:d.hls,hls:d.hls},f=a.extensionmap={};c(e,function(a,b){f[a]={html5:b}}),c({flv:"video",f4v:"video",mov:"video",m4a:"video",m4v:"video",mp4:"video",aac:"video",f4a:"video",mp3:"sound",smil:"rtmp",m3u8:"hls",hls:"hls"},function(a,b){f[a]||(f[a]={}),f[a].flash=b}),f.types=d,f.mimeType=function(a){var c;return b.find(d,function(b,d){return b===a?(c=d,!0):void 0}),c},f.extType=function(a){return f.mimeType(e[a])}}(jwplayer.utils),function(a){var b=a.loaderstatus={NEW:0,LOADING:1,ERROR:2,COMPLETE:3};a.scriptloader=function(c){function d(a){h=b.ERROR,g.sendEvent(f.ERROR,a)}function e(a){h=b.COMPLETE,g.sendEvent(f.COMPLETE,a)}var f=jwplayer.events,g=a.extend(this,new f.eventdispatcher),h=b.NEW;this.load=function(){if(h===b.NEW){var g=a.scriptloader.loaders[c];if(g&&(h=g.getStatus(),2>h))return g.addEventListener(f.ERROR,d),void g.addEventListener(f.COMPLETE,e);var i=document.getElementsByTagName("head")[0]||document.documentElement,j=document.createElement("script"),k=!1;j.onload=j.onreadystatechange=function(a){k||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(k=!0,e(a),j.onload=j.onreadystatechange=null,i&&j.parentNode&&i.removeChild(j))},j.onerror=d,j.src=c,i.insertBefore(j,i.firstChild),h=b.LOADING,a.scriptloader.loaders[c]=this}},this.getStatus=function(){return h}},a.scriptloader.loaders={}}(jwplayer.utils),function(a){a.trim=function(a){return a.replace(/^\s+|\s+$/g,"")},a.pad=function(a,b,c){for(c||(c="0");a.length<b;)a=c+a;return a},a.xmlAttribute=function(a,b){for(var c=0;c<a.attributes.length;c++)if(a.attributes[c].name&&a.attributes[c].name.toLowerCase()===b.toLowerCase())return a.attributes[c].value.toString();return""},a.extension=function(a){if(!a||"rtmp"===a.substr(0,4))return"";var b;return(b=-1<a.indexOf("(format=m3u8-")?"m3u8":!1)?b:(a=a.substring(a.lastIndexOf("/")+1,a.length).split("?")[0].split("#")[0],-1<a.lastIndexOf(".")?a.substr(a.lastIndexOf(".")+1,a.length).toLowerCase():void 0)},a.stringToColor=function(a){return a=a.replace(/(#|0x)?([0-9A-F]{3,6})$/gi,"$2"),3===a.length&&(a=a.charAt(0)+a.charAt(0)+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2)),parseInt(a,16)}}(jwplayer.utils),function(a){var b="touchmove",c="touchstart";a.touch=function(d){function e(a){a.type===c?(i=!0,k=g(m.DRAG_START,a)):a.type===b?i&&(l||(f(m.DRAG_START,a,k),l=!0),f(m.DRAG,a)):(i&&(l?f(m.DRAG_END,a):(a.cancelBubble=!0,f(m.TAP,a))),i=l=!1,k=null)}function f(a,b,c){j[a]&&(b.preventManipulation&&b.preventManipulation(),b.preventDefault&&b.preventDefault(),b=c?c:g(a,b))&&j[a](b)}function g(a,b){var c=null;if(b.touches&&b.touches.length?c=b.touches[0]:b.changedTouches&&b.changedTouches.length&&(c=b.changedTouches[0]),!c)return null;var d=h.getBoundingClientRect(),c={type:a,target:h,x:c.pageX-window.pageXOffset-d.left,y:c.pageY,deltaX:0,deltaY:0};return a!==m.TAP&&k&&(c.deltaX=c.x-k.x,c.deltaY=c.y-k.y),c}var h=d,i=!1,j={},k=null,l=!1,m=a.touchEvents;return document.addEventListener(b,e),document.addEventListener("touchend",function(a){i&&l&&f(m.DRAG_END,a),i=l=!1,k=null}),document.addEventListener("touchcancel",e),d.addEventListener(c,e),d.addEventListener("touchend",e),this.addEventListener=function(a,b){j[a]=b},this.removeEventListener=function(a){delete j[a]},this}}(jwplayer.utils),function(a){a.touchEvents={DRAG:"jwplayerDrag",DRAG_START:"jwplayerDragStart",DRAG_END:"jwplayerDragEnd",TAP:"jwplayerTap"}}(jwplayer.utils),function(a){a.key=function(b){var c,d,e;this.edition=function(){return e&&e.getTime()<(new Date).getTime()?"invalid":c},this.token=function(){return d},a.exists(b)||(b="");try{b=a.tea.decrypt(b,"36QXq4W@GSBV^teR");var f=b.split("/");(c=f[0])?/^(free|pro|premium|enterprise|ads)$/i.test(c)?(d=f[1],f[2]&&0<parseInt(f[2])&&(e=new Date,e.setTime(String(f[2])))):c="invalid":c="free"}catch(g){c="invalid"}}}(jwplayer.utils),function(a){var b=a.tea={};b.encrypt=function(a,e){if(0==a.length)return"";var f=b.strToLongs(d.encode(a));1>=f.length&&(f[1]=0);for(var g,h=b.strToLongs(d.encode(e).slice(0,16)),i=f.length,j=f[i-1],k=f[0],l=Math.floor(6+52/i),m=0;0<l--;){m+=2654435769,g=m>>>2&3;for(var n=0;i>n;n++)k=f[(n+1)%i],j=(j>>>5^k<<2)+(k>>>3^j<<4)^(m^k)+(h[3&n^g]^j),j=f[n]+=j}return f=b.longsToStr(f),c.encode(f)},b.decrypt=function(a,e){if(0==a.length)return"";for(var f,g=b.strToLongs(c.decode(a)),h=b.strToLongs(d.encode(e).slice(0,16)),i=g.length,j=g[i-1],k=g[0],l=2654435769*Math.floor(6+52/i);0!=l;){f=l>>>2&3;for(var m=i-1;m>=0;m--)j=g[m>0?m-1:i-1],j=(j>>>5^k<<2)+(k>>>3^j<<4)^(l^k)+(h[3&m^f]^j),k=g[m]-=j;l-=2654435769}return g=b.longsToStr(g),g=g.replace(/\0+$/,""),d.decode(g)},b.strToLongs=function(a){for(var b=Array(Math.ceil(a.length/4)),c=0;c<b.length;c++)b[c]=a.charCodeAt(4*c)+(a.charCodeAt(4*c+1)<<8)+(a.charCodeAt(4*c+2)<<16)+(a.charCodeAt(4*c+3)<<24);return b},b.longsToStr=function(a){for(var b=Array(a.length),c=0;c<a.length;c++)b[c]=String.fromCharCode(255&a[c],a[c]>>>8&255,a[c]>>>16&255,a[c]>>>24&255);return b.join("")};var c={code:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(a,b){var e,f,g,h,i,j,k=[],l="",m=c.code;if(j=("undefined"==typeof b?0:b)?d.encode(a):a,i=j.length%3,i>0)for(;3>i++;)l+="=",j+="\x00";for(i=0;i<j.length;i+=3)e=j.charCodeAt(i),f=j.charCodeAt(i+1),g=j.charCodeAt(i+2),h=e<<16|f<<8|g,e=h>>18&63,f=h>>12&63,g=h>>6&63,h&=63,k[i/3]=m.charAt(e)+m.charAt(f)+m.charAt(g)+m.charAt(h);return k=k.join(""),k=k.slice(0,k.length-l.length)+l},decode:function(a,b){b="undefined"==typeof b?!1:b;var e,f,g,h,i,j,k=[],l=c.code;j=b?d.decode(a):a;
for(var m=0;m<j.length;m+=4)e=l.indexOf(j.charAt(m)),f=l.indexOf(j.charAt(m+1)),h=l.indexOf(j.charAt(m+2)),i=l.indexOf(j.charAt(m+3)),g=e<<18|f<<12|h<<6|i,e=g>>>16&255,f=g>>>8&255,g&=255,k[m/4]=String.fromCharCode(e,f,g),64==i&&(k[m/4]=String.fromCharCode(e,f)),64==h&&(k[m/4]=String.fromCharCode(e));return h=k.join(""),b?d.decode(h):h}},d={encode:function(a){return a=a.replace(/[\u0080-\u07ff]/g,function(a){return a=a.charCodeAt(0),String.fromCharCode(192|a>>6,128|63&a)}),a=a.replace(/[\u0800-\uffff]/g,function(a){return a=a.charCodeAt(0),String.fromCharCode(224|a>>12,128|a>>6&63,128|63&a)})},decode:function(a){return a=a.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,function(a){return a=(15&a.charCodeAt(0))<<12|(63&a.charCodeAt(1))<<6|63&a.charCodeAt(2),String.fromCharCode(a)}),a=a.replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,function(a){return a=(31&a.charCodeAt(0))<<6|63&a.charCodeAt(1),String.fromCharCode(a)})}}}(jwplayer.utils),function(a){a.events={COMPLETE:"COMPLETE",ERROR:"ERROR",API_READY:"jwplayerAPIReady",JWPLAYER_READY:"jwplayerReady",JWPLAYER_FULLSCREEN:"jwplayerFullscreen",JWPLAYER_RESIZE:"jwplayerResize",JWPLAYER_ERROR:"jwplayerError",JWPLAYER_SETUP_ERROR:"jwplayerSetupError",JWPLAYER_MEDIA_BEFOREPLAY:"jwplayerMediaBeforePlay",JWPLAYER_MEDIA_BEFORECOMPLETE:"jwplayerMediaBeforeComplete",JWPLAYER_MEDIA_BUFFER:"jwplayerMediaBuffer",JWPLAYER_MEDIA_BUFFER_FULL:"jwplayerMediaBufferFull",JWPLAYER_MEDIA_ERROR:"jwplayerMediaError",JWPLAYER_MEDIA_LOADED:"jwplayerMediaLoaded",JWPLAYER_MEDIA_COMPLETE:"jwplayerMediaComplete",JWPLAYER_MEDIA_SEEK:"jwplayerMediaSeek",JWPLAYER_MEDIA_TIME:"jwplayerMediaTime",JWPLAYER_MEDIA_VOLUME:"jwplayerMediaVolume",JWPLAYER_MEDIA_META:"jwplayerMediaMeta",JWPLAYER_MEDIA_MUTE:"jwplayerMediaMute",JWPLAYER_AUDIO_TRACKS:"jwplayerAudioTracks",JWPLAYER_AUDIO_TRACK_CHANGED:"jwplayerAudioTrackChanged",JWPLAYER_MEDIA_LEVELS:"jwplayerMediaLevels",JWPLAYER_MEDIA_LEVEL_CHANGED:"jwplayerMediaLevelChanged",JWPLAYER_CAPTIONS_CHANGED:"jwplayerCaptionsChanged",JWPLAYER_CAPTIONS_LIST:"jwplayerCaptionsList",JWPLAYER_CAPTIONS_LOADED:"jwplayerCaptionsLoaded",JWPLAYER_PLAYER_STATE:"jwplayerPlayerState",state:{BUFFERING:"BUFFERING",IDLE:"IDLE",PAUSED:"PAUSED",PLAYING:"PLAYING"},JWPLAYER_PLAYLIST_LOADED:"jwplayerPlaylistLoaded",JWPLAYER_PLAYLIST_ITEM:"jwplayerPlaylistItem",JWPLAYER_PLAYLIST_COMPLETE:"jwplayerPlaylistComplete",JWPLAYER_DISPLAY_CLICK:"jwplayerViewClick",JWPLAYER_PROVIDER_CLICK:"jwplayerProviderClick",JWPLAYER_VIEW_TAB_FOCUS:"jwplayerViewTabFocus",JWPLAYER_CONTROLS:"jwplayerViewControls",JWPLAYER_USER_ACTION:"jwplayerUserAction",JWPLAYER_INSTREAM_CLICK:"jwplayerInstreamClicked",JWPLAYER_INSTREAM_DESTROYED:"jwplayerInstreamDestroyed",JWPLAYER_AD_TIME:"jwplayerAdTime",JWPLAYER_AD_ERROR:"jwplayerAdError",JWPLAYER_AD_CLICK:"jwplayerAdClicked",JWPLAYER_AD_COMPLETE:"jwplayerAdComplete",JWPLAYER_AD_IMPRESSION:"jwplayerAdImpression",JWPLAYER_AD_COMPANIONS:"jwplayerAdCompanions",JWPLAYER_AD_SKIPPED:"jwplayerAdSkipped",JWPLAYER_AD_PLAY:"jwplayerAdPlay",JWPLAYER_AD_PAUSE:"jwplayerAdPause",JWPLAYER_AD_META:"jwplayerAdMeta",JWPLAYER_CAST_AVAILABLE:"jwplayerCastAvailable",JWPLAYER_CAST_SESSION:"jwplayerCastSession",JWPLAYER_CAST_AD_CHANGED:"jwplayerCastAdChanged"}}(jwplayer),function(a){var b=a.utils;a.events.eventdispatcher=function(c,d){function e(a,c,d){if(a)for(var e=0;e<a.length;e++){var f=a[e];if(f){null!==f.count&&0===--f.count&&delete a[e];try{f.listener(c)}catch(g){b.log('Error handling "'+d+'" event listener ['+e+"]: "+g.toString(),f.listener,c)}}}}var f,g;this.resetEventListeners=function(){f={},g=[]},this.resetEventListeners(),this.addEventListener=function(a,c,d){try{b.exists(f[a])||(f[a]=[]),"string"===b.typeOf(c)&&(c=new Function("return "+c)()),f[a].push({listener:c,count:d||null})}catch(e){b.log("error",e)}return!1},this.removeEventListener=function(a,c){var d;if(f[a]){try{if(void 0===c)return void(f[a]=[]);for(d=0;d<f[a].length;d++)if(f[a][d].listener.toString()===c.toString()){f[a].splice(d,1);break}}catch(e){b.log("error",e)}return!1}},this.addGlobalListener=function(a,c){try{"string"===b.typeOf(a)&&(a=new Function("return "+a)()),g.push({listener:a,count:c||null})}catch(d){b.log("error",d)}return!1},this.removeGlobalListener=function(a){if(a){try{for(var c=g.length;c--;)g[c].listener.toString()===a.toString()&&g.splice(c,1)}catch(d){b.log("error",d)}return!1}},this.sendEvent=function(h,i){b.exists(i)||(i={}),b.extend(i,{id:c,version:a.version,type:h}),d&&b.log(h,i),e(f[h],i,h),e(g,i,h)}}}(window.jwplayer),function(a){var b={},c={};a.plugins=function(){},a.plugins.loadPlugins=function(d,e){return c[d]=new a.plugins.pluginloader(new a.plugins.model(b),e),c[d]},a.plugins.registerPlugin=function(c,d,e,f){var g=a.utils.getPluginName(c);b[g]||(b[g]=new a.plugins.plugin(c)),b[g].registerPlugin(c,d,e,f)}}(jwplayer),function(a){a.plugins.model=function(b){this.addPlugin=function(c){var d=a.utils.getPluginName(c);return b[d]||(b[d]=new a.plugins.plugin(c)),b[d]},this.getPlugins=function(){return b}}}(jwplayer),function(a){var b=jwplayer.utils,c=jwplayer.events;a.pluginmodes={FLASH:0,JAVASCRIPT:1,HYBRID:2},a.plugin=function(d){function e(){switch(b.getPluginPathType(d)){case b.pluginPathType.ABSOLUTE:return d;case b.pluginPathType.RELATIVE:return b.getAbsolutePath(d,window.location.href)}}function f(){k=setTimeout(function(){l=b.loaderstatus.COMPLETE,m.sendEvent(c.COMPLETE)},1e3)}function g(){l=b.loaderstatus.ERROR,m.sendEvent(c.ERROR,{url:d})}var h,i,j,k,l=b.loaderstatus.NEW,m=new c.eventdispatcher;b.extend(this,m),this.load=function(){if(l===b.loaderstatus.NEW)if(0<d.lastIndexOf(".swf"))h=d,l=b.loaderstatus.COMPLETE,m.sendEvent(c.COMPLETE);else if(b.getPluginPathType(d)===b.pluginPathType.CDN)l=b.loaderstatus.COMPLETE,m.sendEvent(c.COMPLETE);else{l=b.loaderstatus.LOADING;var a=new b.scriptloader(e());a.addEventListener(c.COMPLETE,f),a.addEventListener(c.ERROR,g),a.load()}},this.registerPlugin=function(a,d,e,f){k&&(clearTimeout(k),k=void 0),j=d,e&&f?(h=f,i=e):"string"==typeof e?h=e:"function"==typeof e?i=e:!e&&!f&&(h=a),l=b.loaderstatus.COMPLETE,m.sendEvent(c.COMPLETE)},this.getStatus=function(){return l},this.getPluginName=function(){return b.getPluginName(d)},this.getFlashPath=function(){if(h)switch(b.getPluginPathType(h)){case b.pluginPathType.ABSOLUTE:return h;case b.pluginPathType.RELATIVE:return 0<d.lastIndexOf(".swf")?b.getAbsolutePath(h,window.location.href):b.getAbsolutePath(h,e())}return null},this.getJS=function(){return i},this.getTarget=function(){return j},this.getPluginmode=function(){return"undefined"!=typeof h&&"undefined"!=typeof i?a.pluginmodes.HYBRID:"undefined"!=typeof h?a.pluginmodes.FLASH:"undefined"!=typeof i?a.pluginmodes.JAVASCRIPT:void 0},this.getNewInstance=function(a,b,c){return new i(a,b,c)},this.getURL=function(){return d}}}(jwplayer.plugins),function(a){var b=a.utils,c=a.events,d=a._,e=b.foreach;a.plugins.pluginloader=function(a,f){function g(){l||(l=!0,k=b.loaderstatus.COMPLETE,p.sendEvent(c.COMPLETE))}function h(){if(!o&&((!m||0===d.keys(m).length)&&g(),!l)){var e=a.getPlugins();j=d.after(n,g),b.foreach(m,function(a){a=b.getPluginName(a);var d=e[a];a=d.getJS();var f=d.getTarget(),d=d.getStatus();d===b.loaderstatus.LOADING||d===b.loaderstatus.NEW||(a&&!b.versionCheck(f)&&p.sendEvent(c.ERROR,{message:"Incompatible player version"}),j())})}}function i(a){o||(p.sendEvent(c.ERROR,{message:"File not found"}),a.url&&b.log("File not found",a.url),h())}var j,k=b.loaderstatus.NEW,l=!1,m=f,n=d.size(m),o=!1,p=new c.eventdispatcher;b.extend(this,p),this.setupPlugins=function(c,d,f){var g={length:0,plugins:{}},h=0,i={},j=a.getPlugins();return e(d.plugins,function(a,e){var k=b.getPluginName(a),l=j[k],m=l.getFlashPath(),n=l.getJS(),o=l.getURL();m&&(g.plugins[m]=b.extend({},e),g.plugins[m].pluginmode=l.getPluginmode(),g.length++);try{if(n&&d.plugins&&d.plugins[o]){var p=document.createElement("div");p.id=c.id+"_"+k,p.style.position="absolute",p.style.top=0,p.style.zIndex=h+10,i[k]=l.getNewInstance(c,b.extend({},d.plugins[o]),p),h++,c.onReady(f(i[k],p,!0)),c.onResize(f(i[k],p))}}catch(q){b.log("ERROR: Failed to load "+k+".")}}),c.plugins=i,g},this.load=function(){if(!b.exists(f)||"object"===b.typeOf(f)){k=b.loaderstatus.LOADING,e(f,function(d){b.exists(d)&&(d=a.addPlugin(d),d.addEventListener(c.COMPLETE,h),d.addEventListener(c.ERROR,i))});var d=a.getPlugins();e(d,function(a,b){b.load()})}h()},this.destroy=function(){o=!0,p&&(p.resetEventListeners(),p=null)},this.pluginFailed=i,this.getStatus=function(){return k}}}(jwplayer),function(a){a.parsers={localName:function(a){return a?a.localName?a.localName:a.baseName?a.baseName:"":""},textContent:function(b){return b?b.textContent?a.utils.trim(b.textContent):b.text?a.utils.trim(b.text):"":""},getChildNode:function(a,b){return a.childNodes[b]},numChildren:function(a){return a.childNodes?a.childNodes.length:0}}}(jwplayer),function(a){var b=a.parsers;(b.jwparser=function(){}).parseEntry=function(c,d){for(var e=[],f=[],g=a.utils.xmlAttribute,h=0;h<c.childNodes.length;h++){var i=c.childNodes[h];if("jwplayer"===i.prefix){var j=b.localName(i);"source"===j?(delete d.sources,e.push({file:g(i,"file"),"default":g(i,"default"),label:g(i,"label"),type:g(i,"type")})):"track"===j?(delete d.tracks,f.push({file:g(i,"file"),"default":g(i,"default"),kind:g(i,"kind"),label:g(i,"label")})):(d[j]=a.utils.serialize(b.textContent(i)),"file"===j&&d.sources&&delete d.sources)}d.file||(d.file=d.link)}if(e.length)for(d.sources=[],h=0;h<e.length;h++)0<e[h].file.length&&(e[h]["default"]="true"===e[h]["default"]?!0:!1,e[h].label.length||delete e[h].label,d.sources.push(e[h]));if(f.length)for(d.tracks=[],h=0;h<f.length;h++)0<f[h].file.length&&(f[h]["default"]="true"===f[h]["default"]?!0:!1,f[h].kind=f[h].kind.length?f[h].kind:"captions",f[h].label.length||delete f[h].label,d.tracks.push(f[h]));return d}}(jwplayer),function(a){var b=jwplayer.utils,c=b.xmlAttribute,d=a.localName,e=a.textContent,f=a.numChildren,g=a.mediaparser=function(){};g.parseGroup=function(a,h){var i,j,k=[];for(j=0;j<f(a);j++)if(i=a.childNodes[j],"media"===i.prefix&&d(i))switch(d(i).toLowerCase()){case"content":c(i,"duration")&&(h.duration=b.seconds(c(i,"duration"))),0<f(i)&&(h=g.parseGroup(i,h)),c(i,"url")&&(h.sources||(h.sources=[]),h.sources.push({file:c(i,"url"),type:c(i,"type"),width:c(i,"width"),label:c(i,"label")}));break;case"title":h.title=e(i);break;case"description":h.description=e(i);break;case"guid":h.mediaid=e(i);break;case"thumbnail":h.image||(h.image=c(i,"url"));break;case"group":g.parseGroup(i,h);break;case"subtitle":var l={};if(l.file=c(i,"url"),l.kind="captions",0<c(i,"lang").length){var m=l;i=c(i,"lang");var n={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish"};i=n[i]?n[i]:i,m.label=i}k.push(l)}for(h.hasOwnProperty("tracks")||(h.tracks=[]),j=0;j<k.length;j++)h.tracks.push(k[j]);return h}}(jwplayer.parsers),function(a){function b(b){for(var e={},f=0;f<b.childNodes.length;f++){var h=b.childNodes[f],i=g(h);if(i)switch(i.toLowerCase()){case"enclosure":e.file=c.xmlAttribute(h,"url");break;case"title":e.title=d(h);break;case"guid":e.mediaid=d(h);break;case"pubdate":e.date=d(h);break;case"description":e.description=d(h);break;case"link":e.link=d(h);break;case"category":e.tags=e.tags?e.tags+d(h):d(h)}}return e=a.mediaparser.parseGroup(b,e),e=a.jwparser.parseEntry(b,e),new jwplayer.playlist.item(e)}var c=jwplayer.utils,d=a.textContent,e=a.getChildNode,f=a.numChildren,g=a.localName;a.rssparser={},a.rssparser.parse=function(a){for(var c=[],d=0;d<f(a);d++){var h=e(a,d);if("channel"===g(h).toLowerCase())for(var i=0;i<f(h);i++){var j=e(h,i);"item"===g(j).toLowerCase()&&c.push(b(j))}}return c}}(jwplayer.parsers),function(a){var b=a.utils,c=a._;a.playlist=function(b){var d=[];return b=c.isArray(b)?b:[b],c.each(b,function(b){d.push(new a.playlist.item(b))}),d},a.playlist.filterPlaylist=function(a,e){var f=[];return c.each(a,function(a){if(a=b.extend({},a),a.sources=d(a.sources,!1,e),a.sources.length){for(var c=0;c<a.sources.length;c++)a.sources[c].label=a.sources[c].label||c.toString();f.push(a)}}),f};var d=a.playlist.filterSources=function(d,e,f){var g,h=[],i=e?a.embed.flashCanPlay:a.embed.html5CanPlay;return d?(c.each(d,function(a){if(a&&a.file){var c=b.trim(""+a.file),d=a.type;d||(d=b.extension(c),d=b.extensionmap.extType(d)),a=b.extend({},a,{file:c,type:d})}else a=void 0;a&&i(a.file,a.type,f)&&(g=g||a.type,a.type===g&&h.push(a))}),h):void 0}}(jwplayer),function(a){var b=a.item=function(c){var d,e,f=jwplayer.utils,g=f.extend({},b.defaults,c);for(g.tracks=c&&f.exists(c.tracks)?c.tracks:[],0===g.sources.length&&(g.sources=[new a.source(g)]),d=0;d<g.sources.length;d++)e=g.sources[d]["default"],g.sources[d]["default"]=e?"true"===e.toString():!1,g.sources[d]=new a.source(g.sources[d]);if(g.captions&&!f.exists(c.tracks)){for(c=0;c<g.captions.length;c++)g.tracks.push(g.captions[c]);delete g.captions}for(d=0;d<g.tracks.length;d++)g.tracks[d]=new a.track(g.tracks[d]);return g};b.defaults={description:void 0,image:void 0,mediaid:void 0,title:void 0,sources:[],tracks:[]}}(jwplayer.playlist),function(a){var b=a.utils,c=a.events,d=a.parsers;a.playlist.loader=function(){function e(b){try{var e=b.responseXML.childNodes;b="";for(var f=0;f<e.length&&(b=e[f],!(8!==b.nodeType));f++);if("xml"===d.localName(b)&&(b=b.nextSibling),"rss"!==d.localName(b))g("Not a valid RSS feed");else{var i=new a.playlist(d.rssparser.parse(b));h.sendEvent(c.JWPLAYER_PLAYLIST_LOADED,{playlist:i})}}catch(j){g()}}function f(a){g(a.match(/invalid/i)?"Not a valid RSS feed":"")}function g(a){h.sendEvent(c.JWPLAYER_ERROR,{message:a?a:"Error loading file"})}var h=new c.eventdispatcher;b.extend(this,h),this.load=function(a){b.ajax(a,e,f)}}}(jwplayer),function(a){var b=jwplayer.utils,c={file:void 0,label:void 0,type:void 0,"default":void 0};a.source=function(a){var d=b.extend({},c);return b.foreach(c,function(c){b.exists(a[c])&&(d[c]=a[c],delete a[c])}),d.type&&0<d.type.indexOf("/")&&(d.type=b.extensionmap.mimeType(d.type)),"m3u8"===d.type&&(d.type="hls"),"smil"===d.type&&(d.type="rtmp"),d}}(jwplayer.playlist),function(a){var b=jwplayer.utils,c={file:void 0,label:void 0,kind:"captions","default":!1};a.track=function(a){var d=b.extend({},c);return a||(a={}),b.foreach(c,function(c){b.exists(a[c])&&(d[c]=a[c],delete a[c])}),d}}(jwplayer.playlist),function(a){function b(a,b,d){var e=a.style;e.backgroundColor="#000",e.color="#FFF",e.width=c.styleDimension(d.width),e.height=c.styleDimension(d.height),e.display="table",e.opacity=1,d=document.createElement("p"),e=d.style,e.verticalAlign="middle",e.textAlign="center",e.display="table-cell",e.font="15px/20px Arial, Helvetica, sans-serif",d.innerHTML=b.replace(":",":<br>"),a.innerHTML="",a.appendChild(d)}var c=a.utils,d=a.events,e=a._,f=a.embed=function(g){function h(){if(!v){var b=o.playlist;if(e.isArray(b)){if(0===b.length)return void k();if(!(1!==b.length||b[0].sources&&0!==b[0].sources.length&&b[0].sources[0].file))return void k()}if(!u)if(e.isString(b))n=new a.playlist.loader,n.addEventListener(d.JWPLAYER_PLAYLIST_LOADED,function(a){o.playlist=a.playlist,u=!1,h()}),n.addEventListener(d.JWPLAYER_ERROR,function(a){u=!1,k(a)}),u=!0,n.load(o.playlist);else if(t.getStatus()===c.loaderstatus.COMPLETE){for(b=0;b<o.modes.length;b++){var j=o.modes[b],m=j.type;if(m&&f[m]){var p=c.extend({},o);if(w=new f[m](z,j,p,t,g),w.supportsConfig())return w.addEventListener(d.ERROR,i),w.embed(),c.css("object.jwswf, .jwplayer:focus",{outline:"none"}),c.css(".jw-tab-focus:focus",{outline:"solid 2px #0B7EF4"}),g}}o.fallback?(b="No suitable players found and fallback enabled",l(b,!0),c.log(b),new f.download(z,o,k)):(b="No suitable players found and fallback disabled",l(b,!1),c.log(b))}}}function i(a){m(r+a.message)}function j(a){g.dispatchEvent(d.JWPLAYER_ERROR,{message:"Could not load plugin: "+a.message})}function k(a){m(a&&a.message?"Error loading playlist: "+a.message:r+"No playable sources found")}function l(a,b){clearTimeout(x),x=setTimeout(function(){g.dispatchEvent(d.JWPLAYER_SETUP_ERROR,{message:a,fallback:b})},0)}function m(a){v||(s.parentNode.replaceChild(z,s),o.fallback?(v=!0,b(z,a,o),l(a,!0)):l(a,!1))}var n,o=new f.config(g.config),p=o.width,q=o.height,r="Error loading player: ",s=document.getElementById(g.id),t=a.plugins.loadPlugins(g.id,o.plugins),u=!1,v=!1,w=null,x=-1;o.id=g.id,o.aspectratio?g.config.aspectratio=o.aspectratio:delete g.config.aspectratio;var y=g;c.foreach(o.events,function(a,b){var c=y[a];"function"==typeof c&&c.call(y,b)});var z=document.createElement("div");return z.id=s.id,z.style.width=0<p.toString().indexOf("%")?p:p+"px",z.style.height=0<q.toString().indexOf("%")?q:q+"px",this.embed=function(){v||(t.addEventListener(d.COMPLETE,h),t.addEventListener(d.ERROR,j),t.load())},this.destroy=function(){w&&(w.destroy(),w=null),t&&(t.destroy(),t=null),n&&(n.resetEventListeners(),n=null)},this.errorScreen=m,this};a.embed.errorScreen=b}(jwplayer),function(a){function b(a){if(a.playlist)for(var b=0;b<a.playlist.length;b++)a.playlist[b]=new e(a.playlist[b]);else{var f={};d.foreach(e.defaults,function(b){c(a,f,b)}),f.sources||(a.levels?(f.sources=a.levels,delete a.levels):(b={},c(a,b,"file"),c(a,b,"type"),f.sources=b.file?[b]:[])),a.playlist=[new e(f)]}}function c(a,b,c){d.exists(a[c])&&(b[c]=a[c],delete a[c])}var d=a.utils,e=a.playlist.item;(a.embed.config=function(c){var e={fallback:!0,height:270,primary:"html5",width:480,base:c.base?c.base:d.getScriptPath("jwplayer.js"),aspectratio:""};c=d.extend({},e,a.defaults,c);var e={type:"html5",src:c.base+"jwplayer.html5.js"},f={type:"flash",src:c.base+"jwplayer.flash.swf"};if(c.modes="flash"===c.primary?[f,e]:[e,f],c.listbar&&(c.playlistsize=c.listbar.size,c.playlistposition=c.listbar.position,c.playlistlayout=c.listbar.layout),c.flashplayer&&(f.src=c.flashplayer),c.html5player&&(e.src=c.html5player),b(c),f=c.aspectratio,"string"==typeof f&&d.exists(f)){var g=f.indexOf(":");-1===g?e=0:(e=parseFloat(f.substr(0,g)),f=parseFloat(f.substr(g+1)),e=0>=e||0>=f?0:100*(f/e)+"%")}else e=0;return-1===c.width.toString().indexOf("%")?delete c.aspectratio:e?c.aspectratio=e:delete c.aspectratio,c}).addConfig=function(a,c){return b(c),d.extend(a,c)}}(jwplayer),function(a){function b(a,b){function d(a,b){e[f].style[a]=b}for(var e=document.querySelectorAll(a),f=0;f<e.length;f++)c.foreach(b,d)}var c=a.utils;a.embed.download=function(a,d,e){function f(a,b,c){return a=document.createElement(a),b&&(a.className="jwdownload"+b),c&&c.appendChild(a),a}var g,h,i=c.extend({},d),j=i.width?i.width:480,k=i.height?i.height:320;d=d.logo?d.logo:{prefix:c.repo(),file:"logo.png",margin:10};var l,m,n,o,p,q;if(m=i.playlist,i=["mp4","aac","mp3"],m&&m.length){for(n=m[0],o=n.sources,m=0;m<o.length;m++)p=o[m],p.file&&(q=p.type||c.extensionmap.extType(c.extension(p.file)),0<=c.indexOf(i,q)?(g=p.file,h=n.image):c.isYouTube(p.file,q)&&(l=p.file));g?(e=g,a&&(g=f("a","display",a),f("div","icon",g),f("div","logo",g),e&&g.setAttribute("href",c.getAbsolutePath(e))),e="#"+a.id+" .jwdownload",a.style.width="",a.style.height="",b(e+"display",{width:c.styleDimension(Math.max(320,j)),height:c.styleDimension(Math.max(180,k)),background:"black center no-repeat "+(h?"url("+h+")":""),backgroundSize:"contain",position:"relative",border:"none",display:"block"}),b(e+"display div",{position:"absolute",width:"100%",height:"100%"}),b(e+"logo",{top:d.margin+"px",right:d.margin+"px",background:"top right no-repeat url("+d.prefix+d.file+")"}),b(e+"icon",{background:"center no-repeat url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAgNJREFUeNrs28lqwkAYB/CZqNVDDj2r6FN41QeIy8Fe+gj6BL275Q08u9FbT8ZdwVfotSBYEPUkxFOoks4EKiJdaDuTjMn3wWBO0V/+sySR8SNSqVRKIR8qaXHkzlqS9jCfzzWcTCYp9hF5o+59sVjsiRzcegSckFzcjT+ruN80TeSlAjCAAXzdJSGPFXRpAAMYwACGZQkSdhG4WCzehMNhqV6vG6vVSrirKVEw66YoSqDb7cqlUilE8JjHd/y1MQefVzqdDmiaJpfLZWHgXMHn8F6vJ1cqlVAkEsGuAn83J4gAd2RZymQygX6/L1erVQt+9ZPWb+CDwcCC2zXGJaewl/DhcHhK3DVj+KfKZrMWvFarcYNLomAv4aPRSFZVlTlcSPA5fDweW/BoNIqFnKV53JvncjkLns/n/cLdS+92O7RYLLgsKfv9/t8XlDn4eDyiw+HA9Jyz2eyt0+kY2+3WFC5hluej0Ha7zQQq9PPwdDq1Et1sNsx/nFBgCqWJ8oAK1aUptNVqcYWewE4nahfU0YQnk4ntUEfGMIU2m01HoLaCKbTRaDgKtaVLk9tBYaBcE/6Artdr4RZ5TB6/dC+9iIe/WgAMYADDpAUJAxjAAAYwgGFZgoS/AtNNTF7Z2bL0BYPBV3Jw5xFwwWcYxgtBP5OkE8i9G7aWGOOCruvauwADALMLMEbKf4SdAAAAAElFTkSuQmCC)"})):l?(d=l,a=f("iframe","",a),a.src="http://www.youtube.com/embed/"+c.youTubeID(d),a.width=j,a.height=k,a.style.border="none"):e()}}}(jwplayer),function(a){var b=a.utils,c=a.events,d={};(a.embed.flash=function(f,g,h,i,j){function k(a,b,c){var d=document.createElement("param");d.setAttribute("name",b),d.setAttribute("value",c),a.appendChild(d)}function l(a,b,c){return function(){try{c&&document.getElementById(j.id+"_wrapper").appendChild(b);var d=document.getElementById(j.id).getPluginConfig("display");"function"==typeof a.resize&&a.resize(d.width,d.height),b.style.left=d.x,b.style.top=d.h}catch(e){}}}function m(a){if(!a)return{};var c={},d=[];return b.foreach(a,function(a,e){var f=b.getPluginName(a);d.push(a),b.foreach(e,function(a,b){c[f+"."+a]=b})}),c.plugins=d.join(","),c}var n=new a.events.eventdispatcher,o=b.flashVersion();b.extend(this,n),this.embed=function(){if(h.id=j.id,10>o)return n.sendEvent(c.ERROR,{message:"Flash version must be 10.0 or greater"}),!1;var a,e,p=f.id,q=j.config.listbar,r=b.extend({},h);if(a=document.getElementById(j.id),a.parentNode.replaceChild(f,a),p+"_wrapper"===f.parentNode.id)a=document.getElementById(p+"_wrapper");else{if(a=document.createElement("div"),e=document.createElement("div"),e.style.display="none",e.id=p+"_aspect",a.id=p+"_wrapper",a.style.position="relative",a.style.display="block",a.style.width=b.styleDimension(r.width),a.style.height=b.styleDimension(r.height),j.config.aspectratio){var s=parseFloat(j.config.aspectratio);e.style.display="block",e.style.marginTop=j.config.aspectratio,a.style.height="auto",a.style.display="inline-block",q&&("bottom"===q.position?e.style.paddingBottom=q.size+"px":"right"===q.position&&(e.style.marginBottom=-1*q.size*(s/100)+"px"))}f.parentNode.replaceChild(a,f),a.appendChild(f),a.appendChild(e)}for(q=i.setupPlugins(j,r,l),0<q.length?b.extend(r,m(q.plugins)):delete r.plugins,"undefined"!=typeof r["dock.position"]&&"false"===r["dock.position"].toString().toLowerCase()&&(r.dock=r["dock.position"],delete r["dock.position"]),q=r.wmode||(r.height&&40>=r.height?"transparent":"opaque"),e="height width modes events primary base fallback volume".split(" "),s=0;s<e.length;s++)delete r[e[s]];e=b.getCookies(),b.foreach(e,function(a,b){"undefined"==typeof r[a]&&(r[a]=b)}),e=window.location.href.split("/"),e.splice(e.length-1,1),e=e.join("/"),r.base=e+"/",d[p]=r,b.isMSIE()?(f.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%" id="'+p+'" name="'+p+'" tabindex="0"><param name="movie" value="'+g.src+'"><param name="allowfullscreen" value="true"><param name="allowscriptaccess" value="always"><param name="seamlesstabbing" value="true"><param name="wmode" value="'+q+'"><param name="bgcolor" value="#000000"></object>',a=a.getElementsByTagName("object")[0],a.style.outline="none"):(a=document.createElement("object"),a.setAttribute("type","application/x-shockwave-flash"),a.setAttribute("data",g.src),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("bgcolor","#000000"),a.setAttribute("id",p),a.setAttribute("name",p),a.className="jwswf",k(a,"allowfullscreen","true"),k(a,"allowscriptaccess","always"),k(a,"seamlesstabbing","true"),k(a,"wmode",q),f.parentNode.replaceChild(a,f)),j.config.aspectratio&&(a.style.position="absolute",a.style.left="0"),j.container=a,j.setPlayer(a,"flash")},this.supportsConfig=function(){if(o){if(!h)return!0;if("string"===b.typeOf(h.playlist))return!0;try{var a=h.playlist[0].sources;if("undefined"==typeof a)return!0;for(var c=0;c<a.length;c++)if(a[c].file&&e(a[c].file,a[c].type))return!0}catch(d){}}return!1},this.destroy=function(){}}).getVars=function(a){return d[a]};var e=a.embed.flashCanPlay=function(a,c){if(b.isYouTube(a,c)||b.isRtmp(a,c)||"hls"===c)return!0;var d=b.extensionmap[c?c:b.extension(a)];return d?!!d.flash:!1}}(jwplayer),function(a){var b,c=a.utils,d=c.extensionmap,e=a.events;a.embed.html5=function(d,f,g,h,i){function j(a,b,c){return function(){try{var e=document.querySelector("#"+d.id+" .jwmain");c&&e.appendChild(b),"function"==typeof a.resize&&(a.resize(e.clientWidth,e.clientHeight),setTimeout(function(){a.resize(e.clientWidth,e.clientHeight)},400)),b.left=e.style.left,b.top=e.style.top}catch(f){}}}var k=new e.eventdispatcher;c.extend(this,k),this.embed=function(){if(a.html5){h.setupPlugins(i,g,j),c.emptyElement(d);var b=a.utils.extend({},g);delete b.volume,b=new a.html5.player(b),i.setPlayer(b,"html5")}else this.loadEmbedder()},this.loadEmbedder=function(){b=b||new c.scriptloader(f.src),b.addEventListener(e.ERROR,this.loadError),b.addEventListener(e.COMPLETE,this.embed),b.load()},this.loadError=function(a){this.sendEvent(a.type,{message:"HTML5 player not found"})},this.supportsConfig=function(){if(a.vid.canPlayType)try{if("string"===c.typeOf(g.playlist))return!0;for(var b=g.playlist[0].sources,d=0;d<b.length;d++)if(a.embed.html5CanPlay(b[d].file,b[d].type,g.androidhls))return!0}catch(e){}return!1},this.destroy=function(){b&&(b.resetEventListeners(),b=null)}},a.embed.html5CanPlay=function(b,e,f){if(null!==navigator.userAgent.match(/BlackBerry/i)||c.isIE(9))return!1;if(c.isYouTube(b,e))return!0;var g=c.extension(b);if(e=e||d.extType(g),"hls"===e)if(f){if(f=c.isAndroidNative,f(2)||f(3)||f("4.0"))return!1;if(c.isAndroid())return!0}else if(c.isAndroid())return!1;if(c.isRtmp(b,e))return!1;if(b=d[e]||d[g],!b||b.flash&&!b.html5)return!1;var h;a:if(b=b.html5){try{h=!!a.vid.canPlayType(b);break a}catch(i){}h=!1}else h=!0;return h}}(jwplayer),function(a){var b=a.embed,c=a.embed.html5CanPlay,d=a.utils,e=a._,f=/\.(js|swf)$/;a.cast=a.cast||{},a.embed=d.extend(function(c){function e(){g="Adobe SiteCatalyst Error: Could not find Media Module"}var g,h=d.repo(),i=d.extend({},a.defaults),j=d.extend({},i,c.config),k=c.config,l=j.plugins,m=j.analytics,n=h+"jwpsrv.js",o=h+"sharing.js",p=h+"related.js",q=h+"gapro.js",i=a.key?a.key:i.key,r=new a.utils.key(i).edition(),l=l?l:{};switch("ads"==r&&j.advertising&&(f.test(j.advertising.client)?l[j.advertising.client]=j.advertising:l[h+j.advertising.client+".js"]=j.advertising),delete k.advertising,k.key=i,j.analytics&&f.test(j.analytics.client)&&(n=j.analytics.client),delete k.analytics,m&&!("ads"===r||"enterprise"===r)&&delete m.enabled,"free"!=r&&m&&!1===m.enabled||(l[n]=m?m:{}),delete l.sharing,delete l.related,r){case"ads":case"enterprise":if(k.sitecatalyst)try{window.s&&window.s.hasOwnProperty("Media")?new a.embed.sitecatalyst(c):e()}catch(s){e()}case"premium":j.related&&(f.test(j.related.client)&&(p=j.related.client),l[p]=j.related),j.ga&&(f.test(j.ga.client)&&(q=j.ga.client),l[q]=j.ga);case"pro":j.sharing&&(f.test(j.sharing.client)&&(o=j.sharing.client),l[o]=j.sharing),j.skin&&(k.skin=j.skin.replace(/^(beelden|bekle|five|glow|modieus|roundster|stormtrooper|vapor)$/i,d.repo()+"skins/$1.xml"))}return k.plugins=l,c.config=k,c=new b(c),g&&c.errorScreen(g),c},a.embed),a.embed.html5CanPlay=function(b,d){var f,g={file:b,type:d};return f=a.html5&&a.html5.chooseProvider?a.html5.chooseProvider(g)!==a.html5.VideoProvider:e.any(a.unregisteredProviders,function(a){return a.supports(g)}),f?!0:c.apply(this,arguments)}}(jwplayer),function(a){var b=jwplayer.utils;a.sitecatalyst=function(a){function c(a){l.debug&&b.log(a)}function d(a){return a=a.split("/"),a=a[a.length-1],a=a.split("?"),a[0]}function e(){if(!n){n=!0;var a=k.getPosition();c("stop: "+g+" : "+a),s.Media.stop(g,a)}}function f(){o||(e(),o=!0,c("close: "+g),s.Media.close(g),j=!0,i=0)}var g,h,i,j,k=a,l=b.extend({},k.config.sitecatalyst),m={onPlay:function(){if(!j){var a=k.getPosition();n=!1,c("play: "+g+" : "+a),s.Media.play(g,a)}},onPause:e,onBuffer:e,onIdle:f,onPlaylistItem:function(a){try{j=!0,f(),i=0;var c;if(l.mediaName)c=l.mediaName;else{var e=k.getPlaylistItem(a.index);c=e.title?e.title:e.file?d(e.file):e.sources&&e.sources.length?d(e.sources[0].file):""}g=c,h=l.playerName?l.playerName:k.id}catch(m){b.log(m)}},onTime:function(){if(j){var a=k.getDuration();if(-1==a)return;o=n=j=!1,c("open: "+g+" : "+a+" : "+h),s.Media.open(g,a,h),c("play: "+g+" : 0"),s.Media.play(g,0)}if(a=k.getPosition(),3<=Math.abs(a-i)){var b=i;c("seek: "+b+" to "+a),c("stop: "+g+" : "+b),s.Media.stop(g,b),c("play: "+g+" : "+a),s.Media.play(g,a)}i=a},onComplete:f},n=!0,o=!0;b.foreach(m,function(a){k[a](m[a])})}}(jwplayer.embed),function(a){function b(a,b){a[b]&&(a[b]=c.getAbsolutePath(a[b]))}var c=a.utils,d=a._,e=window.location.href;a.cast.setupCastConfig=function(d,f){var g=c.extend({},d.config);g.cast=c.extend({pageUrl:e},f);for(var h="base autostart controls fallback fullscreen width height mobilecontrols modes playlistlayout playlistposition playlistsize primary stretching sharing related ga skin logo listbar events".split(" "),i=h.length;i--;)delete g[h[i]];h=g.plugins,delete g.plugins;for(var j in h)if(h.hasOwnProperty(j)){var k=h[j];if(k.client&&(/[\.\/]/.test(k.client)&&b(k,"client"),-1<k.client.indexOf("vast"))){if(i=g,k=c.extend({},k),k.client="vast",delete k.companiondiv,k.schedule){var l=void 0;for(l in k.schedule)k.schedule.hasOwnProperty(l)&&b(k.schedule[l].ad||k.schedule[l],"tag")}b(k,"tag"),i.advertising=k}}return d.position&&(g.position=d.position),0<d.item&&(g.item=d.item),g.captionLabel=c.getCookies().captionLabel,g.playerVersion=a.version,g},a.cast.setupFlashCastConfig=function(b){var e=b.config;e.playlist=b.getPlaylist();var f;return(f=d.find(e.plugins,function(a,b){return 0<b.indexOf("vast.js")}))?(f.client="vast",f={advertising:f}):f={},e=d.pick(e,"id captionLabel cast key playlist repeat".split(" ")),e.cast.pageUrl=window.location.href,c.extend(e,{playerVersion:a.version,captionLabel:c.getCookies().captionLabel,volume:b.getVolume(),mute:b.getMute(),id:b.id,position:b.getPosition(),item:b.getPlaylistIndex()},f),e}}(window.jwplayer),function(a,b){function c(a,b){a[b]&&(a[b]=e.getAbsolutePath(a[b]))}var d=b.cast,e=b.utils,f=b.events,g=f.state,h={};d.NS="urn:x-cast:com.longtailvideo.jwplayer",d.debug=!1,d.availability=null,d.available=function(b){b=b||d.availability;var c=a.chrome,e="available";return c.cast&&c.cast.ReceiverAvailability&&(e=c.cast.ReceiverAvailability.AVAILABLE),b===e},d.controller=function(i,j){function k(a,b){d.log("send command",a,b);var c={command:a};void 0!==b&&(c.args=b),I.sendMessage(d.NS,c,E,function(a){d.log("error message",a),"Invalid namespace"===a.description&&s()})}function l(a){a=!!d.available(a.availability),J.available!==a&&(J.available=a,p(f.JWPLAYER_CAST_AVAILABLE))}function m(a){d.log("existing session",a),!I&&!P&&(P=a.session,P.addMessageListener(d.NS,n))}function n(a,c){var e=JSON.parse(c);if(!e)throw"Message not proper JSON";if(e.reconcile){P.removeMessageListener(d.NS,n);var g=e.diff,h=P;g.id&&e.appid&&e.pageUrl||(g.id=b().id,e.appid=H.appid,e.pageUrl=L,P=I=null),g.id===i.id&&e.appid===H.appid&&e.pageUrl===L&&(I||(i.jwInstreamState()&&i.jwInstreamDestroy(!0),u(h),j.sendEvent(f.JWPLAYER_PLAYER_STATE,{oldstate:g.oldstate,newstate:g.newstate})),z(e)),P=null}}function o(a){J.active=!!a,a=J;var b;b=I&&I.receiver?I.receiver.friendlyName:"",a.deviceName=b,p(f.JWPLAYER_CAST_SESSION,{})}function p(a){var b=e.extend({},J);j.sendEvent(a,b)}function q(b){var c=a.chrome;b.code!==c.cast.ErrorCode.CANCEL&&(d.log("Cast Session Error:",b,I),b.code===c.cast.ErrorCode.SESSION_ERROR&&s())}function r(b){var c=a.chrome;b.code!==c.cast.ErrorCode.CANCEL&&(d.log("Cast Session Error:",b,I),b.code===c.cast.ErrorCode.SESSION_ERROR&&s())}function s(){I?(x(),I.stop(w,t),A({item:0}),z({type:"state",diff:{buffer:0,position:0,duration:0}})):w()}function t(a){d.error("Cast Session Stop error:",a,I),w()}function u(c){if(d.log("Session started:",c),I)s(),Q=c;else{I=c,
I.addMessageListener(d.NS,y),I.addUpdateListener(v),i.jwPause(!0),i.jwSetFullscreen(!1),O=j.getVideo(),F=j.volume,G=j.mute,M=new d.provider(k),M.init(),j.setVideoProvider(M),i.jwPlay=function(a){!1===a?M.pause():M.play()},i.jwPause=function(a){i.jwPlay(!!a)},i.jwLoad=function(a){"number"===e.typeOf(a)&&j.setItem(a),M.load(a)},i.jwPlaylistItem=function(a){"number"===e.typeOf(a)&&j.setItem(a),M.playlistItem(a)},i.jwPlaylistNext=function(){i.jwPlaylistItem(j.item+1)},i.jwPlaylistPrev=function(){i.jwPlaylistItem(j.item-1)},i.jwSetVolume=function(a){e.exists(a)&&(a=0|Math.min(Math.max(0,a),100),C(a)&&(a=Math.max(0,Math.min(a/100,1)),I.setReceiverVolumeLevel(a,B,function(a){d.error("set volume error",a),B()})))},i.jwSetMute=function(a){e.exists(a)||(a=!K.mute),D(a)&&I.setReceiverMuted(!!a,B,function(a){d.error("set muted error",a),B()})},i.jwGetVolume=function(){return 0|K.volume},i.jwGetMute=function(){return!!K.mute},i.jwIsBeforePlay=function(){return!1};var h=i.jwSetCurrentCaptions;i.jwSetCurrentCaptions=function(a){h(a),M.sendCommand("caption",a)},i.jwSkipAd=function(a){N&&(N.skipAd(a),a=N.getAdModel(),a.complete=!0,j.sendEvent(f.JWPLAYER_CAST_AD_CHANGED,a))},i.jwClickAd=function(c){if(N&&300<N.timeSinceClick()&&(N.clickAd(c),j.state!==g.PAUSED)){var d={tag:c.tag};c.sequence&&(d.sequence=c.sequence),c.podcount&&(d.podcount=c.podcount),b(i.id).dispatchEvent(f.JWPLAYER_AD_CLICK,d),a.open(c.clickthrough)}},i.jwPlayAd=i.jwPauseAd=i.jwSetControls=i.jwForceState=i.jwReleaseState=i.jwSetFullscreen=i.jwDetachMedia=i.jwAttachMedia=E;var l=b(i.id).plugins;l.vast&&l.vast.jwPauseAd!==E&&(R={jwPlayAd:l.vast.jwPlayAd,jwPauseAd:l.vast.jwPauseAd},l.vast.jwPlayAd=l.vast.jwPauseAd=E),B(),o(!0),c!==P&&(M.setup(b.cast.setupCastConfig(j,H),j),b.cast.loader.sendDummyMedia(c))}}function v(a){d.log("Cast Session status",a),a?B():(M.sendEvent(f.JWPLAYER_PLAYER_STATE,{oldstate:j.state,newstate:g.BUFFERING}),w())}function w(){if(d.log("_sessionStopped"),I&&(x(),I=null),O){delete i.jwSkipAd,delete i.jwClickAd,i.initializeAPI();var a=b(i.id).plugins;a.vast&&e.extend(a.vast,R),j.volume=F,j.mute=G,j.setVideoProvider(O),j.duration=0,M&&(M.destroy(),M=null),N&&(N.destroy(),N=null),j.state!==g.IDLE?e.isIPad()||e.isIPod()?(i.jwStop(!0),O.sendEvent(f.JWPLAYER_PLAYER_STATE,{oldstate:g.BUFFERING,newstate:g.IDLE})):(j.state=g.IDLE,i.jwPlay(!0),i.jwSeek(j.position)):O.sendEvent(f.JWPLAYER_PLAYER_STATE,{oldstate:g.BUFFERING,newstate:g.IDLE}),O=null}o(!1),null!==Q&&(u(Q),Q=null)}function x(){I.removeUpdateListener(v),I.removeMessageListener(d.NS,y)}function y(a,b){var c=JSON.parse(b);if(!c)throw"Message not proper JSON";z(c)}function z(a){if("state"===a.type)N&&(a.diff.newstate||a.diff.position)&&(N.destroy(),N=null,j.setVideoProvider(M),j.sendEvent(f.JWPLAYER_CAST_AD_CHANGED,{done:!0})),M.updateModel(a.diff,a.type),A(a.diff);else if("ad"===a.type){null===N&&(N=new d.adprovider(d.NS,I),N.init(),j.setVideoProvider(N)),N.updateModel(a.diff,a.type);var b=N.getAdModel();a.diff.clickthrough&&(b.onClick=i.jwClickAd),a.diff.skipoffset&&(b.onSkipAd=i.jwSkipAd),j.sendEvent(f.JWPLAYER_CAST_AD_CHANGED,b),a.diff.complete&&N.resetAdModel()}else"connection"===a.type?!0===a.closed&&s():d.error("received unhandled message",a.type,a)}function A(a){void 0!==a.item&&j.item!==a.item&&(j.item=a.item,j.sendEvent(f.JWPLAYER_PLAYLIST_ITEM,{index:j.item}))}function B(){if(I&&I.receiver){var a=I.receiver.volume;if(a){var b=100*a.level|0;D(!!a.muted),C(b)}}}function C(a){var b=K.volume!==a;return b&&(K.volume=a,M.sendEvent(f.JWPLAYER_MEDIA_VOLUME,{volume:a})),b}function D(a){var b=K.mute!==a;return b&&(K.mute=a,M.sendEvent(f.JWPLAYER_MEDIA_MUTE,{mute:a})),b}function E(){}var F,G,H,I=null,J={available:!1,active:!1,deviceName:""},K={volume:null,mute:null},L=e.getAbsolutePath(a.location.href),M=null,N=null,O=null;F=j.volume,G=j.mute;var P=null,Q=null,R=null;H=e.extend({},h,j.cast),c(H,"loadscreen"),c(H,"endscreen"),c(H,"logo"),!H.appid||a.cast&&a.cast.receiver||(d.loader.addEventListener("availability",l),d.loader.addEventListener("session",m),d.loader.initialize(H.appid)),this.startCasting=function(){I||i.jwInstreamState()||a.chrome.cast.requestSession(u,q)},this.stopCasting=s,this.openExtension=function(){i.jwInstreamState()||a.chrome.cast.requestSession(u,r)}},d.log=function(){if(d.debug){var a=Array.prototype.slice.call(arguments,0);console.log.apply(console,a)}},d.error=function(){var a=Array.prototype.slice.call(arguments,0);console.error.apply(console,a)}}(window,jwplayer),function(a){function b(a){r.log("existing session",a),!q&&!o&&(o=a.session,o.addMessageListener(r.NS,c))}function c(b,d){var e=JSON.parse(d),f=o;if(!e)throw"Message not proper JSON";e.reconcile&&(o.removeMessageListener(r.NS,c),e.receiverFriendlyName=o.receiver.friendlyName,e.pageUrl&&e.diff.id&&e.appid||(e.pageUrl=x,e.diff.id=a().id,e.appid=n,o=q=null),v[e.diff.id]&&n===e.appid&&e.pageUrl===x&&(m=e.diff.id,n=e.appid,k(m,"jwInstreamDestroy"),g(f),k(m,w.message,e),o=null))}function d(){q&&(q.removeUpdateListener(j),q.removeMessageListener(r.NS,h),q.stop(e.bind(this),i.bind(this)),q=null),k(m,w.cleanup)}function e(){"undefined"!=typeof p&&null!==p&&(g(p),p=null)}function f(a,b){q.sendMessage(r.NS,{command:a,args:b},s.noop,function(a){r.error("message send error",a)})}function g(b){var c=a(m);q?(d(),p=b):(q=b,q.addMessageListener(r.NS,h),q.addUpdateListener(j),c=a.cast.setupFlashCastConfig(c),o!==q&&(f("setup",c),a.cast.loader.sendDummyMedia(q)),k(m,w.connected,{receiverFriendlyName:b.receiver.friendlyName}))}function h(a,b){if(b){var c=JSON.parse(b);if(!c)throw"Message not proper JSON";k(m,w.message,c)}}function i(a){k(m,w.error,a||{})}function j(a){a?l():d()}function k(b,c,d){d?a(b).callInternal(c,d):a(b).callInternal(c)}function l(){if(q&&q.receiver){var b=q.receiver.volume;if(b){var c=100*b.level|0,b=!!b.muted;a(m).setVolume(c).setMute(b)}}}var m,n,o,p,q,r=a.cast,s=a.utils,t=a._,u=window.chrome||{},v={},w={},x=s.getAbsolutePath(window.location.href);r.NS="urn:x-cast:com.longtailvideo.jwplayer",r.flash={checkAvailability:function(a,c,d){w=d,n=c,v[a]=!0,r.loader.addEventListener("availability",function(b){"available"===b.availability&&k(a,w.available,b)}),r.loader.addEventListener("session",b),r.loader.initialize(c)},startCasting:function(a){m=a,u.cast.requestSession(g.bind(this),i.bind(this))},stopCasting:d,openExtension:function(a){m=a,u.cast.requestSession(g.bind(this),i.bind(this))},mute:function(a){q.setReceiverMuted(a,l,function(a){r.error("set muted error",a)})},volume:function(a){a=Math.max(0,Math.min(a/100,1)),q.setReceiverVolumeLevel(a,l,function(a){r.error("set volume error",a)})},messageReceiver:f,canCastItem:function(b){return t.any(b.levels,function(b){return a.embed.html5CanPlay(b.file,b.type)||"hls"===b.type})}}}(window.jwplayer),function(a,b){function c(a){var c=new b.cast.media.MediaInfo("");c.contentType="video/mp4",c=new b.cast.media.LoadRequest(c),c.autoplay=!1,a.loadMedia(c)}function d(){b&&b.cast&&b.cast.isAvailable&&!k.apiConfig?(k.apiConfig=new b.cast.ApiConfig(new b.cast.SessionRequest(o),h,i,b.cast.AutoJoinPolicy.ORIGIN_SCOPED),b.cast.initialize(k.apiConfig,g,f)):15>n++&&setTimeout(d,1e3)}function e(){j&&(j.resetEventListeners(),j=null)}function f(){k.apiConfig=null}function g(){}function h(a){p.sendEvent("session",{session:a}),a.sendMessage(k.NS,{whoami:1}),0===a.media.length&&c(a)}function i(a){k.availability=a,p.sendEvent("availability",{availability:a})}window.chrome=b;var j,k=a.cast,l=a.utils,m=a.events,n=0,o=null,p=l.extend({initialize:function(a){o=a,null!==k.availability?p.sendEvent("availability",{availability:k.availability}):b&&b.cast?d():j||(j=new l.scriptloader("https://www.gstatic.com/cv/js/sender/v1/cast_sender.js"),j.addEventListener(m.ERROR,e),j.addEventListener(m.COMPLETE,d),j.load())}},new m.eventdispatcher("cast.loader"));a.cast.loader=p,a.cast.loader.sendDummyMedia=c}(window.jwplayer,window.chrome||{}),function(a,b){var c=[],d=a.utils,e=a.events,f=a._,g=0,h=e.state,i="getBuffer getCaptionsList getControls getCurrentCaptions getCurrentQuality getCurrentAudioTrack getDuration getFullscreen getHeight getLockState getMute getPlaylistIndex getSafeRegion getPosition getQualityLevels getState getVolume getWidth isBeforeComplete isBeforePlay releaseState".split(" "),j="playlistNext stop forceState playlistPrev seek setCurrentCaptions setControls setCurrentQuality setVolume setCurrentAudioTrack".split(" "),k={onBufferChange:e.JWPLAYER_MEDIA_BUFFER,onBufferFull:e.JWPLAYER_MEDIA_BUFFER_FULL,onError:e.JWPLAYER_ERROR,onSetupError:e.JWPLAYER_SETUP_ERROR,onFullscreen:e.JWPLAYER_FULLSCREEN,onMeta:e.JWPLAYER_MEDIA_META,onMute:e.JWPLAYER_MEDIA_MUTE,onPlaylist:e.JWPLAYER_PLAYLIST_LOADED,onPlaylistItem:e.JWPLAYER_PLAYLIST_ITEM,onPlaylistComplete:e.JWPLAYER_PLAYLIST_COMPLETE,onReady:e.API_READY,onResize:e.JWPLAYER_RESIZE,onComplete:e.JWPLAYER_MEDIA_COMPLETE,onSeek:e.JWPLAYER_MEDIA_SEEK,onTime:e.JWPLAYER_MEDIA_TIME,onVolume:e.JWPLAYER_MEDIA_VOLUME,onBeforePlay:e.JWPLAYER_MEDIA_BEFOREPLAY,onBeforeComplete:e.JWPLAYER_MEDIA_BEFORECOMPLETE,onDisplayClick:e.JWPLAYER_DISPLAY_CLICK,onControls:e.JWPLAYER_CONTROLS,onQualityLevels:e.JWPLAYER_MEDIA_LEVELS,onQualityChange:e.JWPLAYER_MEDIA_LEVEL_CHANGED,onCaptionsList:e.JWPLAYER_CAPTIONS_LIST,onCaptionsChange:e.JWPLAYER_CAPTIONS_CHANGED,onAdError:e.JWPLAYER_AD_ERROR,onAdClick:e.JWPLAYER_AD_CLICK,onAdImpression:e.JWPLAYER_AD_IMPRESSION,onAdTime:e.JWPLAYER_AD_TIME,onAdComplete:e.JWPLAYER_AD_COMPLETE,onAdCompanions:e.JWPLAYER_AD_COMPANIONS,onAdSkipped:e.JWPLAYER_AD_SKIPPED,onAdPlay:e.JWPLAYER_AD_PLAY,onAdPause:e.JWPLAYER_AD_PAUSE,onAdMeta:e.JWPLAYER_AD_META,onCast:e.JWPLAYER_CAST_SESSION,onAudioTrackChange:e.JWPLAYER_AUDIO_TRACK_CHANGED,onAudioTracks:e.JWPLAYER_AUDIO_TRACKS},l={onBuffer:h.BUFFERING,onPause:h.PAUSED,onPlay:h.PLAYING,onIdle:h.IDLE};a.api=function(g){function m(a,b){d.foreach(a,function(a,c){t[a]=function(a){return b(c,a)}})}function n(a,b){var c="jw"+b.charAt(0).toUpperCase()+b.slice(1);t[b]=function(){var b=q.apply(this,[c].concat(Array.prototype.slice.call(arguments,0)));return a?t:b}}function o(a,b){try{a.jwAddEventListener(b,'function(dat) { jwplayer("'+t.id+'").dispatchEvent("'+b+'", dat); }')}catch(c){if("flash"===t.renderingMode){var e=document.createElement("a");e.href=r.data,e.protocol!==location.protocol&&d.log("Warning: Your site ["+location.protocol+"] and JWPlayer ["+e.protocol+"] are hosted using different protocols")}d.log("Could not add internal listener")}}function p(a,b){return u[a]||(u[a]=[],r&&w&&o(r,a)),u[a].push(b),t}function q(){if(w){if(r){var a=Array.prototype.slice.call(arguments,0),b=a.shift();if("function"==typeof r[b]){switch(a.length){case 6:return r[b](a[0],a[1],a[2],a[3],a[4],a[5]);case 5:return r[b](a[0],a[1],a[2],a[3],a[4]);case 4:return r[b](a[0],a[1],a[2],a[3]);case 3:return r[b](a[0],a[1],a[2]);case 2:return r[b](a[0],a[1]);case 1:return r[b](a[0])}return r[b]()}}return null}x.push(arguments)}var r,s,t=this,u={},v={},w=!1,x=[],y={},z={};return t.container=g,t.id=g.id,t.setup=function(b){if(a.embed){a.api.destroyPlayer(t.id);var c=new a.api(t.container);return a.api.addPlayer(c),c.config=b,c._embedder=new a.embed(c),c._embedder.embed(),c}return t},t.getContainer=function(){return t.container},t.addButton=function(a,b,c,e){try{z[e]=c,q("jwDockAddButton",a,b,'jwplayer("'+t.id+'").callback("'+e+'")',e)}catch(f){d.log("Could not add dock button"+f.message)}},t.removeButton=function(a){q("jwDockRemoveButton",a)},t.callback=function(a){z[a]&&z[a]()},t.getMeta=function(){return t.getItemMeta()},t.getPlaylist=function(){var a=q("jwGetPlaylist");return"flash"===t.renderingMode&&d.deepReplaceKeyName(a,["__dot__","__spc__","__dsh__","__default__"],["."," ","-","default"]),a},t.getPlaylistItem=function(a){return d.exists(a)||(a=t.getPlaylistIndex()),t.getPlaylist()[a]},t.getRenderingMode=function(){return t.renderingMode},t.setFullscreen=function(a){return d.exists(a)?q("jwSetFullscreen",a):q("jwSetFullscreen",!q("jwGetFullscreen")),t},t.setMute=function(a){return d.exists(a)?q("jwSetMute",a):q("jwSetMute",!q("jwGetMute")),t},t.lock=function(){return t},t.unlock=function(){return t},t.load=function(b){return q("jwInstreamDestroy"),a(t.id).plugins.googima&&q("jwDestroyGoogima"),q("jwLoad",b),t},t.playlistItem=function(a){return q("jwPlaylistItem",parseInt(a,10)),t},t.resize=function(a,b){if("flash"!==t.renderingMode)q("jwResize",a,b);else{var c=document.getElementById(t.id+"_wrapper"),e=document.getElementById(t.id+"_aspect");e&&(e.style.display="none"),c&&(c.style.display="block",c.style.width=d.styleDimension(a),c.style.height=d.styleDimension(b))}return t},t.play=function(a){if(a!==b)return q("jwPlay",a),t;a=t.getState();var c=s&&s.getState();return c&&q(c===h.IDLE||c===h.PLAYING||c===h.BUFFERING?"jwInstreamPause":"jwInstreamPlay"),q(a===h.PLAYING||a===h.BUFFERING?"jwPause":"jwPlay"),t},t.pause=function(a){return a===b?(a=t.getState(),q(a===h.PLAYING||a===h.BUFFERING?"jwPause":"jwPlay")):q("jwPause",a),t},t.createInstream=function(){return new a.api.instream(this,r)},t.setInstream=function(a){return s=a},t.loadInstream=function(a,b){return s=t.setInstream(t.createInstream()).init(b),s.loadItem(a),s},t.destroyPlayer=function(){w=!0,q("jwPlayerDestroy")},t.playAd=function(b){var c=a(t.id).plugins;c.vast?c.vast.jwPlayAd(b):q("jwPlayAd",b)},t.pauseAd=function(){var b=a(t.id).plugins;b.vast?b.vast.jwPauseAd():q("jwPauseAd")},m(l,function(a,b){return v[a]||(v[a]=[],p(e.JWPLAYER_PLAYER_STATE,function(b){var c=b.newstate;if(b=b.oldstate,c===a){var d=v[c];if(d)for(var e=0;e<d.length;e++){var f=d[e];"function"==typeof f&&f.call(this,{oldstate:b,newstate:c})}}})),v[a].push(b),t}),m(k,p),d.foreach(i,function(a,b){n(!1,b)}),d.foreach(j,function(a,b){n(!0,b)}),t.remove=function(){this._embedder&&this._embedder.destroy&&this._embedder.destroy(),x=[];var a=1<f.size(f.where(c,{id:t.id}));a||d.clearCss("#"+t.id);var b=document.getElementById(t.id+("flash"===t.renderingMode?"_wrapper":""));if(b){if("html5"===t.renderingMode)t.destroyPlayer();else if(d.isMSIE(8)){var e=document.getElementById(t.id);if(e&&e.parentNode){e.style.display="none";for(var g in e)"function"==typeof e[g]&&(e[g]=null);e.parentNode.removeChild(e)}}a||(a=document.createElement("div"),a.id=t.id,b.parentNode.replaceChild(a,b))}c=f.filter(c,function(a){return a.uniqueId!==t.uniqueId})},t.registerPlugin=function(b,c,d,e){a.plugins.registerPlugin(b,c,d,e)},t.setPlayer=function(a,b){r=a,t.renderingMode=b},t.detachMedia=function(){return"html5"===t.renderingMode?q("jwDetachMedia"):void 0},t.attachMedia=function(a){return"html5"===t.renderingMode?q("jwAttachMedia",a):void 0},t.getAudioTracks=function(){return q("jwGetAudioTracks")},t.removeEventListener=function(a,b){var c=u[a];if(c)for(var d=c.length;d--;)c[d]===b&&c.splice(d,1)},t.dispatchEvent=function(a,b){var c=u[a];if(c)for(var c=c.slice(0),f=d.translateEventResponse(a,b),g=0;g<c.length;g++){var h=c[g];if("function"==typeof h)try{a===e.JWPLAYER_PLAYLIST_LOADED&&d.deepReplaceKeyName(f.playlist,["__dot__","__spc__","__dsh__","__default__"],["."," ","-","default"]),h.call(this,f)}catch(i){d.log("There was an error calling back an event handler",i)}}},t.dispatchInstreamEvent=function(a){s&&s.dispatchEvent(a,arguments)},t.callInternal=q,t.playerReady=function(a){for(w=!0,r||t.setPlayer(document.getElementById(a.id)),t.container=document.getElementById(t.id),d.foreach(u,function(a){o(r,a)}),p(e.JWPLAYER_PLAYLIST_ITEM,function(){y={}}),p(e.JWPLAYER_MEDIA_META,function(a){d.extend(y,a.metadata)}),p(e.JWPLAYER_VIEW_TAB_FOCUS,function(a){var b=t.getContainer();!0===a.hasFocus?d.addClass(b,"jw-tab-focus"):d.removeClass(b,"jw-tab-focus")}),t.dispatchEvent(e.API_READY);0<x.length;)q.apply(t,x.shift())},t.getItemMeta=function(){return y},t},a.playerReady=function(b){var c=a.api.playerById(b.id);c||(c=a.api.selectPlayer(b.id)),c.playerReady(b)},a.api.selectPlayer=function(b){var e;return d.exists(b)||(b=0),b.nodeType?e=b:"string"==typeof b&&(e=document.getElementById(b)),e?(b=a.api.playerById(e.id))?b:new a.api(e):"number"==typeof b?c[b]:null},a.api.playerById=function(a){for(var b=0;b<c.length;b++)if(c[b].id===a)return c[b];return null},a.api.addPlayer=function(a){for(var b=0;b<c.length;b++)if(c[b]===a)return a;return g++,a.uniqueId=g,c.push(a),a},a.api.destroyPlayer=function(a){a=f.where(c,{id:a}),f.each(a,f.partial(f.result,f,"remove"))}}(window.jwplayer),function(a){var b=a.events,c=a.utils,d=b.state;a.api.instream=function(a,e){function f(b,c){return j[b]||(j[b]=[],e.jwInstreamAddEventListener(b,'function(dat) { jwplayer("'+a.id+'").dispatchInstreamEvent("'+b+'", dat); }')),j[b].push(c),this}function g(a,c){return k[a]||(k[a]=[],f(b.JWPLAYER_PLAYER_STATE,function(b){var c=b.newstate,d=b.oldstate;if(c===a){var e=k[c];if(e)for(var f=0;f<e.length;f++){var g=e[f];"function"==typeof g&&g.call(this,{oldstate:d,newstate:c,type:b.type})}}})),k[a].push(c),this}var h,i,j={},k={},l=this;l.type="instream",l.init=function(){return a.callInternal("jwInitInstream"),l},l.loadItem=function(b,d){h=b,i=d||{},"array"===c.typeOf(b)?a.callInternal("jwLoadArrayInstream",h,i):a.callInternal("jwLoadItemInstream",h,i)},l.removeEvents=function(){j=k={}},l.removeEventListener=function(a,b){var c=j[a];if(c)for(var d=c.length;d--;)c[d]===b&&c.splice(d,1)},l.dispatchEvent=function(a,b){var d=j[a];if(d)for(var d=d.slice(0),e=c.translateEventResponse(a,b[1]),f=0;f<d.length;f++){var g=d[f];"function"==typeof g&&g.call(this,e)}},l.onError=function(a){return f(b.JWPLAYER_ERROR,a)},l.onMediaError=function(a){return f(b.JWPLAYER_MEDIA_ERROR,a)},l.onFullscreen=function(a){return f(b.JWPLAYER_FULLSCREEN,a)},l.onMeta=function(a){return f(b.JWPLAYER_MEDIA_META,a)},l.onMute=function(a){return f(b.JWPLAYER_MEDIA_MUTE,a)},l.onComplete=function(a){return f(b.JWPLAYER_MEDIA_COMPLETE,a)},l.onPlaylistComplete=function(a){return f(b.JWPLAYER_PLAYLIST_COMPLETE,a)},l.onPlaylistItem=function(a){return f(b.JWPLAYER_PLAYLIST_ITEM,a)},l.onTime=function(a){return f(b.JWPLAYER_MEDIA_TIME,a)},l.onBuffer=function(a){return g(d.BUFFERING,a)},l.onPause=function(a){return g(d.PAUSED,a)},l.onPlay=function(a){return g(d.PLAYING,a)},l.onIdle=function(a){return g(d.IDLE,a)},l.onClick=function(a){return f(b.JWPLAYER_INSTREAM_CLICK,a)},l.onInstreamDestroyed=function(a){return f(b.JWPLAYER_INSTREAM_DESTROYED,a)},l.onAdSkipped=function(a){return f(b.JWPLAYER_AD_SKIPPED,a)},l.play=function(a){e.jwInstreamPlay(a)},l.pause=function(a){e.jwInstreamPause(a)},l.hide=function(){a.callInternal("jwInstreamHide")},l.destroy=function(){l.removeEvents(),a.callInternal("jwInstreamDestroy")},l.setText=function(a){e.jwInstreamSetText(a?a:"")},l.getState=function(){return e.jwInstreamState()},l.setClick=function(a){e.jwInstreamClick&&e.jwInstreamClick(a)}}}(jwplayer),function(a){var b=a.api,c=b.selectPlayer,d=a._;b.selectPlayer=function(b){var d=c.apply(this,arguments);return d?d:{registerPlugin:function(b,c,d){"jwpsrv"!==b&&a.plugins.registerPlugin(b,c,d)}}},a.unregisteredProviders=[],b.registerProvider=function(b){a&&a.html5&&d.isFunction(a.html5.registerProvider)?a.html5.registerProvider(b):a.unregisteredProviders.push(b)}}(jwplayer)),function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.EventBus=b()}(this,function(){"use strict";var a=-1;"function"!=typeof Array.prototype.indexOf&&(Array.prototype.indexOf=function(a,b){var c=this.length;if(!c)return-1;if(b=Number(b),("number"!=typeof b||isNaN(b))&&(b=0),b>=c)return-1;0>b&&(b=c-Math.abs(b));var d;for(d=b;c>d;d++)if(this[d]===a)return d;return-1}),"function"!=typeof Function.prototype.bind&&(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Target is not callable, and unable to be bound");var b=Array.prototype.slice,c=b.call(arguments,1),d=this;"undefined"==typeof a&&(a=d);var e=function(){var e=b.call(arguments,0);return d.apply(a,c.concat(e))};return e});var b=this,c=function(a){this.name=a,this.observers=[]},d=c.prototype;d.name="",d.observers=null,d.add=function(b){this.observers.indexOf(b)===a&&this.observers.push(b)},d.remove=function(b){var c=this.observers,d=c.indexOf(b);d!==a&&c.splice(d,1)},d.has=function(b){return this.observers.indexOf(b)!==a},d.trigger=function(a){var c,d=this.observers.slice(0),e=d.length;for(a[0]=this.name,c=0;e>c;c++)d[c].apply(b,a)};var e=function(a){this.name=a,this.event=new c(a),this.events={}},d=e.prototype;d.name="",d.event=null,d.events={},d.add=function(a,b){var d=this.events,e=this.event;void 0!==b&&(d.hasOwnProperty(b)||(d[b]=new c(b)),e=d[b]),e.add(a)},d.remove=function(a,b){var d=this.events,e=this.event;void 0!==b&&(d.hasOwnProperty(b)||(d[b]=new c(b)),e=d[b]),e.remove(a)},d.trigger=function(a,b){var c,d=this.events;d.hasOwnProperty(a)&&(c=d[a],c.trigger(b)),this.event.trigger(b)};var f="function",g=".",h=function(a){if(void 0===a)return this.events;var b=this.namespaces;return b.hasOwnProperty(a)||(b[a]=new e(a)),b[a]},i=function(){this.events=new e(""),this.namespaces={}},d=i.prototype;return d.events=null,d.namespaces=null,i.prototype.on=function(b,c){if(void 0===b||void 0===c)throw new TypeError("UndefinedError: On usage: on(topic, callback)");if(typeof c!==f)throw new TypeError("TypeError: Callback subscribing is of type "+typeof c+" not of type "+f);var d,e,i=b.lastIndexOf(g);b.charAt(0)===g&&1!==b.length?e=b.substr(1):i!==a&&i!==b.length-1?(e=b.substr(i+1),d=b.substr(0,i)):d=b;var j=h.call(this,e);return j.add(c,d),this},i.prototype.off=function(b,c){if(void 0===b||void 0===c)throw new TypeError("UndefinedError: Off usage: on(topic, callback)");if(typeof c!==f)throw new TypeError("TypeError: Callback subscribing is of type "+typeof c+" not of type "+f);var d,e,i=b.lastIndexOf(g);b.charAt(0)===g&&1!==b.length?e=b.substr(1):i!==a&&i!==b.length-1?(e=b.substr(i+1),d=b.substr(0,i)):d=b;var j=h.call(this,e);return j.remove(c,d),this},i.prototype.trigger=function(b){var c,d,e=b.lastIndexOf(g),f=this.namespaces;if(b.charAt(0)===g&&1!==b.length)throw new TypeError("Error: triggering topic is a namespace and should be an event");return e!==a&&e!==b.length-1?(d=b.substr(e+1),c=b.substr(0,e)):c=b,d&&f.hasOwnProperty(d)&&f[d].trigger(c,arguments),this.events.trigger(c,arguments),this},i});var PF=PF||{};PF["views/TrapFocus"]=function(a){"use strict";function b(){this.init()}var c=b.prototype,d="a[href], area[href], input, select, textarea, button, iframe, object, embed, *[tabindex], *[contenteditable]";return c.init=function(){this.setupHandlers(),this.setupListeners()},c.setupHandlers=function(){this.onTrapFocusTriggeredHandler=this.onTrapFocusTriggered.bind(this),this.onResetFocusableSelectorsTriggeredHandler=this.onResetFocusableSelectorsTriggered.bind(this)},c.setupListeners=function(){PF.EVENT_BUS.on("trapFocusTrigger",this.onTrapFocusTriggeredHandler),PF.EVENT_BUS.on("resetFocusableSelectorsTrigger",this.onResetFocusableSelectorsTriggeredHandler)},c.onTrapFocusTriggered=function(a,b){this.modifyFocusableSelectors(b)},c.onResetFocusableSelectorsTriggered=function(){this.resetFocusableSelectors()},c.modifyFocusableSelectors=function(a){this._cacheExistingTabindex(),this._setAllElementsOnPageUnfocusable()},c.resetFocusableSelectors=function(){var b=a("body").find(d).not(".js-modal *");b.removeAttr("tabindex"),this._restoreTabindex()},c._originalTabindexValues=function(){var b=a(this);b.data("hasTabindex",b.attr("tabindex"))},c._cacheExistingTabindex=function(){this.$tabindexEls=a("body").find("[tabindex]"),this.$tabindexEls.each(this._originalTabindexValues)},c._getStoredTabindex=function(){var b=a(this),c=b.data("hasTabindex");b.attr("tabindex",c)},c._setAllElementsOnPageUnfocusable=function(){var b=a("body").find(d).not(".js-modal *");b.attr("tabindex","-1")},c._restoreTabindex=function(){this.$tabindexEls.each(this._getStoredTabindex)},b}(jQuery),Handlebars.registerHelper("ifCond",function(a,b,c,d){switch(b){case"==":return a==c?d.fn(this):d.inverse(this);case"===":return a===c?d.fn(this):d.inverse(this);case"<":return c>a?d.fn(this):d.inverse(this);case"<=":return c>=a?d.fn(this):d.inverse(this);case">":return a>c?d.fn(this):d.inverse(this);case">=":return a>=c?d.fn(this):d.inverse(this);case"&&":return a&&c?d.fn(this):d.inverse(this);case"||":return a||c?d.fn(this):d.inverse(this);default:return d.inverse(this)}}),Handlebars.registerHelper("select",function(a,b){var c=jQuery("<select />").html(b.fn(this));return c.find('[value="'+a+'"]').attr({selected:"selected"}),c.html()}),Handlebars.registerHelper("grouped_each",function(a,b,c){var d,e="",f=[];if(b&&b.length>0){for(d=0;d<b.length;d++)d>0&&d%a===0&&(e+=c.fn(f),f=[]),f.push(b[d]);e+=c.fn(f)}return e}),Handlebars.registerHelper("pluralize_animal_types",function(a,b){return"smallFurry"==b?b="Small & Furry":"scalesFinsOther"==b&&(b="Scales, Fins & Others"),1==a?new Handlebars.SafeString(b):"Scales, Fins & Others"==b?new Handlebars.SafeString(b):new Handlebars.SafeString(b+"s")}),Handlebars.registerHelper("pluralize_breed",function(a,b){return 1==a?new Handlebars.SafeString(b):new Handlebars.SafeString(b+"s")}),Util={},Util.log=function(){if(void 0!=document.JAVASCRIPT_ENVIRONMENT&&void 0!=JAVASCRIPT_ENVIRONMENT.production&&"1"!==JAVASCRIPT_ENVIRONMENT.production&&"undefined"!=typeof console)if(1===arguments.length)console.log(arguments[0]);else if(console.log.apply)console.log.apply(console,arguments);else{var a=Array.prototype.slice.call(arguments,0);console.log(a)}},Util.objectToString=function(a,b){null==b&&(b=", ");var c="";for(var d in a)a.hasOwnProperty(d)&&"function"!=typeof a[d]&&(""!==c&&(c+=b),c+=d+": "+a[d]);return c},Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){for(var c=b||0,d=this.length;d>c;c++)if(this[c]===a)return c;return-1}),String.prototype.capitalize||(String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)}),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(a){return 10>a?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)"string"==typeof rep[c]&&(d=rep[c],e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx,escapable,gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}();var PF=PF||{};PF["controllers/FormSubmitController"]=function(a){"use strict";function b(){}return b.prototype.init=function(){this.createChildren().setupHandlers().enable()},b.prototype.setupHandlers=function(){return this._filterInputHandler=a.proxy(this._filterInput,this),this.checkTheFormsHandler=a.proxy(this.checkTheForms,this),this},b.prototype.disableHandlers=function(){return this._filterInputHandler=null,this},b.prototype.createChildren=function(){return this},b.prototype.enable=function(){return a("form").on("keypress","input",this._filterInputHandler),a("body").on("click",this.checkTheFormsHandler),this},b.prototype.disable=function(){return a("form").off("keypress","input",this._filterInputHandler),this},b.prototype.destroy=function(){return this.disable(),this.disableHandlers(),this},b.prototype._filterInput=function(b){var c,d=a(b.currentTarget),e=String.fromCharCode(b.which);switch(!0){case d.hasClass("js-nameField"):c=/[^0-9A-Za-z\!\'\s\-]{1,50}$/g;break;case d.hasClass("js-postalCode"):c=/[^0-9A-Za-z\s\-]{1,10}$/g;break;case d.is("input:password"):c=void 0;break;default:c=/[\&\<\>]$/g}return void 0!=c&&e.match(c)?!1:void 0},b.prototype.checkTheForms=function(){this.disable(),this.enable()},b}(jQuery);var PF=PF||{};PF["utils/LockPageScroll"]=function(a){"use strict";function b(){this.init()}var c=b.prototype;return b.SELECTORS={},b.SELECTORS.ELEMENT="body",b.SELECTORS.SITE=".js-LockPageScroll-site",b.SELECTORS.MEASURER="scrollbarMeasurer",c.init=function(){return this.scrollbarWidth=0,this.pageIsLocked=!1,this.createChildren().setupHandlers().enable()},c.setupHandlers=function(){return this.onLockPageScrollHandler=this.onLockPageScroll.bind(this),this.onUnlockPageScrollHandler=this.onUnlockPageScroll.bind(this),this},c.createChildren=function(){return this.$element=a(b.SELECTORS.ELEMENT),this.$html=a("html"),this.$site=this.$element.find(b.SELECTORS.SITE),this},c.enable=function(){return this.setupListeners().cacheScrollbarWidth(),this},c.setupListeners=function(){return PF.EVENT_BUS.on("lockPageScroll",this.onLockPageScrollHandler).on("unlockPageScroll",this.onUnlockPageScrollHandler),this},c.cacheScrollbarWidth=function(){var a=document.createElement("div");return a.className=b.SELECTORS.MEASURER,document.body.appendChild(a),this.scrollbarWidth=a.offsetWidth-a.clientWidth,document.body.removeChild(a),this},c.hideYAxisOverflow=function(){return this.$html.css("overflow-y","hidden"),this.$element.css("overflow-y","hidden"),this},c.showYAxisOverflow=function(){return this.$html.css("overflow-y","initial"),this.$element.css("overflow-y","initial"),this},c.offsetXAxisByScrollbarWidth=function(){return this.$html.css("padding-right",""+this.scrollbarWidth+"px"),this},c.resetXAxisOffet=function(){return this.$html.css("padding-right","0"),
this},c.onLockPageScroll=function(){this.pageIsLocked||(this.pageIsLocked=!0,this.originalScrollTop=a(window).scrollTop(),this.hideYAxisOverflow().offsetXAxisByScrollbarWidth(),this.$site.css("top","-"+this.originalScrollTop+"px"))},c.onUnlockPageScroll=function(){this.pageIsLocked&&(this.pageIsLocked=!1,this.showYAxisOverflow().resetXAxisOffet(),this.$site.css("top","0"),a(window).scrollTop(this.originalScrollTop))},b}(jQuery);var PF=PF||{};PF.CONSTS={},PF.CONSTS.CLICK_EVENT="click",PF.VALIDATE_OPTIONS={errorInputEvent:null,singleError:!0,offset:[5,0],messageAttr:"title",position:"bottom center",messageClass:"form-validation-error",onFail:function(){setTimeout(function(){jQuery(".form-validation-error").fadeOut()},3e3)}},PF.EVENT_BUS=new EventBus,PF.TRAP_FOCUS=new PF["views/TrapFocus"],PF.LOCK_SCROLL=new PF["utils/LockPageScroll"];var PF=PF||{};PF["services/ServiceConfiguration"]=function(a){"use strict";function b(){var a=window.location.hostname,b=(-1===window.location.hostname.indexOf("-qa.")?this.BASE_SETTINGS.ENVIRONMENT:"www-qa")+".petfinder.com/",c="https://users"+(-1===window.location.hostname.indexOf("-qa.")?this.BASE_SETTINGS.USER_SERVER:"-qa")+".petfinder.com/";this.REQUEST_BASE=this.PROTOCOL+"//"+a+"/",this.REQUEST_BASE_WITH_API_VERSION=this.REQUEST_BASE+this.API_VERSION+"/",this.PET_SEARCH_URL=this.REQUEST_BASE_WITH_API_VERSION+"pets/search.json",this.BREED_TOTALS_URL=this.REQUEST_BASE_WITH_API_VERSION+"pets/search/counts.json",this.TOTALS_PETS_URL=this.REQUEST_BASE_WITH_API_VERSION+"pets/search/total.json?api_key="+this.API_KEY,this.LOCATION_URL=this.REQUEST_BASE_WITH_API_VERSION+"locations/geocoder.json",this.BREED_AUTOCOMPLETE_URL=this.REQUEST_BASE_WITH_API_VERSION+"lists/breed/autocomplete.json",this.SHELTER_SEARCH_URL=this.REQUEST_BASE_WITH_API_VERSION+"awos/search.json",this.TOTALS_SHELTER_URL=this.REQUEST_BASE_WITH_API_VERSION+"awos/search/total.json?api_key="+this.API_KEY,this.USER_LOGIN_URL=this.REQUEST_BASE_WITH_API_VERSION+"users/login.json?api_key="+this.API_KEY,this.USER_REGISTER_URL=this.REQUEST_BASE_WITH_API_VERSION+"users/create.json?api_key="+this.API_KEY,this.ADMIN_AJAX_URL=this.REQUEST_BASE+"wp-admin/admin-ajax.php",this.ACCOUNT_MANAGEMENT_URL=c+"account-management/",this.PASSWORD_VALIDATION_BASE=this.PROTOCOL+"//"+(-1===a.indexOf(".users")?a:b)+"/"+this.API_VERSION+"/",this.PASSWORD_CHANGE_URL=c+"changepassword?redir="+this.ACCOUNT_MANAGEMENT_URL+"register",this.VIDEO_SEARCH_URL=this.PROTOCOL+"//pwsvid.petfinder.com/video/search.json",this.VIDEO_URL=this.PROTOCOL+"//www.petfinder.com/svcs/jsonp.pl",this.THEME_URL=this.PROTOCOL+"//"+window.location.hostname+"/wp-content/themes/"+(-1===window.location.hostname.indexOf("pro")?"petfinder2013":"petfinder-pro")+"/"}var c=void 0;return b.prototype.BASE_SETTINGS={ENVIRONMENT:"www",USER_SERVER:""},b.prototype.PROTOCOL=window.location.protocol,b.prototype.REQUEST_BASE=null,b.prototype.REQUEST_BASE_WITH_API_VERSION=null,b.prototype.API_VERSION="v1",b.prototype.API_KEY="98719f8ded45b41f3153f5736d55d162",b.prototype.RECAPTCHA_API_KEY="6LfbsuASAAAAAGtZqMIur9_bSfQC-GDf9uMg5rZM",b.prototype.PET_SEARCH_URL=null,b.prototype.LOCATION_URL=null,b.prototype.BREED_AUTOCOMPLETE_URL=null,b.prototype.SHELTER_SEARCH_URL=null,b.prototype.TOTALS_SHELTER_URL=null,b.prototype.TOTALS_PETS_URL=null,b.prototype.USER_LOGIN_URL=null,b.prototype.ACCOUNT_MANAGEMENT_URL=null,b.prototype.USER_REGISTER_URL=null,b.prototype.USER_NEWSLETTER_SIGNUP_URL=null,b.prototype.BREED_TOTALS_URL=null,b.prototype.ADMIN_AJAX_URL=null,b.prototype.VIDEO_SEARCH_URL=null,b.prototype.VIDEO_SEARCH_URL=null,b.prototype.VIDEO_URL=null,b.prototype.THEME_URL=null,b.prototype.photoHost="photos.petfinder.com",void 0==c&&(c=new b),c}(jQuery);var PF=PF||{};PF["models/Model"]=function(a){"use strict";var b=function(){var a=!1,b=[],c={},d={},e={},f=[];this.getModelSetupComplete=function(){return a},this.setModelSetupComplete=function(b){a=b},this.getModelKeys=function(){return b},this.getDefaultPropertyValueToKey=function(){return c},this.getModelMetaDataToKey=function(){return e},this.getKeysForArrayProperties=function(){return f},this.getAcceptedPropertyValuesToKey=function(){return d}};return b.prototype.MODEL_VALUE_PREFIX="__",b.prototype.EVENTS={MODEL_PROPERTY_CHANGED:"MODEL_PROPERTY_CHANGED"},b.prototype._getProperties=function(){return[]},b.prototype.set=function(b,c){if(-1===this.getModelKeys().indexOf(b))throw new Error("Model: Invalid Model key set: "+b);var d="_set"+b.charAt(0).toUpperCase()+b.slice(1);if("function"==typeof this[d]){this[d].call(this,c);return a(this).trigger(this.EVENTS.MODEL_PROPERTY_CHANGED,b,this.get(b)),this}if(void 0!=c){var e=this.getAcceptedPropertyValuesToKey()[b];if(this.isPropertyArray(b)===!1&&void 0!=e&&-1===e.indexOf(c))throw new Error("Model: Invalid Value:"+c+" for key: "+b);if(this.isPropertyArray(b)===!0&&void 0!=e)for(var f=0;f<c.length;f++){var g=c[f];if(-1===e.indexOf(g))throw new Error("Model: Invalid Array Value:"+g+" for key: "+b)}}return this[this.MODEL_VALUE_PREFIX+b]=c,a(this).trigger(this.EVENTS.MODEL_PROPERTY_CHANGED,b,c),this},b.prototype.get=function(b){if(-1===this.getModelKeys().indexOf(b))throw new Error("Model: Invalid Model key requested: "+b);var c="_get"+b.charAt(0).toUpperCase()+b.slice(1);if("function"==typeof this[c]){var d=this[c].call(this);if(void 0!=d)return d}var e=this[this.MODEL_VALUE_PREFIX+b];return void 0==e?void 0:e.constructor==Object?a.extend({},e):e.slice?e.slice(0):"boolean"==typeof e?!!e:parseInt(e+"")},b.prototype.getModelDefaultValue=function(a){if(-1===this.getModelKeys().indexOf(a))throw new Error("Model: Invalid Model key requested: "+a);if(void 0==this.getDefaultPropertyValueToKey()[a])throw new Error("Model: Invalid Model key requested for defaultValue: "+a);return this.getDefaultPropertyValueToKey()[a]},b.prototype.getAllValuesAsObject=function(){for(var a={},b=0;b<this._getProperties().length;b++){var c=this._getProperties()[b],d=this.get(c.KEY);void 0!=d&&(a[c.KEY]=d)}return a},b.prototype.getModelMetaData=function(a){if(-1===this.getModelKeys().indexOf(a))throw new Error("Model: Invalid Model key requested for metadata: "+a);return this.getModelMetaDataToKey()[a]},b.prototype.isPropertyArray=function(a){return-1!==this.getKeysForArrayProperties().indexOf(a)},b.prototype.addItemToArrayModelValue=function(a,b){if(-1===this.getKeysForArrayProperties().indexOf(a))throw this.set(a,b),new Error("PetSearchRequestModel: model is not of type array for key: "+a);if(void 0==b)throw new Error("PetSearchRequestModel: addToArrayModelValue can not add undefined or null for: "+a);var c=this.get(a);void 0==c&&(c=[]);var d=c.indexOf(b);if(-1!==d)return this;var e=this.getAcceptedPropertyValuesToKey()[a];if(void 0!=e&&-1===e.indexOf(b))throw new Error("Model: Invalid Value:"+b+" for key: "+a);return c.push(b),this.set(a,c),this},b.prototype.removeItemFromArrayModelValue=function(a,b){if(-1===this.getKeysForArrayProperties().indexOf(a))throw this.set(a,void 0),new Error("PetSearchRequestModel: model is not of type array for key: "+a);if(void 0==b)throw new Error("PetSearchRequestModel: removeItemFromArrayModelValue can not remove undefined or null for: "+a);var c=this.get(a);if(void 0==c||0===c.length)return this.set(a,void 0),this;var d=c.indexOf(b);return-1==d?this:(c.splice(d,1),0==c.length?this.set(a,void 0):this.set(a,c),this)},b.prototype._getLegacyConversionValue=function(a,b){if(void 0==b)return void 0;var c=this.getModelMetaData(a),d=c.LEGACY_VALUE_MAPPING;if(void 0==d)return b;var e=b;a:for(var f in d)for(var g=d[f],h=0;h<g.length;h++){var i=g[h];if(this.isPropertyArray(a)&&e instanceof Array)for(var j=0;j<e.length;j++)e[j]===i&&e.splice(j,1,f);else if(e===i){e=f;break a}}return e},b.prototype._setWithLegacyConversion=function(a,b){return this.set(a,this._getLegacyConversionValue(a,b)),this},b.prototype._addItemToArrayModelValueWithLegacyConversion=function(a,b){return this.addItemToArrayModelValue(a,this._getLegacyConversionValue(a,b)),this},b.prototype._resetModel=function(){for(var a=0;a<this._getProperties().length;a++){var b=this._getProperties()[a];this.getModelMetaDataToKey()[b.KEY]=b,this.getModelSetupComplete()===!1&&(this.getModelKeys().push(b.KEY),"array"===b.DATA_TYPE&&this.getKeysForArrayProperties().push(b.KEY)),void 0!=b.DEFAULT_VALUE?this.getDefaultPropertyValueToKey()[b.KEY]=b.DEFAULT_VALUE:this.getDefaultPropertyValueToKey()[b.KEY]=void 0,void 0!=b.ACCEPTED_VALUES?this.getAcceptedPropertyValuesToKey()[b.KEY]=b.ACCEPTED_VALUES:this.getAcceptedPropertyValuesToKey()[b.KEY]=void 0,void 0==b.DEFAULT_VALUE?this.set(b.KEY,void 0):this.set(b.KEY,b.DEFAULT_VALUE)}return this.setModelSetupComplete(!0),this},b}(jQuery);var PF=PF||{};PF["models/VideoModel"]=function(a,b){"use strict";var c=function(){};return c.prototype=new b,c.prototype.constructor=c,c.prototype.updateWithJSON=function(a){this.description=a.description,this.title=a.title,this.id=a.vidly_video.shortlink,this.posterImage=a.still},c}(jQuery,PF["models/Model"]);var PF=PF||{};PF["models/SessionModel"]=function(a,b,c){"use strict";var d=null,e=function(){this._resetModel()};return e.prototype=new b,e.prototype.constructor=e,e.prototype._getProperties=function(){return[{KEY:"loggedIn"}]},e.prototype.setUserProperties=function(a){return this.set("loggedIn",a),this},void 0==d&&(d=new e),d}(jQuery,PF["models/Model"],PF["services/SessionService"]);var PF=PF||{};PF["models/SavedSearchesModel"]=function(a,b){"use strict";var c=null,d=function(){this._resetModel()};return d.prototype=new b,d.prototype.constructor=d,d.prototype._getProperties=function(){return[{KEY:"savedSearches",DATA_TYPE:"array"},{KEY:"savedSearchesData"}]},d.prototype._setSavedSearchesData=function(a){var b=[],c=a;for(var d in c)c[d].subscribe?b.push({searchName:d,query:c[d].query,params:c[d].orig_params,url:c[d].url,subscribed:!0,sstoken:c[d].sstoken}):b.push({searchName:d,query:c[d].query,params:c[d].orig_params,url:c[d].url,subscribed:!1,sstoken:c[d].sstoken});return this.set("savedSearches",b),this},d.prototype.deleteSavedSearchWithSearchName=function(a){this.removeItemFromArrayModelValue("savedSearches",this.getSavedSearchWithSearchName(a))},d.prototype.getSavedSearchWithSearchName=function(a){for(var b=this.get("savedSearches"),c=0;c<b.length;c++){var d=b[c];if(d.searchName==a)return d}},void 0==c&&(c=new d),c}(jQuery,PF["models/Model"]);var PF=PF||{};PF["models/PetSearchRequestModel"]=function(a,b,c){"use strict";var d=function(){this._resetModel();for(var a=0;a<this._getProperties().length;a++){var b=this._getProperties()[a];b.INCLUDE_IN_QUERYID_SEARCH===!0&&this._propertiesForQueryIdSearch.push(b)}};return d.prototype=new b,d.prototype.constructor=d,d.prototype.SEARCH_COOKIE_KEY="petsearch",d.prototype._propertiesForQueryIdSearch=[],d.prototype._getProperties=function(){return[{KEY:"characteristics",QUERY_KEY:"characteristics",DATA_TYPE:"array",ACCEPTED_VALUES:["houseTrained","declawed","specialNeeds"],QUERY_VALUE_MAPPING:{houseTrained:"house_trained",declawed:"declawed",specialNeeds:"special_needs"},FEATURE_VALUE_MAPPING:{houseTrained:"House trained",declawed:"Declawed",specialNeeds:"Special needs"},LEGACY_VALUE_MAPPING:{houseTrained:["house_trained"],declawed:[],specialNeeds:["special_needs"]}},{KEY:"household",QUERY_KEY:"household",DATA_TYPE:"array",ACCEPTED_VALUES:["cats","dogs","children"],QUERY_VALUE_MAPPING:{cats:"cats",dogs:"dogs",children:"children"},FEATURE_VALUE_MAPPING:{cats:"Home without cats",dogs:"Home without dogs",children:"Home without small children (< 5yrs old)"},LEGACY_VALUE_MAPPING:{cats:[],dogs:[],children:[]}},{KEY:"size",DATA_TYPE:"array",ACCEPTED_VALUES:["small","medium","large","extraLarge"],QUERY_VALUE_MAPPING:{small:"Small",medium:"Medium",large:"Large",extraLarge:"Extra+Large"},LEGACY_VALUE_MAPPING:{small:["Small"],medium:["Medium"],large:["Large"],extraLarge:["Extra+Large","Extra Large"]},QUERY_KEY:"size"},{KEY:"age",DATA_TYPE:"array",ACCEPTED_VALUES:["baby","young","adult","senior"],QUERY_VALUE_MAPPING:{baby:"Baby",young:"Young",adult:"Adult",senior:"Senior"},LEGACY_VALUE_MAPPING:{baby:["Baby"],young:["Young"],adult:["Adult"],senior:["Senior"]},QUERY_KEY:"age"},{KEY:"animal",ACCEPTED_VALUES:["any","dog","cat","rabbit","smallFurry","horse","bird","scalesFinsOther","pig","barnyard"],QUERY_VALUE_MAPPING:{any:void 0,dog:"Dog",cat:"Cat",rabbit:"Rabbit",smallFurry:"Small & Furry",horse:"Horse",bird:"Bird",scalesFinsOther:"Scales, Fins & Other",pig:"Pig",barnyard:"Barnyard"},LEGACY_VALUE_MAPPING:{dog:["Dog"],cat:["Cat"],rabbit:["Rabbit"],smallFurry:["Small+&+Furry","Small & Furry"],horse:["Horse"],bird:["Bird"],scalesFinsOther:["Scales,+Fins+&+Other","Scales, Fins & Other"],pig:["Pig"],barnyard:["Barnyard"]},QUERY_KEY:"animal",URL_LOCATION_SEARCH_KEY:["animal","Animal"]},{KEY:"distance",QUERY_KEY:"distance"},{KEY:"gender",DATA_TYPE:"array",ACCEPTED_VALUES:["male","female","unknown"],QUERY_VALUE_MAPPING:{male:"male",female:"female",unknown:"unknown"},LEGACY_VALUE_MAPPING:{male:["male","Male"],female:["female","Female"],unknown:["unknown","Unknown"]},QUERY_KEY:"gender"},{KEY:"location",QUERY_KEY:"location"},{KEY:"locationLatLonIsCachedFor"},{KEY:"locationLat",QUERY_KEY:"lat"},{KEY:"locationLon",QUERY_KEY:"lon"},{KEY:"name",QUERY_KEY:"name",URL_LOCATION_SEARCH_KEY:["name"]},{KEY:"breed",QUERY_KEY:"-require",URL_LOCATION_SEARCH_KEY:["primary_breed","breed","pet_breed"]},{KEY:"breedSecondary",QUERY_KEY:"secondary_breed"},{KEY:"queryId",QUERY_KEY:"query_id"},{KEY:"pageNumber",DEFAULT_VALUE:0,QUERY_KEY:"page_number",INCLUDE_IN_QUERYID_SEARCH:!0},{KEY:"pageSize",DEFAULT_VALUE:18,QUERY_KEY:"page_size",INCLUDE_IN_QUERYID_SEARCH:!0},{KEY:"status",ACCEPTED_VALUES:["adoptable","adopted","hold","pending","found"],QUERY_VALUE_MAPPING:{adoptable:"Adoptable",adopted:"Adopted",hold:"Hold",pending:"Pending",found:"Found"},LEGACY_VALUE_MAPPING:{adoptable:["Adoptable","A","a"],adopted:["Adopted","X","x"],hold:["Hold","H","h"],pending:["Pending","P","p"],found:["Found","F","f"]},DEFAULT_VALUE:"adoptable",QUERY_KEY:"status",INCLUDE_IN_QUERYID_SEARCH:!0},{KEY:"features",QUERY_KEY:"features"},{KEY:"urlPrefix",QUERY_KEY:"uri_prefix"},{KEY:"sort",QUERY_KEY:"sort",DEFAULT_VALUE:"geodist() asc, id desc",LEGACY_VALUE_MAPPING:{id:["Identifier","identifier"]}},{KEY:"shelterId",QUERY_KEY:"shelter_id",URL_LOCATION_SEARCH_KEY:["shelter_id"]},{KEY:"shelterIdLegacy",QUERY_KEY:"shelter_id",URL_LOCATION_SEARCH_KEY:["shelterid"]},{KEY:"searchURL",READONLY:!0,INCLUDE_SEARCH:!1},{KEY:"internal",QUERY_KEY:"internal",URL_LOCATION_SEARCH_KEY:["internal","internal_id"]},{KEY:"created_since",QUERY_KEY:"created_since",URL_LOCATION_SEARCH_KEY:["created_since"]},{KEY:"partialSearch",QUERY_KEY:"partialSearch"},{KEY:"sstoken",QUERY_KEY:"sstoken"}]},d.prototype._getSearchURL=function(){if(void 0!=this.get("queryId"))return"https://"+window.location.hostname+"/pet-search?query_id="+this.get("queryId")+"&page_number="+this.get("pageNumber");for(var a=[],b=0;b<this._getProperties().length;b++){var d=this._getProperties()[b],e=d.KEY,f=["location","characteristics","household","size","age","animal","distance","name","breed","internal","sstoken"];if(-1!==f.indexOf(e)){var g=this.get(e);if(void 0!=g){var h=d.KEY;if(void 0!=d.URL_LOCATION_SEARCH_KEY&&(h=d.URL_LOCATION_SEARCH_KEY[0]),this.isPropertyArray(d.KEY))for(var i=0;i<g.length;i++){var j=g[i];a.push(h+"="+j)}else a.push(h+"="+g)}}}return c.PROTOCOL+"//"+window.location.hostname+"/pet-search?"+a.join("&")},d.prototype._setLocation=function(a){var b=this.get("location");void 0!=a&&void 0!=b&&a!==b&&(this.set("locationLat",void 0),this.set("locationLon",void 0)),this[this.MODEL_VALUE_PREFIX+"location"]=a},d.prototype._setBreed=function(a){var b,c=[];return void 0==a?void(this[this.MODEL_VALUE_PREFIX+"breed"]=void 0):(b="object"==typeof a?a[0].primary_breed.replace(new RegExp("\\+","g")," "):a.replace(new RegExp("\\+","g")," "),c.push({primary_breed:b},{secondary_breed:b}),void(this[this.MODEL_VALUE_PREFIX+"breed"]=c))},d.prototype._setCharacteristics=function(a){this[this.MODEL_VALUE_PREFIX+"characteristics"]=a,this._updateFeatureValue()},d.prototype._setHousehold=function(a){this[this.MODEL_VALUE_PREFIX+"household"]=a,this._updateFeatureValue()},d.prototype._updateFeatureValue=function(){if(this.getModelSetupComplete()===!0){var a=this.get("characteristics"),b=this.get("household"),c=void 0!=a?a.length:0,d=void 0!=b?b.length:0,e=c+d,f="";if(e>1&&(f+='["-and",'),c>0)for(var g=0;c>g;g++){var h=a[g],i=this.getModelMetaData("characteristics").FEATURE_VALUE_MAPPING;for(var j in i)h===j&&(h=i[j]);f+='{"-require":"'+h+'"}',g+1!==e&&(f+=",")}if(d>0)for(var k=0;d>k;k++){var l=b[k],i=this.getModelMetaData("household").FEATURE_VALUE_MAPPING;for(var j in i)l===j&&(l=i[j]);f+='{"-prohibit":"'+l+'"}',c+k+1!==e&&(f+=",")}e>1&&(f+="]"),f=""===f?void 0:JSON.parse(f),this.set("features",f)}},d.prototype.getAllValuesAsQueryQueryIdObject=function(){if(void 0==this.get("queryId"))throw new Error("PetSearchRequestModel: queryId must be set to request savedQuery queryObject");for(var a={},b=0;b<this._propertiesForQueryIdSearch.length;b++){var c=this._propertiesForQueryIdSearch[b],d=this.get(c.KEY);void 0!=d&&(a[c.QUERY_KEY]=d)}return a},d.prototype.getAllValuesAsQueryObject=function(){for(var a={},b=0;b<this._getProperties().length;b++){var c=this._getProperties()[b];if(c.INCLUDE_SEARCH!==!1){var d=c.KEY,e=this.get(c.KEY);if(void 0!=e){var f=c.QUERY_VALUE_MAPPING;if(void 0!=f)if(this.isPropertyArray(d))for(var g=0;g<e.length;g++){var h=e[g];void 0!=f[h]&&e.splice(g,1,f[h])}else void 0!=f[e]&&void 0!=f[e]&&(e=f[e]);"name"===d&&(e=e.replace(/\*/g,""),e="*"+e+"*"),"sort"===d&&e.indexOf("name")>-1&&-1==e.indexOf("name_sorted")&&(e=e.replace("name","name_sorted")),void 0!=c.QUERY_KEY&&(d=c.QUERY_KEY),a[d]=e}}}return a},d.prototype.updateFromCookies=function(){var b=a.cookie(this.SEARCH_COOKIE_KEY);if(b){try{var c=JSON.parse(b)}catch(d){throw"Unexpected or incorrect JSON format."}for(var e in c){if(!c.hasOwnProperty(e))throw"Does not have property: key.";var f=c[e];this.set(e,f)}}return this},d.prototype.resetModel=function(){this._resetModel()},d.prototype.updateFromLocation=function(a){this._resetModel();for(var b=a.search.substring(1),c={},d=0;d<this._getProperties().length;d++){var e=this._getProperties()[d];if(void 0!=e.URL_LOCATION_SEARCH_KEY)for(var f=0;e.URL_LOCATION_SEARCH_KEY.length>f;f++){var g=e.URL_LOCATION_SEARCH_KEY[f];c[g]=e}else c[e.QUERY_KEY]=e}b=b;for(var h=b.split("&"),d=0;d<h.length;d++){var i=h[d].split("="),j=decodeURIComponent(i[0]),k=decodeURIComponent(i[1]).replace(/</g,"").replace(/>/g,"");if(void 0!=k&&""!==k){var e=c[j];if(this.isPropertyArray(j)===!0)this._addItemToArrayModelValueWithLegacyConversion(e.KEY,k);else try{this._setWithLegacyConversion(e.KEY,k)}catch(l){Util.log(l),Util.log("unrecognized key in location.search: ",j)}}}return this},d.prototype.updateWithRequestResponseMetaData=function(a){var b,c,d,e;if(a.query.location){var f=decodeURIComponent(a.query.location).replace(/&#39;/,"'");e=f}if(a.query.animal&&(b=a.query.animal.replace(/&amp;/g,"&")),a.query["-require"]&&(c=a.query["-require"][0].primary_breed),a.query.gender){var g=a.query.gender,h=g.join("~").toLowerCase();d=h.split("~")}return this.set("queryId",a.query_id),this.set("pageNumber",a.page_number),this.set("location",e),this.set("locationLatLonIsCachedFor",a.query.location),this.set("locationLat",a.query.lat),this.set("locationLon",a.query.lon),this.set("partialSearch",a.query.partialSearch),this.set("distance",a.query.distance),this.set("name",a.query.name),this.set("breed",c),this.set("breedSecondary",a.query.secondary_breed),this.set("shelterId",a.query.shelter_id),this.set("shelterIdLegacy",a.query.shelter_id),this.set("gender",d),this.set("internal",a.query.internal),this.set("created_since",a.query.created_since),this.set("sstoken",a.query.sstoken),this._setWithLegacyConversion("status",a.query.status),this._setWithLegacyConversion("age",a.query.age),this._setWithLegacyConversion("gender",d),this._setWithLegacyConversion("size",a.query.size),this._setWithLegacyConversion("characteristics",a.query.characteristics),this._setWithLegacyConversion("household",a.query.household),this._setWithLegacyConversion("animal",b),this._setWithLegacyConversion("breed",c),this._setWithLegacyConversion("breedSecondary",a.query.secondary_breed),this.updateCookiesFromModel(),this},d.prototype.updateFromSearchFormDOM=function(){this._resetModel();var b=[];a("#frm-find-a-pet").find("input, select").each(function(){var c=a(this);c.is(":checkbox")===!0&&c.is(":checked")&&b.push({key:c.attr("name"),value:c.val()}),c.is(":text")===!0&&""!=c.val()&&b.push({key:c.attr("name"),value:c.val()}),c.is("select")===!0&&c.find(":selected").size()>0&&""!=c.find(":selected").val()&&b.push({key:c.attr("name"),value:c.val()})});for(var c={},d=0;d<this._getProperties().length;d++){var e=this._getProperties()[d];if(void 0!=e.URL_LOCATION_SEARCH_KEY)for(var f=0;e.URL_LOCATION_SEARCH_KEY.length>f;f++){var g=e.URL_LOCATION_SEARCH_KEY[f];c[g]=e.KEY}else c[e.KEY]=e.KEY}for(var d=0;d<b.length;d++){var h=b[d].key,i=b[d].value;h=c[h],this.isPropertyArray(h)===!0?this.addItemToArrayModelValue(h,i):this.set(h,i)}return this},d.prototype.updateFromSavedSearch=function(a){var b,c,d;if(a.location){var e=decodeURIComponent(a.location).replace(/&#39;/,"'");d=e}if(this._resetModel(),a["-require"]&&(b=a["-require"][0].primary_breed),a.gender){var f=a.gender,g=f.join("~").toLowerCase();c=g.split("~")}this._setWithLegacyConversion("location",d),this._setWithLegacyConversion("locationLat",a.lat),this._setWithLegacyConversion("locationLon",a.lon),this._setWithLegacyConversion("distance",a.distance),this._setWithLegacyConversion("age",a.age),this._setWithLegacyConversion("characteristics",a.characteristics),this._setWithLegacyConversion("gender",c),this._setWithLegacyConversion("pageNumber",a.page_number),this._setWithLegacyConversion("pageSize",a.page_size),this._setWithLegacyConversion("status",a.status),this._setWithLegacyConversion("animal",a.animal),this._setWithLegacyConversion("size",a.size),this._setWithLegacyConversion("household",a.household),this._setWithLegacyConversion("name",a.name),this._setWithLegacyConversion("shelterId",a.shelter_id),this._setWithLegacyConversion("shelterIdLegacy",a.shelter_id),this._setWithLegacyConversion("breedSecondary",a.secondary_breed),this._setWithLegacyConversion("breed",b),this._setWithLegacyConversion("internal",a.internal),this._setWithLegacyConversion("created_since",a.created_since),this._setWithLegacyConversion("sstoken",a.sstoken)},d.prototype.updateCookiesFromModel=function(){return a.cookie(this.SEARCH_COOKIE_KEY,JSON.stringify(this.getAllValuesAsObject()),{secure:!0,path:"/"}),this},d.prototype._clearCookies=function(){return a.cookie(this.SEARCH_COOKIE_KEY,void 0,{secure:!0,path:"/"}),this},d}(jQuery,PF["models/Model"],PF["services/ServiceConfiguration"]);var PF=PF||{};PF["services/SavedSearchesService"]=function(a,b,c){"use strict";function d(){}var e=void 0;return d.prototype.RESPONSES={USER_SAVE_SEARCH_SUCCESS:"USER_SAVE_SEARCH_SUCCESS",USER_SAVE_SEARCH_ERROR:"USER_SAVE_SEARCH_ERROR",USER_SAVE_SEARCH_ERROR_USER_SESSION_MISMATCH:"USER_SAVE_SEARCH_ERROR_USER_SESSION_MISMATCH",USER_GET_SAVED_SEARCHS_SUCCESS:"USER_GET_SAVE_SEARCHS_SUCCESS",USER_GET_SAVED_SEARCHS_ERROR:"USER_GET_SAVE_SEARCHS_ERROR",USER_DELETE_SEARCH_SUCCESS:"USER_DELETE_SEARCH_SUCCESS",USER_DELETE_SEARCH_ERROR:"USER_DELETE_SEARCH_ERROR",USER_NEWSLETTER_SIGNUP_SUCCESS:"USER_NEWSLETTER_SIGNUP_SUCCESS",USER_NEWSLETTER_SIGNUP_ERROR:"USER_NEWSLETTER_SIGNUP_ERROR"},d.prototype.saveSearch=function(d,e,f){var g=this;return a.ajax({type:"post",url:b.REQUEST_BASE_WITH_API_VERSION+"user/searches.json",dataType:"json",cache:!1,data:{api_key:b.API_KEY,query_id:d,search_name:e}}).then(function(b){a.when(g.waitForServerPropagation()).done(function(){return void 0==b&&1!==b.result?a.Deferred().reject(g.RESPONSES.USER_SAVE_SEARCH_ERROR,b):f!==!0?(g.getSavedSearches().done(function(a,b){a===g.RESPONSES.USER_GET_SAVED_SEARCHS_SUCCESS&&c.set("savedSearchesData",b.saved_searches)}),a.Deferred().resolve(g.RESPONSES.USER_SAVE_SEARCH_SUCCESS,b)):void a.when(g.subscribeToSearch(e)).done(function(){return g.getSavedSearches().done(function(a,b){a===g.RESPONSES.USER_GET_SAVED_SEARCHS_SUCCESS&&c.set("savedSearchesData",b.saved_searches)}),a.Deferred().resolve(g.RESPONSES.USER_SAVE_SEARCH_SUCCESS,b)})})})},d.prototype.getSavedSearches=function(){var d=this,e=a.Deferred();return a.ajax({type:"get",url:b.REQUEST_BASE_WITH_API_VERSION+"user/searches.json",dataType:"json",cache:!1,data:{api_key:b.API_KEY}}).then(function(a){void 0==a&&1!==a.result&&e.reject(d.RESPONSES.USER_GET_SAVED_SEARCHS_ERROR,a),c.set("savedSearchesData",a.saved_searches),e.resolve(d.RESPONSES.USER_GET_SAVED_SEARCHS_SUCCESS,a)}),e},d.prototype.deleteSavedSearch=function(d,e){var f=this;e&&f.unSubscribeFromSearch(d),c.deleteSavedSearchWithSearchName(d),a.when(f.waitForServerPropagation()).done(function(){return a.ajax({type:"post",url:b.REQUEST_BASE_WITH_API_VERSION+"user/searches/delete.json",dataType:"json",cache:!1,data:{api_key:b.API_KEY,search_name:d}}).then(function(b){a.when(f.waitForServerPropagation()).done(function(){return void 0==b&&1!==b.result?a.Deferred().reject(f.RESPONSES.USER_DELETE_SEARCH_ERROR,b):a.Deferred().resolve(f.RESPONSES.USER_DELETE_SEARCH_SUCCESS,b)})})})},d.prototype.subscribeToSearch=function(c){var d=this;return a.ajax({type:"post",url:b.REQUEST_BASE_WITH_API_VERSION+"user/searches/subscribe.json",cache:!1,data:{api_key:b.API_KEY,search_name:c},dataType:"json"}).then(function(){a.when(d.waitForServerPropagation()).done(function(){})})},d.prototype.unSubscribeFromSearch=function(c){var d=this;return a.ajax({type:"post",url:b.REQUEST_BASE_WITH_API_VERSION+"user/searches/unsubscribe.json",cache:!1,data:{api_key:b.API_KEY,search_name:c},dataType:"json"}).then(function(){a.when(d.waitForServerPropagation()).done(function(){})})},d.prototype.subscribeToNewsletter=function(c){var d=this;return a.ajax({type:"POST",url:b.ADMIN_AJAX_URL,cache:!1,data:{email:c,action:"email_signup"},dataType:"json"}).then(function(b){return"success"!==b.result?a.Deferred().reject(d.RESPONSES.USER_NEWSLETTER_SIGNUP_ERROR):a.Deferred().resolve(d.RESPONSES.USER_NEWSLETTER_SIGNUP_SUCCESS)})},d.prototype.waitForServerPropagation=function(){var b=new a.Deferred;return setTimeout(function(){b.resolve()},1e3),b.promise()},void 0==e&&(e=new d),e}(jQuery,PF["services/ServiceConfiguration"],PF["models/SavedSearchesModel"]);var PF=PF||{};PF["services/SessionService"]=function(a,b,c,d){"use strict";function e(){}var f=void 0;return e.prototype.RESPONSES={USER_SESSION_VALID:"USER_SESSION_VALID",USER_SESSION_NOT_LOGGED_IN:"USER_SESSION_NOT_LOGGED_IN",USER_STATUS_ERROR:"USER_STATUS_ERROR"},e.prototype.getUserStatus=function(){var b=this;return a.ajax({type:"GET",url:"/user/session/timeout",dataType:"json",cache:!1}).then(function(c){if("undefined"!=typeof c.ttl&&parseInt(c.ttl,10)){var e=parseInt(c.ttl,10);return d.getSavedSearches(),a.Deferred().resolve(b.RESPONSES.USER_SESSION_VALID,e)}return a.Deferred().reject(b.RESPONSES.USER_SESSION_NOT_LOGGED_IN)})},e.prototype.resetUserStatus=function(){return a.ajax({type:"POST",url:"/user/session/timeout",dataType:"json"}).then(function(b){return"OK"!==b.status?a.Deferred().reject("TIMEOUT_NOT_SET"):(c.AUTOTIMEOUT_RENEWED=!0,a.Deferred().resolve("TIMEOUT_RESET"))})},void 0==f&&(f=new e),f}(jQuery,PF["services/ServiceConfiguration"],PF["models/SessionModel"],PF["services/SavedSearchesService"]);var PF=PF||{};PF["services/PetVideoStatsService"]=function(a,b){"use strict";function c(){}var d=void 0,e=c.prototype;return e.registerView=function(c){return a.ajax({type:"post",url:b.REQUEST_BASE_WITH_API_VERSION+"pets/"+c.get("id")+"/register_view.json",dataType:"json",cache:!1,data:{api_key:b.API_KEY}})},void 0==d&&(d=new c),d}(jQuery,PF["services/ServiceConfiguration"]);var PF=PF||{};PF["models/ShelterSearchModel"]=function(a,b,c){"use strict";var d=function(){this._resetModel()};return d.prototype=new b,d.prototype.constructor=d,d.prototype._getProperties=function(){return[{KEY:"location",QUERY_KEY:"location",URL_LOCATION_SEARCH_KEY:"location"},{KEY:"locationLon",QUERY_KEY:"lon"},{KEY:"locationLat",QUERY_KEY:"lat"},{KEY:"active",QUERY_KEY:"active",DEFAULT_VALUE:!0},{KEY:"enabled",QUERY_KEY:"enabled",DEFAULT_VALUE:!0},{KEY:"pageNumber",DEFAULT_VALUE:0,QUERY_KEY:"page_number",URL_LOCATION_SEARCH_KEY:"page_number"},{KEY:"pageSize",DEFAULT_VALUE:25,QUERY_KEY:"page_size",URL_LOCATION_SEARCH_KEY:"page_size"},{KEY:"shelterName",QUERY_KEY:"name",URL_LOCATION_SEARCH_KEY:"shelter_name"},{KEY:"state",QUERY_KEY:"region_code",URL_LOCATION_SEARCH_KEY:"region_code"},{KEY:"searchByState",QUERY_KEY:"bystate",URL_LOCATION_SEARCH_KEY:"bystate"}]},d.prototype._setLocation=function(a){return void 0==a?void(this[this.MODEL_VALUE_PREFIX+"location"]=void 0):void(this[this.MODEL_VALUE_PREFIX+"location"]=a.replace(/\+/g," "))},d.prototype._setShelterName=function(a){return void 0==a?void(this[this.MODEL_VALUE_PREFIX+"shelterName"]=void 0):void(this[this.MODEL_VALUE_PREFIX+"shelterName"]=a.replace(/\+/g," ").replace(/\*/g,""))},d.prototype.getURLForPage=function(a){for(var b=[],d=0;d<this._getProperties().length;d++){var e=this._getProperties()[d],f=e.KEY,g=["location","shelterName","pageNumber","searchByState"];if(-1!==g.indexOf(f)){var h=this.get(f);if(void 0!=h){var i=e.KEY;void 0!=e.URL_LOCATION_SEARCH_KEY&&(i=e.URL_LOCATION_SEARCH_KEY),"pageNumber"===f&&(h=a),b.push(i+"="+h)}}}return c.PROTOCOL+"//"+window.location.hostname+"/animal-shelters-and-rescues/search?"+b.join("&")},d.prototype.updateFromLocation=function(a){this._resetModel();var b=a.search.substring(1);if(""!==b){for(var c={},d=0;d<this._getProperties().length;d++){var e=this._getProperties()[d];void 0!=e.URL_LOCATION_SEARCH_KEY?c[e.URL_LOCATION_SEARCH_KEY]=e:c[e.QUERY_KEY]=e}b=b.replace(/&amp;/g,"&");for(var f=b.split("&"),d=0;d<f.length;d++){var g=f[d].split("="),h=decodeURIComponent(g[0]),i=decodeURIComponent(g[1]);if("action"===h&&"state"===i&&(h="bystate"),void 0!=i&&""!==i){var e=c[h];this.isPropertyArray(h)===!0?this._addItemToArrayModelValueWithLegacyConversion(e.KEY,i):this._setWithLegacyConversion(e.KEY,i)}}var j=void 0!=this.get("shelterName");j&&this.set("shelterName",this.get("shelterName"));var k=void 0!=this.get("searchByState");return k&&this.set("state",this.get("location")),this}},d.prototype.getAllValuesAsObject=function(){for(var a={},b=0;b<this._getProperties().length;b++){var c=this._getProperties()[b],d=c.KEY,e=this.get(c.KEY);if(void 0!=e){var f=c.QUERY_VALUE_MAPPING;void 0!=f&&(e=f[e]),void 0!=c.QUERY_KEY&&(d=c.QUERY_KEY),"name"===d&&(e="*"+e+"*"),a[d]=e}}return a},d}(jQuery,PF["models/Model"],PF["services/ServiceConfiguration"]);var PF=PF||{};PF["models/PetModel"]=function(a,b,c){"use strict";var d=function(){this._resetModel()};return d.prototype=new b,d.prototype.constructor=d,d.prototype.NO_PHOTO_THUMB_URL=c.THEME_URL+"img/search/no-photo-thumb.png",d.prototype.NO_PHOTO_THUMB_SMALL_URL=c.THEME_URL+"img/search/no-photo-thumb-sm.png",d.prototype.NO_PHOTO_URL=c.THEME_URL+"img/search/no-photo-profile.png",d.prototype._getProperties=function(){return[{KEY:"id",DEFAULT_VALUE:null},{KEY:"photos",DEFAULT_VALUE:[]},{KEY:"primaryPhoto",DEFAULT_VALUE:this.NO_PHOTO_THUMB_URL},{KEY:"photoUrls",DEFAULT_VALUE:[]},{KEY:"photoThumbUrls",DEFAULT_VALUE:[]},{KEY:"primaryPhotoThumbURL",DEFAULT_VALUE:this.NO_PHOTO_THUMB_URL},{KEY:"primaryPhotoURL",DEFAULT_VALUE:this.NO_PHOTO_THUMB_URL},{KEY:"recentlyViewedPhotoURL",DEFAULT_VALUE:this.NO_PHOTO_THUMB_SMALL_URL},{KEY:"otherPetsAtShelterPhotoURL",DEFAULT_VALUE:this.NO_PHOTO_THUMB_SMALL_URL},{KEY:"status",ACCEPTED_VALUES:["adoptable","adopted","hold","pending","found"],LEGACY_VALUE_MAPPING:{adoptable:["Adoptable","A","a"],adopted:["Adopted","X","x"],hold:["Hold","H","h"],pending:["Pending","P","p"],found:["Found","F","f"]}},{KEY:"age"
},{KEY:"size"},{KEY:"gender"},{KEY:"breed"},{KEY:"primaryBreed"},{KEY:"secondaryBreed"},{KEY:"mixedBreed",DEFAULT_VALUE:!1},{KEY:"name"},{KEY:"nameWithStatus",READONLY:!0},{KEY:"species"},{KEY:"description"},{KEY:"animal"},{KEY:"ageSexSize"},{KEY:"shelterId"},{KEY:"shelterIdLegacy"},{KEY:"shelterURL"},{KEY:"shelterLink"},{KEY:"shelterName"},{KEY:"shelterAnimalId"},{KEY:"shelterLocationCity"},{KEY:"shelterStreetAddress"},{KEY:"shelterStreetAddress2"},{KEY:"shelterLocationState"},{KEY:"shelterPostalCode"},{KEY:"shelterLocationCountry"},{KEY:"features",DATA_TYPE:"array",ACCEPTED_VALUES:["specialNeeds","declawed","houseTrained","spayedNeutered","shotsCurrent","homeWithoutCats","homeWithoutDogs","homeWithoutChildren","primaryColor","secondaryColor","coatLength"],LEGACY_VALUE_MAPPING:{specialNeeds:["Special needs"],declawed:["Declawed"],houseTrained:["House trained"],spayedNeutered:["Spay/Neuter"],shotsCurrent:["Shots Current"],homeWithoutCats:["Home without cats"],homeWithoutDogs:["Home without dogs"],homeWithoutChildren:["Home without small children (< 5yrs old)"],primaryColor:[""],secondaryColor:[""],coatLength:[""]},FEATURE_DISPLAY_VALUE_MAPPING:{specialNeeds:"Special needs",declawed:"Declawed",houseTrained:"House trained",spayedNeutered:"Spayed/Neutered",shotsCurrent:"Current on vaccinations",homeWithoutCats:"Cats",homeWithoutDogs:"Dogs",homeWithoutChildren:"Young Children",primaryColor:[""],secondaryColor:[""],coatLength:[""]}},{KEY:"featuresDisplay",DATA_TYPE:"array"},{KEY:"featuresList",DATA_TYPE:"array"},{KEY:"videoURL"},{KEY:"videoID"},{KEY:"hasValidContactEmail"},{KEY:"phone"},{KEY:"primaryColor"},{KEY:"secondaryColor"},{KEY:"coatLength"},{KEY:"phone"},{KEY:"email"}]},d.prototype.updateWithJSON=function(b){return this._resetModel(),this.set("id",b.id),this.set("shelterName",b.shelter_name),this._setWithLegacyConversion("status",b.status),this._setWithLegacyConversion("age",b.age),this._setWithLegacyConversion("size",b.size),this.set("gender",b.gender),this.set("primaryBreed",b.primary_breed),this.set("mixedBreed",b.mixed_breed),this.set("secondaryBreed",b.secondary_breed),this.set("name",b.name),this.set("species",b.species),this.set("description",b.description),this._setWithLegacyConversion("animal",b.animal),this.set("shelterId",b.shelter_id),this.set("shelterIdLegacy",b.shelter_id),this.set("shelterURL",c.PROTOCOL+"//"+window.location.hostname+"/pet-search?shelter_id="+b.shelter_id),this.set("shelterLink",c.PROTOCOL+"//"+window.location.hostname+"/shelters/"+b.shelter_id+".html"),this.set("shelterAnimalId",b.shelter_animal_id),this.set("shelterStreetAddress",b.street_address),this.set("shelterStreetAddress2",b.extended_address),this.set("shelterLocationCity",b.locality),this.set("shelterLocationState",b.region_code),this.set("shelterPostalCode",b.postal_code),void 0==b.features&&(b.features=[]),void 0!=b.primary_color&&b.features.push("primaryColor"),void 0!=b.secondary_color&&b.features.push("secondaryColor"),void 0!=b.coat_length&&b.features.push("coatLength"),this._setWithLegacyConversion("features",b.features),this.set("shelterLocationCountry",b.country_code),this.set("primaryColor",b.primary_color),this.set("secondaryColor",b.secondary_color),this.set("coatLength",b.coat_length),this.set("phone",a.trim(b.phone)),this.set("email",a.trim(b.email_address)),this.set("videoURL",b.pet_video_link),this.set("videoID",b.pet_video),void 0!=b.pet_photo&&this.set("photos",b.pet_photo),void 0!=b.pet_photo_primary&&this.set("primaryPhoto",b.pet_photo_primary),this.updateDerivedProperties(),this},d.prototype._getDescription=function(){var a=this[this.MODEL_VALUE_PREFIX+"description"];return void 0==a?void 0:a.replace(/\n/gm,"<br />")},d.prototype._getNameWithStatus=function(){var a,b=this.get("name");switch(this.get("status")){case"adoptable":a=b;break;case"adopted":a=b+" - ADOPTED!";break;case"hold":a=b+" - on Hold";break;case"found":a=b+" - FOUND!";break;default:a=b}return a},d.prototype._createPhotoURL=function(a,b,d){if(a===this.NO_PHOTO_URL||a===this.NO_PHOTO_THUMB_URL)return a;if(void 0==a)return void 0;var e=1,f=c.PROTOCOL+"//"+c.photoHost+a;return b&&(f+="&width="+b),d&&(f+="&height="+d),f+="&no_scale_up="+e},d.prototype.updateDerivedProperties=function(){var a=this.get("photos");if(this.get("primaryPhoto")!==this.NO_PHOTO_THUMB_URL)if(-1==a.indexOf(this.get("primaryPhoto")))a.unshift(this.get("primaryPhoto"));else{var b=a.indexOf(this.get("primaryPhoto"));a.splice(b,1),a.unshift(this.get("primaryPhoto"))}void 0==this.get("primaryPhoto")&&void 0!=this.get("photos")&&this.set("primaryPhoto",this.get("photos")[0]);for(var c=[],d=[],e=0;e<this.get("photos").length;e++){if(0==e){var f=this._createPhotoURL(a[0],60);this.set("primaryPhotoThumbURL",f);var g=this._createPhotoURL(a[0],186);this.set("primaryPhotoURL",g);var h=this._createPhotoURL(a[0],132);this.set("recentlyViewedPhotoURL",h);var i=this._createPhotoURL(a[0],132);this.set("otherPetsAtShelterPhotoURL",i)}var j=this._createPhotoURL(a[e],632);c.push(j);var k=this._createPhotoURL(a[e],60);d.push(k)}if(0===c.length&&(c=[this.NO_PHOTO_URL]),this.set("photoUrls",c),this.set("photoThumbUrls",d),void 0==this.get("primaryBreed")&&void 0==this.get("secondaryBreed"))this.set("breed",void 0);else{var l=this.get("primaryBreed");void 0!=this.get("secondaryBreed")&&(l+=" & "+this.get("secondaryBreed")),(this.get("mixedBreed")===!0||void 0!=this.get("secondaryBreed")&&this.get("mixedBreed")===!1)&&(l+=" Mix"),this.set("breed",l)}if(void 0!=this.get("age")||void 0!=this.get("gender")||void 0!=this.get("size")){var m=[];void 0!=this.get("age")&&m.push(this.get("age")),void 0!=this.get("gender")&&m.push(this.get("gender")),void 0!=this.get("size")&&m.push(this.get("size")),0!==m.length&&this.set("ageSexSize",m.join(" • "))}var n=void 0!=this.get("features")||void 0!=this.get("primaryColor")||void 0!=this.get("secondaryColor")||void 0!=this.get("coatLength"),o=void 0!=this.get("videoURL");if((n||o)&&this.set("featuresDisplay",void 0),n)for(var e=0,p=this.get("features").length;p>e;e++){var q,r=this.get("features")[e];switch(r){case"houseTrained":q={className:"house-trained",title:"HOUSE TRAINED"};break;case"specialNeeds":q={className:"special-needs",title:"Pet has special needs"};break;case"declawed":q={className:"declawed",title:"Pet has been declawed"};break;case"homeWithoutCats":q={className:"no-cats",title:"Prefers a home without cats"};break;case"homeWithoutDogs":q={className:"no-dogs",title:"Prefers a home without dogs"};break;case"homeWithoutChildren":q={className:"no-kids",title:"Prefers a home without small children"};break;default:continue}void 0!=q&&this.addItemToArrayModelValue("featuresDisplay",q)}if(o&&this.addItemToArrayModelValue("featuresDisplay",{className:"has-video",title:"Has video"}),n){for(var s,t=[],u=[],v=[],w=this.getModelMetaData("features"),x=this.get("features"),e=0;e<x.length;e++){var y=w.FEATURE_DISPLAY_VALUE_MAPPING[x[e]];switch(x[e]){case"homeWithoutCats":u.push(y);break;case"homeWithoutDogs":u.push(y);break;case"homeWithoutChildren":u.push(y);break;case"spayedNeutered":y="Spayed/Neutered",v.push(y);break;default:v.push(y)}}if(0!==u.length){s="Prefers a home without: "+u.join(", ");var z=s.lastIndexOf(",");-1!=z&&(s=s.substring(0,z)+" and "+s.substring(z+1))}var A=[];if(0!==v.length){for(var e=0;e<v.length;e++){var B=v[e];""!=B&&A.push(B)}A.length>0&&t.push(A.join(" • "))}void 0!=s&&t.push(s);var C=[];void 0!=this.get("primaryColor")&&C.push("Primary Color(s): "+this.get("primaryColor")),void 0!=this.get("secondaryColor")&&C.push("Secondary Color(s): "+this.get("secondaryColor")),void 0!=this.get("coatLength")&&C.push("Coat Length: "+this.get("coatLength"));var D=[];if(0!==C.length){for(var e=0;e<C.length;e++){var B=C[e];""!=B&&D.push(B)}C=D.join(" • "),t.push(C)}0!==t&&this.set("featuresList",t.join(" • "))}return this},d.prototype.addToRecentlyViewPets=function(){var b=a.cookie("pf_recentlyViewedPets"),c=this.get("name")+"|"+this.get("id")+"|"+this.get("recentlyViewedPhotoURL");if(void 0!=b){var d=JSON.parse(b),e=[];a.each(d,function(a,b){var c=b.split("|");e[a]=c[1]});var f=a.inArray(this.get("id"),e);-1===f?d.unshift(c):(d.splice(f,1),d.unshift(c))}else var d=[c];d.length>8&&(d=d.slice(0,8)),a.cookie("pf_recentlyViewedPets",JSON.stringify(d),{secure:!0,path:"/"})},d}(jQuery,PF["models/Model"],PF["services/ServiceConfiguration"]);var PF=PF||{};PF["models/PetSearchResponseModel"]=function(a,b,c,d,e){"use strict";var f=function(){this._resetModel()};return f.prototype=new b,f.prototype.constructor=f,f.prototype._getProperties=function(){return[{KEY:"totalResults",DEFAULT_VALUE:"0"},{KEY:"results",DEFAULT_VALUE:[]},{KEY:"pageNumber",DEFAULT_VALUE:"0"},{KEY:"metaData"},{KEY:"documentTitle",READONLY:!0}]},f.prototype._petSearchRequestModel=null,f.prototype._getDocumentTitle=function(){var a="Pet Search Results:",b=this._petSearchRequestModel.get("status"),c=(this._petSearchRequestModel.get("animal"),this._petSearchRequestModel.get("location")),d=this._petSearchRequestModel.get("shelterId"),e=this.get("results")[0];if("undefined"!=typeof b||""==b){var f=b.charAt(0).toUpperCase()+b.substring(1);a+=" "+f}return"undefined"!=typeof d?a+="adopted"==b?" Pets from "+e.get("shelterName"):" Pets at "+e.get("shelterName"):"undefined"!=typeof c&&(a+=" Pets in "+c),a+=": Petfinder"},f.prototype.updateWithJSON=function(a){this.set("totalResults",a.meta_data.total_results),this.set("pageNumber",a.meta_data.page_number);for(var b=[],d=0;d<a.results.length;d++){var f=a.results[d],g=new c;g.updateWithJSON(f),b.push(g)}this.set("results",b),this.set("metaData",a.meta_data),this._petSearchRequestModel=(new e).updateWithRequestResponseMetaData(a.meta_data)},f.prototype.getAllValuesAsObject=function(){for(var a={},b=0;b<this._getProperties().length;b++){var c=this._getProperties()[b],d=this.get(c.KEY);if(void 0!=d){if("results"===c.KEY){for(var e=[],f=0;f<d.length;f++)e.push(d[f].getAllValuesAsObject());a[c.KEY]=e;continue}a[c.KEY]=d}}return a},f.prototype.getHeadlineTextForResponse=function(){var b={results:this.get("results").length,type:this._petSearchRequestModel.get("animal"),breed:this._petSearchRequestModel.get("breed"),status:this._petSearchRequestModel.get("status"),location:this._petSearchRequestModel.get("location"),distance:this._petSearchRequestModel.get("distance")};"undefined"!=typeof b.breed&&(b.breed=b.breed[0].primary_breed),"undefined"!=typeof this._petSearchRequestModel.get("shelterId")?(b.shelterName=this.get("results")[0].get("shelterName"),"adopted"!=b.status?b.preposition="at":b.preposition="from"):"undefined"!=typeof this._petSearchRequestModel.get("distance")?(b.distanceUnits="miles",b.preposition="within"):b.preposition="near","undefined"!=typeof b.distance&&(b.distancePreposition="of"),"found"!=b.status&&"adoptable"!=b.status&&"adopted"!=b.status&&(b.status="adoptable");var c=Handlebars.compile(a("#js-petsearch-searchTitle-template").html());return c(b)},f.prototype.showPartialSearchMessage=function(){1==this._petSearchRequestModel.get("partialSearch")&&0===a("#petfinder_fuzzy_search").length&&a("#main").prepend('<div id="petfinder_fuzzy_search" class="content-box"><div class="module"><h4>The exact location entered could not be found. Based on the location you\'ve entered we\'ve approximated the results below.</h4></div></div>')},f}(jQuery,PF["models/Model"],PF["models/PetModel"],PF["services/ShelterService"],PF["models/PetSearchRequestModel"]);var PF=PF||{};PF["models/ShelterModel"]=function(a,b){"use strict";var c=function(){this._resetModel()};return c.prototype=new b,c.prototype.constructor=c,c.prototype._getProperties=function(){return[{KEY:"name"},{KEY:"city"},{KEY:"state"},{KEY:"id"},{KEY:"phone"},{KEY:"url"},{KEY:"searchUrl"},{KEY:"email"},{KEY:"address"},{KEY:"contact-phone"},{KEY:"contact-email"}]},c.prototype.updateWithJSON=function(b){return this.set("id",b.shelter_id),this.set("name",b.name),this.set("city",b.locality),this.set("state",b.region_code),this.set("phone",a.trim(b.phone)),this.set("email",a.trim(b.email_address)),this.set("contact-email",a.trim(b.contact_email_address)),this.set("contact-phone",a.trim(b.contact_phone)),this.set("url","/shelters/"+b.shelter_id+".html"),this.set("searchUrl","/pet-search?shelter_id="+b.shelter_id),this},c}(jQuery,PF["models/Model"]);var PF=PF||{};PF["models/VideoSearchModel"]=function(a,b,c){"use strict";var d=function(){this._resetModel()};return d.prototype=new b,d.prototype.constructor=d,d.prototype._getProperties=function(){return[{KEY:"wsURI",QUERY_KEY:"ws_uri"},{KEY:"pageNumber",DEFAULT_VALUE:1,QUERY_KEY:"page_number",URL_LOCATION_SEARCH_KEY:"page_number"},{KEY:"pageSize",DEFAULT_VALUE:10,QUERY_KEY:"page_size",URL_LOCATION_SEARCH_KEY:"page_size"},{KEY:"searchQuery",QUERY_KEY:"q",URL_LOCATION_SEARCH_KEY:"q"}]},d.prototype._getWsURI=function(){var a=c.PROTOCOL+"//pwsvid.petfinder.com/video/search.json?page_number="+this.get("pageNumber")+"&page_size="+this.get("pageSize");return void 0!=this.get("searchQuery")&&(a+="&q="+this.get("searchQuery")),encodeURI(a)},d.prototype.updateFromLocation=function(a){this._resetModel();for(var b=a.search.substring(1),c={},d=0;d<this._getProperties().length;d++){var e=this._getProperties()[d];void 0!=e.URL_LOCATION_SEARCH_KEY?c[e.URL_LOCATION_SEARCH_KEY]=e:c[e.QUERY_KEY]=e}b=b.replace(/&amp;/g,"&");for(var f=b.split("&"),d=0;d<f.length;d++)if(""!==f[d]){var g=f[d].split("="),h=decodeURIComponent(g[0]),i=decodeURIComponent(g[1]);if(void 0!=i&&""!==i){var e=c[h];this.isPropertyArray(h)===!0?this._addItemToArrayModelValueWithLegacyConversion(e.KEY,i):this._setWithLegacyConversion(e.KEY,i)}}return this},d.prototype.getAllValuesAsObject=function(){var a=this.getModelMetaData("wsURI").QUERY_KEY,b=this.get("wsURI"),c={};return c[a]=encodeURIComponent(b),c},d}(jQuery,PF["models/Model"],PF["services/ServiceConfiguration"]);var PF=PF||{};PF["models/BreedSearchModel"]=function(a,b){"use strict";var c=function(){this._resetModel()};return c.prototype=new b,c.prototype.constructor=c,c.prototype._getProperties=function(){return[{KEY:"animal",QUERY_KEY:"animal",ACCEPTED_VALUES:["any","dog","cat","rabbit","smallFurry","horse","bird","scalesFinsOther","pig","barnyard","wildlife"],QUERY_VALUE_MAPPING:{smallFurry:"Small & Furry",scalesFinsOther:"Scales, Fins & Other"},LEGACY_VALUE_MAPPING:{smallFurry:["small-furry"],scalesFinsOther:["scales-fins-other"]}},{KEY:"status",DEFAULT_VALUE:"Adoptable",QUERY_KEY:"status"},{KEY:"fields",QUERY_KEY:"fields",DEFAULT_VALUE:"animal"},{KEY:"displayBreeds",QUERY_KEY:"displayBreeds"}]},c.prototype._setAnimal=function(a){return this.getModelKeys().length===this._getProperties().length&&(this.set("fields","breed"),this.set("displayBreeds",!0)),this[this.MODEL_VALUE_PREFIX+"animal"]=this._getLegacyConversionValue("animal",a),this},c.prototype.updateFromLocation=function(a){var a=String(a).slice(0),b=this._getBreedFromLocation(a);return void 0!=b&&this.set("animal",b),this},c.prototype._getBreedFromLocation=function(a){var b=a.match(/breeds\/(.*?)(\/|#|$|\?)/);if(void 0!=b){var c=b[1];if(""!==c)return c}},c.prototype.getAllValuesAsObject=function(){for(var a={},b=0;b<this._getProperties().length;b++){var c=this._getProperties()[b],d=c.KEY,e=this.get(c.KEY);if(void 0!=e){var f=c.QUERY_VALUE_MAPPING;void 0!=f&&void 0!=f[e]&&(e=f[e]),void 0!=c.QUERY_KEY&&(d=c.QUERY_KEY),a[d]=e}}return a},c}(jQuery,PF["models/Model"]);var PF=PF||{};PF["services/PetSearchService"]=function(a,b,c,d,e,f){"use strict";function g(){}var h=null;return g.prototype.RESPONSES={PET_SEARCH_RESPONSE_WITH_RESULTS:"PET_SEARCH_RESPONSE_WITH_RESULTS",PET_SEARCH_RESPONSE_WITHOUT_RESULTS:"PET_SEARCH_RESPONSE_WITHOUT_RESULTS",PET_SEARCH_ERROR:"PET_SEARCH_ERROR",PET_SEARCH_ERROR_LOCATION:"PET_SEARCH_ERROR_LOCATION",PET_SEARCH_ERROR_LOCATION_NOT_SET:"PET_SEARCH_ERROR_LOCATION_NOT_SET",PET_BREED_TOTALS_SUCCESS:"PET_BREED_TOTALS_SUCCESS",PET_BREED_TOTALS_ERROR:"PET_BREED_TOTALS_ERROR",PET_CONTACT_INFO_SUCCESS:"PET_CONTACT_INFO_SUCCESS",PET_CONTACT_INFO_ERROR:"PET_CONTACT_INFO_ERROR",PET_TOTAL_SUCCESS:"PET_TOTAL_SUCCESS",PET_TOTAL_ERROR:"PET_TOTAL_ERROR",BREEDS_RESPONSE_WITH_RESULTS:"BREEDS_RESPONSE_WITH_RESULTS",BREEDS_RESPONSE_WITHOUT_RESULTS:"BREEDS_RESPONSE_WITHOUT_RESULTS",BREEDS_ERROR:"BREEDS_ERROR"},g.prototype._PETDAIL_OTHERPETS_PAGE_SIZE=6,g.prototype.getPetWithId=function(b){var c=this,f=d.REQUEST_BASE_WITH_API_VERSION+"pets/"+b+".json?api_key="+d.API_KEY;return a.ajax({url:f,type:"get",dataType:"json"}).then(function(b){if(void 0==b.results||b.exception_type)return a.Deferred().reject(c.RESPONSES.PET_SEARCH_ERROR,b);if(0===b.results.length||void 0==b.results[0].id)return a.Deferred().resolve(c.RESPONSES.PET_SEARCH_RESPONSE_WITHOUT_RESULTS);var d=new e;return d.updateWithJSON(b.results[0]),a.Deferred().resolve(c.RESPONSES.PET_SEARCH_RESPONSE_WITH_RESULTS,d)})},g.prototype.getPetTotal=function(){var b=this;return a.ajax({type:"GET",url:d.TOTALS_PETS_URL,data:{status:"Adoptable"},dataType:"json"}).then(function(c){return void 0==c.results||c.exception_type?a.Deferred().reject(b.RESPONSES.PET_TOTAL_ERROR,c):a.Deferred().resolve(b.RESPONSES.PET_TOTAL_SUCCESS,c)})},g.prototype.getOtherPetsAtShelter=function(b,c,e,f){var g=this,h={page_number:e,page_size:f,shelter_id:b,id:{"-prohibit":c},status:"Adoptable"};return a.ajax({url:d.PET_SEARCH_URL,type:"post",data:{query:JSON.stringify(h),api_key:d.API_KEY},dataType:"json"}).then(function(b){return void 0==b.results||b.exception_type?a.Deferred().reject(g.RESPONSES.PET_SEARCH_ERROR,b):void 0==b.results||0==b.results.length||void 0==b.results[0].id?a.Deferred().resolve(g.RESPONSES.PET_SEARCH_RESPONSE_WITHOUT_RESULTS,[]):a.Deferred().resolve(g.RESPONSES.PET_SEARCH_RESPONSE_WITH_RESULTS,b)})},g.prototype.getBreedsAutoCompleteDataForAnimal=function(b){var c=this;return a.ajax({url:d.BREED_AUTOCOMPLETE_URL,type:"post",dataType:"json",data:{animal:b,api_key:d.API_KEY}}).then(function(b){return void 0==b||b.exception_type?a.Deferred().reject(c.RESPONSES.BREEDS_ERROR,b):void 0==b||0===b.length?a.Deferred().resolve(c.RESPONSES.BREEDS_RESPONSE_WITHOUT_RESULTS,[]):a.Deferred().resolve(c.RESPONSES.BREEDS_RESPONSE_WITH_RESULTS,b)})},g.prototype.getPetContactForPetId=function(b){var c=this;return a.ajax({url:d.REQUEST_BASE_WITH_API_VERSION+"pets/"+b+"/contact_info.json",type:"get",dataType:"json",data:{api_key:d.API_KEY}}).then(function(b){return void 0!=b&&void 0==b.exception_type?a.Deferred().resolve(c.RESPONSES.PET_CONTACT_INFO_SUCCESS,b):a.Deferred().resolve(c.RESPONSES.PET_CONTACT_INFO_ERROR,b)})},g.prototype.getTotalsForAnimals=function(b){var c=this,e=b.getAllValuesAsObject();return e.api_key=d.API_KEY,a.ajax({url:d.BREED_TOTALS_URL,type:"get",dataType:"json",data:e}).then(function(d){if(void 0==d.results||void 0==d.results.animal&&void 0==d.results.breed||d.exception_type)return a.Deferred().reject(c.RESPONSES.PET_BREED_TOTALS_ERROR,d);if(void 0!=d.results.animal){var e=[],f=[];for(var g in d.results.animal)""!==g&&f.push(g);f.sort();for(var h=0;h<f.length;h++){var i=f[h];e.push({animalName:i,animalTotal:a.formatNumber(parseInt(d.results.animal[i]),{format:"#,###",locale:"us"})})}return a.Deferred().resolve(c.RESPONSES.PET_BREED_TOTALS_SUCCESS,e)}if(void 0!=d.results.breed){var e=[],f=[];for(var g in d.results.breed)""!==g&&f.push(g);f.sort();for(var h=0;h<f.length;h++){var j=f[h],k=d.results.breed[j],g={animalName:b.get("animal"),breedName:j,animalTotal:a.formatNumber(parseInt(k.count),{format:"#,###",locale:"us"}),breedPage:k.breed_page};(void 0==g.animalTotal||""===g.animalTotal)&&(g.animalTotal="0"),e.push(g)}return a.Deferred().resolve(c.RESPONSES.PET_BREED_TOTALS_SUCCESS,e)}})},g.prototype.getGeoCodeForLocation=function(b){return a.ajax({url:d.LOCATION_URL,type:"POST",dataType:"json",data:{q:b,api_key:d.API_KEY}})},g.prototype.ajaxSearchQuery=function(b){var c,e,f,g={};return void 0!=b.get("queryId")?(e="get",c=d.REQUEST_BASE_WITH_API_VERSION+"pets/search/"+b.get("queryId")+".json",f=b.getAllValuesAsQueryQueryIdObject(),a.extend(g,f)):(e="post",c=d.PET_SEARCH_URL,f=JSON.stringify(b.getAllValuesAsQueryObject()).replace(/\+/g," "),a.extend(g,{query:f})),a.extend(g,{api_key:d.API_KEY}),a.ajax({url:c,type:e,dataType:"json",data:g})},g.prototype.checkMethod=function(b,c,d){if(void 0==c&&(c=""===window.location.search?"cookies":"url"),"saved"===c&&void 0==d)throw new Error("PetSearchService: savedSearchData param may not be undefined or null if method param is equal to saved");switch(c){case"cookies":b.updateFromCookies();break;case"model":break;case"saved":var e=f.getSavedSearchWithSearchName(d),g={sstoken:e.sstoken};a.extend(!0,g,e.query,e.params),b.updateFromSavedSearch(g);break;case"form":b.updateFromCookies();var h=b.get("location"),i=b.get("locationLat"),j=b.get("locationLon");b.updateFromSearchFormDOM(),void 0==b.get("location")&&void 0!=h&&b.set("location",h),void 0!=i&&b.set("locationLat",i),void 0!=j&&b.set("locationLon",j);break;default:b.resetModel(),b.updateFromCookies();var h=b.get("location"),i=b.get("locationLat"),j=b.get("locationLon");b.updateFromLocation(window.location),void 0==b.get("location")&&void 0!=h&&b.set("location",h),void 0!=i&&b.set("locationLat",i),void 0!=j&&b.set("locationLon",j)}},g.prototype.needLocationRequest=function(a){var b=void 0!=a.get("queryId"),c=!1;if(b)return!1;var d=void 0!=a.get("shelterId")||void 0!=a.get("shelterIdLegacy")||a.get("queryId");return d?("geodist() asc, id desc"===a.get("sort")&&a.set("sort","id desc"),!1):this.doesPetSearchRequestHaveLocation(a)?(c=void 0==a.get("locationLon")||void 0==a.get("locationLat"),a.get("locationLatLonIsCachedFor")!==a.get("location")&&(c=!0),c):!1},g.prototype.doesPetSearchRequestHaveLocation=function(a){var b=a.get("location");return"undefined"!=typeof b},g.prototype.doesPetSearchRequestHaveShelterId=function(a){var b=a.get("shelterId");return"undefined"!=typeof b},g.prototype.getPetsForPetSearchRequestModel=function(b,d,e){this.checkMethod(b,d,e);var f=a.Deferred(),g=this,h=this.needLocationRequest(b);if(this.doesPetSearchRequestHaveShelterId(b));else if(!this.doesPetSearchRequestHaveLocation(b)&&h)return a.Deferred().reject(this.RESPONSES.PET_SEARCH_ERROR_LOCATION_NOT_SET);var i;if(h===!0){var j=b.get("location");i=this.getGeoCodeForLocation(j).then(function(c){return 0===c.result||void 0==c||0===c.length?(f.reject(g.RESPONSES.PET_SEARCH_ERROR_LOCATION),a.Deferred().reject()):(b.set("partialSearch",c[0].partial),b.set("locationLat",c[0].latitude),void b.set("locationLon",c[0].longitude))}).fail(function(){return f.reject(g.RESPONSES.PET_SEARCH_ERROR_LOCATION),a.Deferred().reject()})}else i=this.doesPetSearchRequestHaveLocation(b)||void 0!==b.get("shelterId")||void 0!==b.get("shelterIdLegacy")||void 0!==b.get("queryId")?a.Deferred().resolve():a.Deferred().reject();return i.then(function(){return g.ajaxSearchQuery(b)}).then(function(a){if(void 0==a.results||a.exception_type)return void f.reject(g.RESPONSES.PET_SEARCH_ERROR,a);if(0==a.results||0===a.results.length||void 0==a.results[0].id)return b.set("queryId",a.meta_data.query_id),void f.resolve(g.RESPONSES.PET_SEARCH_RESPONSE_WITHOUT_RESULTS,void 0);b.updateWithRequestResponseMetaData(a.meta_data);var d=new c;d.updateWithJSON(a),f.resolve(g.RESPONSES.PET_SEARCH_RESPONSE_WITH_RESULTS,d)}).fail(function(){"?shelter_id"===window.location.search.split("=")[0]?f.resolve(g.RESPONSES.PET_SEARCH_RESPONSE_WITHOUT_RESULTS,void 0):f.reject(g.RESPONSES.PET_SEARCH_ERROR_LOCATION)}),f},void 0==h&&(h=new g),h}(jQuery,PF["models/petSearchRequestModel"],PF["models/PetSearchResponseModel"],PF["services/ServiceConfiguration"],PF["models/PetModel"],PF["models/SavedSearchesModel"]);var PF=PF||{};PF["services/ShelterService"]=function(a,b,c,d){"use strict";function e(){}var f=void 0;return e.prototype.RESPONSES={SHELTER_SEARCH_RESPONSE_WITH_RESULTS:"SHELTER_SEARCH_RESPONSE_WITH_RESULTS",SHELTER_SEARCH_RESPONSE_WITHOUT_RESULTS:"SHELTER_SEARCH_RESPONSE_WITHOUT_RESULTS",SHELTER_SEARCH_ERROR:"SHELTER_SEARCH_ERROR",SHELTER_SEARCH_ERROR_LOCATION:"SHELTER_SEARCH_ERROR_LOCATION",SHELTER_SEARCH_ERROR_LOCATION_NOT_SET:"SHELTER_SEARCH_ERROR_LOCATION_NOT_SET",SHELTER_CONTACT_SUCCESS:"SHELTER_CONTACT_SUCCESS",SHELTER_CONTACT_ERROR:"SHELTER_CONTACT_ERROR",SHELTER_CONTACT_ERROR_RECAPTCHA_INCORRECT:"SHELTER_CONTACT_ERROR_RECAPTCHA_INCORRECT",SHELTER_CONTACT_ERROR_RECAPTCHA_INVALID_EMAIL:"SHELTER_CONTACT_ERROR_RECAPTCHA_INVALID_EMAIL",SHELTER_TOTAL_SUCCESS:"SHELTER_TOTAL_SUCCESS",SHELTER_TOTAL_ERROR:"SHELTER_TOTAL_ERROR"},e.prototype.contactShelter=function(c,d){var e=this,f=a.Deferred();return c.api_key=b.API_KEY,a.ajax({type:"post",url:"/wp-content/themes/petfinder2013/includes/plugins/reCaptcha_verify.php",data:{privatekey:b.RECAPTCHA_API_KEY,recaptcha_challenge_field:Recaptcha.get_challenge(),recaptcha_response_field:Recaptcha.get_response()},dataType:"json"}).then(function(g){return 1!==g.result?void f.resolve(e.RESPONSES.SHELTER_CONTACT_ERROR_RECAPTCHA_INCORRECT):void a.ajax({type:"post",url:b.REQUEST_BASE_WITH_API_VERSION+"pets/"+d+"/send_email.json",data:c,dataType:"json",contentType:"text/plain"}).done(function(a){return void 0==a.result||1==a.result?f.resolve(e.RESPONSES.SHELTER_CONTACT_SUCCESS,a):f.reject(e.RESPONSES.SHELTER_CONTACT_ERROR,a)})}),f},e.prototype.getShelterTotal=function(){var c=this;return a.ajax({type:"GET",url:b.TOTALS_SHELTER_URL,data:{active:"true",enabled:"true"},dataType:"json",contentType:"text/plain"}).then(function(b){return void 0==b.results||b.exception_type?a.Deferred().reject(c.RESPONSES.SHELTER_TOTAL_ERROR,b):a.Deferred().resolve(c.RESPONSES.SHELTER_TOTAL_SUCCESS,b)})},e.prototype.getShelterWithId=function(c){var e=this;return a.ajax({url:b.SHELTER_SEARCH_URL,type:"post",dataType:"json",data:{query:JSON.stringify({shelter_id:c}),api_key:b.API_KEY},contentType:"text/plain"}).then(function(b){if(void 0==b.results||0==b.results.length)return a.Deferred().resolve(e.RESPONSES.SHELTER_SEARCH_RESPONSE_WITHOUT_RESULTS,void 0);var c=new d;return c.updateWithJSON(b.results[0]),a.Deferred().resolve(e.RESPONSES.SHELTER_SEARCH_RESPONSE_WITH_RESULTS,c)})},e.prototype.getSheltersForShelterSearchModel=function(e){var f,g=this,h=e.get("location"),i=void 0!=e.get("searchByState"),j=a.Deferred();return f=i===!1&&void 0!=h?c.getGeoCodeForLocation(h).then(function(a){return void 0==a||0==a.length?(j.reject(g.RESPONSES.SHELTER_SEARCH_ERROR_LOCATION),f.reject()):(e.set("locationLat",a[0].latitude),void e.set("locationLon",a[0].longitude))}):a.Deferred().resolve(),f.then(function(){var c={query:JSON.stringify(e.getAllValuesAsObject())};return a.extend(c,{api_key:b.API_KEY}),a.ajax({url:b.SHELTER_SEARCH_URL,type:"post",dataType:"json",data:c,contentType:"text/plain"})}).then(function(a){if(void 0==a.results||a.exception_type)return void j.reject(g.RESPONSES.SHELTER_SEARCH_ERROR,a);if(0===a.results.length)return void j.resolve(g.RESPONSES.SHELTER_SEARCH_RESPONSE_WITHOUT_RESULTS,void 0);for(var b=[],c=0;c<a.results.length;c++){var e=new d;e.updateWithJSON(a.results[c]),b.push(e.getAllValuesAsObject())}return j.resolve(g.RESPONSES.SHELTER_SEARCH_RESPONSE_WITH_RESULTS,b,a.meta_data.total_results)}),j},void 0==f&&(f=new e),f}(jQuery,PF["services/ServiceConfiguration"],PF["services/PetSearchService"],PF["models/ShelterModel"]);var PF=PF||{};PF["services/VideoService"]=function(a,b,c){"use strict";function d(){}var e=void 0;return d.prototype.RESPONSES={VIDEO_RESPONSE_SUCCESS:"VIDEO_RESPONSE_SUCCESS",VIDEO_RESPONSE_ERROR:"VIDEO_RESPONSE_ERROR",VIDEO_RESPONSE_WITHOUT_RESULTS:"VIDEO_RESPONSE_WITHOUT_RESULTS"},d.prototype.getVideosForVideoSearchModel=function(b){var c=this,d=b.getAllValuesAsObject(),e="https://www.petfinder.com/svcs/jsonp.pl";return a.ajax({url:e,data:d,dataType:"jsonp",processData:!0}).then(function(b){return void 0==b.results?a.Deferred().reject(c.RESPONSES.VIDEO_RESPONSE_ERROR,b):0==b.results.length?a.Deferred().resolve(c.RESPONSES.VIDEO_RESPONSE_WITHOUT_RESULTS,b):a.Deferred().resolve(c.RESPONSES.VIDEO_RESPONSE_SUCCESS,b)})},d.prototype.fetchVideo=function(b){var c=a.Deferred();return this.fetchVideoJSON(b).done(this.onFetchVideoDone.bind(this,c)).fail(this.onFetchVideoFail.bind(this,c)),c.promise()},d.prototype.onFetchVideoDone=function(a,c,d,e){if(c.length>0){var f=new b;f.updateWithJSON(c[0]),a.resolve(f)}else a.reject()},d.prototype.onFetchVideoFail=function(a,b,c,d){a.reject()},d.prototype.fetchVideoJSON=function(b){return a.ajax({url:c.VIDEO_URL,data:{ws_uri:encodeURIComponent(c.VIDEO_SEARCH_URL+window.location.search)},dataType:"jsonp",processData:!0})},void 0==e&&(e=new d),e}(jQuery,PF["models/VideoModel"],PF["services/ServiceConfiguration"]);var PF=PF||{};PF["services/UserService"]=function(a,b){"use strict";function c(){}var d=void 0;return c.prototype.RESPONSES={COUNTRIES_INVALID:"COUNTRIES_INVALID",COUNTRIES_VALID:"COUNTRIES_VALID",USER_REGISTRATION_FAILED:"USER_REGISTRATION_FAILED",USER_REGISTRATION_SUCCESSFUL:"USER_REGISTRATION_SUCCESSFUL",LOGIN_FAILED:"LOGIN_FAILED",LOGIN_SUCCESSFUL:"LOGIN_SUCCESSFUL",USER_ALERTS_SUCCESS:"USER_ALERTS_SUCCESS",USER_ALERTS_FAIL:"USER_ALERTS_FAIL"},c.prototype.loginUser=function(b){var c=this;return a.ajax({type:"POST",url:"/user/login_check",data:b,dataType:"json"}).then(function(b){return"true"!=b.success?a.Deferred().reject(c.RESPONSES.USER_SESSION_NOT_LOGGED_IN,b):a.Deferred().resolve(c.RESPONSES.USER_SESSION_VALID,b)})},c.prototype.registerUser=function(b){var c=this;return a.ajax({type:"POST",url:"/user/register",data:b,dataType:"json"}).then(function(b){return"true"!=b.success?a.Deferred().reject(c.RESPONSES.USER_REGISTRATION_FAILED):a.Deferred().resolve(c.RESPONSES.USER_REGISTRATION_SUCCESSFUL,b)})},c.prototype.getCountryList=function(){var b=this;return a.ajax({type:"GET",url:"/user/api/countries",dataType:"json"}).then(function(c){var d=c.countries;return null===d||void 0===d?a.Deferred().reject(b.RESPONSES.COUNTRIES_INVALID):a.Deferred().resolve(b.RESPONSES.COUNTRIES_VALID,d)})},c.prototype.getUserAlerts=function(){var b=this;return a.ajax({type:"GET",url:"/user/api/dya-details",dataType:"json"}).then(function(c){return null===c||void 0===c?a.Deferred().reject(b.RESPONSES.USER_ALERTS_FAIL):a.Deferred().resolve(b.RESPONSES.USER_ALERTS_SUCCESS,c)})},void 0==d&&(d=new c),d}(jQuery,PF["services/ServiceConfiguration"]);var PF=PF||{};PF["utils/BreakpointHelper"]=function(a){"use strict";function b(){return this.init()}return b.prototype.init=function(){return this.setBP().setupHandlers().enable()},b.prototype.getBP=function(){return this.currentBP},b.prototype.setupHandlers=function(){return this.onResizeHandler=this.onResize.bind(this),this},b.prototype.setBP=function(){var b=this.currentBP;return this.currentBP=window.getComputedStyle(document.getElementsByTagName("body")[0],":before").getPropertyValue("content"),this.currentBP=this.currentBP.replace(/"/g,""),b!=this.currentBP&&b&&a(document).trigger("BreakpointHelper.BPChange"),!this.currentBP,this},b.prototype.enable=function(){return this.currentSize=a(window).width(),a(window).on("resize",this.onResizeHandler),this},b.prototype.disable=function(){return a(window).off("resize",this.onResizeHandler),this},b.prototype.onResize=function(){var b=a(window).width();return b!==this.currentSize&&(this.currentSize=a(window).width(),a(document).trigger("BreakpointHelper.WindowChange"),this.setBP()),this},b}(jQuery);var PF=PF||{};PF["views/View"]=function(a,b){"use strict";function c(){this.getEl=function(){return this._$el},this.setEl=function(a){return this._$el=a,this},this.getIsEnabled=function(){return this._isEnabled},this.setIsEnabled=function(a){return this._isEnabled=a,this}}return c.prototype.init=function(){return this.setupHandlers().createChildren().enable()},c.prototype.setupHandlers=function(){return this},c.prototype.createChildren=function(){return this},c.prototype.enable=function(){return this._isEnabled!==!0?(this._isEnabled=!0,this):void 0},c.prototype.disable=function(){return this._isEnabled=!1,this},c}(jQuery);var PF=PF||{};PF["views/VideoPlayer"]=function(a){
"use strict";function b(a,b){this.CONSTANTS={},this.CONSTANTS.SELECTOR_VIDEO_PLAYER=".js-video-player",this.CONSTANTS.DATA_VIDEO_AD_TAG="video-ad-tag",this.CONSTANTS.JW_PLAYER_KEY="m5zXQH0V9lxq4z2lKX56mKjDd9fJQq3+sOPSDA==",this.CONSTANTS.VIDEO_WIDTH="100%",this.CONSTANTS.VIDEO_HEIGHT=355,this.CONSTANTS.VIDEO_ASPECTRATIO="16:9",this.CONSTANTS.VIDEO_URL="https://d3fenhwk93s16g.cloudfront.net/",this.CONSTANTS.FORMATS=["mp4","webm","flv"],this.init(a,b)}var c=b.prototype;return c.init=function(a,b){return this.$element=a,this.video=b,this.isAdEnabled="undefined"!==this.$element.data(this.CONSTANTS.DATA_VIDEO_AD_TAG),this.adTag=this.$element.data(this.CONSTANTS.DATA_VIDEO_AD_TAG)+"&url="+encodeURI(window.location.href)+"&correlator="+(new Date.now).getTime(),this.setupPlayer(b),this},c.buildSources=function(a){var b=0,c=[];for(b;b<this.CONSTANTS.FORMATS.length;b++){var d="/"+this.CONSTANTS.FORMATS[b]+"."+this.CONSTANTS.FORMATS[b];c.push({file:this.CONSTANTS.VIDEO_URL+a.id+d})}return c},c.buildPoster=function(a){return"//vid.ly/"+a.id+"/poster"},c.buildPlayerConfig=function(a){var b={width:this.CONSTANTS.VIDEO_WIDTH,height:this.CONSTANTS.VIDEO_HEIGHT,aspectratio:this.CONSTANTS.VIDEO_ASPECTRATIO,playlist:[{image:this.buildPoster(a),sources:this.buildSources(a)}]};return this.isAdEnabled&&(b.advertising={client:"googima",tag:this.adTag}),b},c.setupCompleteListener=function(b,c){var d=this;a("html").hasClass("ie9")&&b.onComplete(function(){d.isAdEnabled=!1,b.setup(d.buildPlayerConfig(c))})},c.setupPlayer=function(a){var b=this.$element.find(this.CONSTANTS.SELECTOR_VIDEO_PLAYER).attr("id"),c=jwplayer(b);jwplayer.key=this.CONSTANTS.JW_PLAYER_KEY;var d=c.setup(this.buildPlayerConfig(a));this.setupCompleteListener(d,a)},b}(jQuery);var PF=PF||{};PF["views/VideoView"]=function(a,b,c,d){"use strict";function e(){this.CONSTANTS={},this.CONSTANTS.SELECTOR_VIDEO_PLAYER="js-video-player",this.CONSTANTS.SELECTOR_THROBBER="js-video-throbber",this.CONSTANTS.DATA_VIDEO_AD_TAG="video-ad-tag",this.CONSTANTS.TEMPLATE_MARKUP='<h1 class="nrd-video-title">{{title}}</h1><div class="nrd-video-player"><div id="js-video-player" class="js-video-player"></div></div><p class="nrd-video-description">{{description}}</p>',this.CONSTANTS.THROBBER_MARKUP='<div class="nrd-video-throbber '+this.CONSTANTS.SELECTOR_THROBBER+'"></div>',this.CONSTANTS.MSG_ERROR="There was an error loading your video.  Please refresh the page to try again."}e.prototype=new b,e.prototype.constructor=e,e.prototype._super=b.prototype;var f=e.prototype;return f.init=function(){return this._super.init.call(this),this.$element=this.getEl(),this.template=Handlebars.compile(this.CONSTANTS.TEMPLATE_MARKUP),this.adTag=this.$element.data(this.CONSTANTS.DATA_VIDEO_AD_TAG)+"&url="+encodeURI(window.location.href)+"&correlator="+(new Date.now).getTime(),this},f.setupHandlers=function(){return this._super.setupHandlers.call(this),this.onFetchVideoFailHandler=this.onFetchVideoFail.bind(this),this.onFetchVideoDoneHandler=this.onFetchVideoDone.bind(this),this.onFetchVideoCompleteHandler=this.onFetchVideoComplete.bind(this),this},f.update=function(){this.$element.append(this.CONSTANTS.THROBBER_MARKUP),c.fetchVideo().then(this.onFetchVideoDoneHandler,this.onFetchVideoFailHandler).always(this.onFetchVideoCompleteHandler)},f.renderTemplate=function(a){return this.$element.append(this.template(a)),this},f.initializeVideoPlayer=function(a){try{new d(this.$element,a)}catch(b){this.displayErrorMsg()}},f.displayErrorMsg=function(){this.$element.text(this.CONSTANTS.MSG_ERROR)},f.onFetchVideoDone=function(a){this.renderTemplate(a).initializeVideoPlayer(a)},f.onFetchVideoFail=function(){this.displayErrorMsg()},f.onFetchVideoComplete=function(){this.$element.find(this.CONSTANTS.SELECTOR_THROBBER).hide()},e}(jQuery,PF["views/View"],PF["services/VideoService"],PF["views/VideoPlayer"]);var PF=PF||{};PF["views/BackToTopView"]=function(a,b,c){"use strict";function d(){new c;this.setEl(a(".js-backToTop"))}var e={CLASSES:{HIDDEN:"backToTop_isHidden",LOCK:"backToTop_footerLatch"},SELECTORS:{BEACON:".js-backToTop-beacon"},MIN_SCROLL_DISTANCE:1e3};return d.prototype=new b,d.prototype.constructor=d,d.prototype.createChildren=function(){return this.$element=this.getEl(),this.$beacon=this.$element.find(e.SELECTORS.BEACON),this.$window=a(window),this},d.prototype.setupHandlers=function(){return this._onWindowScrollHandler=a.proxy(this._onWindowScroll,this),this._onClickHandler=a.proxy(this._onClick,this),this._onWindowChangeHandler=a.proxy(this._onWindowChange,this),this},d.prototype.enable=function(){return this.getIsEnabled()!==!0?(this.$element.on("click",this._onClickHandler),a(document).on("BreakpointHelper.BPChange",this._onWindowChangeHandler),this.elementIsHidden=!0,this.isMobile=!1,this.scrollListenerIsActive=!1,this.isLockedToFooter=!1,this.checkWindowWidth(),this.setIsEnabled(!0),this):void 0},d.prototype.disable=function(){return this.$element.on("click",this._onClickHandler),a(document).on("BreakpointHelper.BPChange",this._onWindowChangeHandler),this.detachScrollListener(),this.unlockFromFooter(),this.hideElement(),this.setIsEnabled(!1),this},d.prototype.attachScrollListener=function(){return this.scrollListenerIsActive?void 0:(this.$window.on("scroll",this._onWindowScrollHandler),this.scrollListenerIsActive=!0,this)},d.prototype.detachScrollListener=function(){return this.$window.off("scroll",this._onWindowScrollHandler),this.scrollListenerIsActive=!1,this},d.prototype.checkWindowWidth=function(){this.isMobile=this.$element.is(":visible"),this.isMobile?this.attachScrollListener():this.detachScrollListener()},d.prototype.isWithinScrollRange=function(){return this.$window.scrollTop()>e.MIN_SCROLL_DISTANCE},d.prototype.isWithinFooterRange=function(){var a=this.$element.offset(),b=this.$beacon.offset();return b.top>=a.top},d.prototype.showElement=function(){this.$element.removeClass(e.CLASSES.HIDDEN),this.elementIsHidden=!1},d.prototype.hideElement=function(){this.$element.addClass(e.CLASSES.HIDDEN),this.elementIsHidden=!0},d.prototype.lockToFooter=function(){this.$element.addClass(e.CLASSES.LOCK),this.isLockedToFooter=!0},d.prototype.unlockFromFooter=function(){this.$element.removeClass(e.CLASSES.LOCK),this.isLockedToFooter=!1},d.prototype.scrollToTop=function(){this.$window.scrollTop(0)},d.prototype._onClick=function(){this.scrollToTop()},d.prototype._onWindowScroll=function(){var a=this.isWithinScrollRange(),b=this.isWithinFooterRange();a&&this.elementIsHidden?this.showElement():a||this.elementIsHidden||this.hideElement(),b&&!this.isLockedToFooter?this.lockToFooter():!b&&this.isLockedToFooter&&this.unlockFromFooter()},d.prototype._onWindowChange=function(){this.checkWindowWidth()},d}(jQuery,PF["views/View"],PF["utils/BreakpointHelper"]);var PF=PF||{};PF["views/PasswordValidatorView"]=function(a,b,c){"use strict";function d(){}return d.prototype=new b,d.prototype.constructor=d,d.prototype.passwordIsValid=!1,d.prototype._isElFocused=!1,d.prototype._serverValidationRulesUrl=c.PASSWORD_VALIDATION_BASE+"users/password-policy.json?api_key="+c.API_KEY,d.prototype._$popOverEl=null,d.prototype._$usernameInputEl=null,d.prototype._userNamePasswordCompareMessage="Email address and password cannot be similar.",d.prototype._hasServerValidationRules=!1,d.prototype._currentPasswordComplexity=0,d.prototype._meterRatings=[{minValue:0,message:"Password does not meet the requirements",color:"#FF0000"},{minValue:83,message:"Good Password",color:"#00FF00"},{minValue:100,message:"Very Strong Password",color:"#00FF00"}],d.prototype._rules=[{message:"Must be at least 8 characters.",regex:".{8}",valid:!1},{message:"capital letters",regex:".*[A-Z]",valid:!1},{message:"lowercase letters",regex:".*[a-z]",valid:!1},{message:"special characters",regex:".*[-`~!@#$%^&*()_=+{}\\[\\]|\\;:'\",.<>\\/?]",valid:!1},{message:"numbers",regex:".*\\d",valid:!1}],d.prototype.createChildren=function(){return this._$popOverEl=a("<div>").addClass("form-passwordValidation-popover"),this._getServerValidationRules(),this},d.prototype.setupHandlers=function(){return this._onKeyUpHandler=a.proxy(this._onKeyUp,this),this._onBlurHandler=a.proxy(this._onBlur,this),this._onScrollHandler=a.proxy(this._onScroll,this),this._onUsernameKeyUpHandler=a.proxy(this._onUsernameKeyUp,this),this},d.prototype.enable=function(){return this.getIsEnabled()!==!0?(this.getEl().on("keyup",this._onKeyUpHandler),this._$usernameInputEl.on("keyup",this._onUsernameKeyUpHandler),this.getEl().on("focus",this._onKeyUpHandler),this.getEl().on("blur",this._onBlurHandler),a(".fancybox-overlay").on("scroll",this._onScrollHandler),a(window).on("resize",this._onScrollHandler),this.getEl().after(this._$popOverEl),this.setIsEnabled(!0),this):void 0},d.prototype.disable=function(){return this.setIsEnabled(!1),this.getEl().off("keyup",this._onKeyUpHandler),this._$usernameInputEl.off("keyup",this._onUsernameKeyUpHandler),this.getEl().off("focus",this._onKeyUpHandler),this.getEl().off("blur",this._onBlurHandler),a(".fancybox-overlay").off("scroll",this._onScrollHandler),a(window).off("resize",this._onScrollHandler),this._$popOverEl.remove(),this},d.prototype.setUsername=function(b){return this._$usernameInputEl=a(document.createElement("input")),this._$usernameInputEl.val(b),this},d.prototype.setUsernameInputEl=function(a){return this._$usernameInputEl=a,this},d.prototype._onKeyUp=function(b){this._isElFocused=!0;var c=a(b.currentTarget);this._validate(c.val())},d.prototype._onBlur=function(a){this._isElFocused=!1,this._$popOverEl.hide()},d.prototype._onScroll=function(a){this._updatePopoverPosition()},d.prototype._onUsernameKeyUp=function(a){},d.prototype._validate=function(a){var b=this._validatePasswordAgainstRules(a,this._rules);this.getEl().val().length>=8?this.passwordIsValid=4===b||5===b:this.passwordIsValid=!1,this._updatePopover()},d.prototype._validatePasswordAgainstRules=function(a,b){for(var c=0,d=0;d<b.length;d++){var e=b[d];if(void 0!=e.rules)this._validatePasswordAgainstRules(a,e.rules)>=e.rulesRequired?(e.valid=!0,c++):e.valid=!1;else{if(void 0!=e.isUserNameCompareRule){var f=this._$usernameInputEl.val().toLowerCase(),g=a.toLowerCase();if(""===f&&""!=g){e.valid=!0,c++;continue}-1===f.indexOf(g)&&-1===g.indexOf(f)?(e.valid=!0,c++):e.valid=!1;continue}if(void 0==e.regex)throw new Error("Password Validator: rules must have regex or sub rules");void 0!=a.match(e.regex)?(e.valid=!0,c++):e.valid=!1}}return c},d.prototype._getServerValidationRules=function(){return this._hasServerValidationRules=!0,this._updatePopover(),this},d.prototype._setServerValidationRules=function(a){var b={message:a.length.message,regex:".{"+(a.length.maximum&&a.length.minimum<a.length.maximum?a.length.minimum+","+a.length.maximum:a.length.minimum)+"}",valid:!1},c=[];for(var d in a.checks){var e=a.checks[d];c.push({message:e.message,regex:e.regex,valid:!1})}var f={message:a.checks_required+" of "+c.length+" of the following are required.",rulesRequired:a.checks_required,valid:!1,rules:c},g={message:a.contains_message,valid:!1,isUserNameCompareRule:!0},h={message:"Password requires",rulesRequired:3,valid:!1,rules:[b,g,f]};return void 0==this._$usernameInputEl&&(h.rulesRequired=2,h.rules=[b,f]),this._rules=[h],this._hasServerValidationRules=!0,this},d.prototype._updatePopover=function(){if(this._isElFocused!==!1&&this._hasServerValidationRules!==!1){this._$popOverEl.empty().show();var b=a("<ul>").addClass("form-passwordValidation-ruleSet");this._updatePopoverDOM(b,this._rules);var c=a("<p>").addClass("form-passwordValidation-header"),d=a("<span>").addClass("form-passwordValidation-header-isValid");return this.passwordIsValid===!0?(d.text("Valid!").addClass("valid"),this._$popOverEl.addClass("isValid")):(d.text("Invalid"),c.removeClass("valid"),a(".form-passwordValidation-popover").removeClass("passwordIsValid"),this._$popOverEl.removeClass("isValid")),c.append(d),this._$popOverEl.append(c),this._$popOverEl.append(b),this._updatePopoverPosition(),this}},d.prototype._updatePopoverDOM=function(b,c){for(var d=0;d<c.length;d++){var e=c[d],f=a("<li>"+e.message+"</li>").addClass("form-passwordValidation-rule");if(e.valid===!0&&f.addClass("valid"),b.append(f),void 0!=e.rules){f.addClass("form-passwordValidation-compoundRule");var g=a("<li>"),h=a("<ul>").addClass("form-passwordValidation-ruleSet");g.append(h),this._updatePopoverDOM(h,e.rules),b.append(h)}}return b.find(".form-passwordValidation-rule").eq(0).after('<li class="form-passwordValidation-separator">Must contain 3 of 4 of the following:</li>'),this},d.prototype._updatePopoverPosition=function(){return this._$popOverEl.css({}),this},d.prototype._calculatePasswordComplexity=function(){for(var a=this.getEl().val(),b=a.length>=8?20:0,c=60,d=[[48,57],[65,90],[97,122],[33,47],[58,64],[91,96],[123,65533]],e=0,f=d.length;f>e;++e)for(var g=0,h=a.length;h>g;++g)if(d[e][0]<=a.charCodeAt(g)&&a.charCodeAt(g)<=d[e][1]){b+=10;break}return this._currentPasswordComplexity=b/c,this},d.prototype.isPasswordValid=function(){return this.passwordIsValid},d}(jQuery,PF["views/View"],PF["services/ServiceConfiguration"]);var PF=PF||{};PF["views/FormValidationView"]=function(a,b,c,d){"use strict";function e(){}return e.prototype=new b,e.prototype.constructor=e,e.prototype.formIsValid,e.prototype._rules={email:/^(?:[a-zA-Z0-9\+!#$%&'*/=?^_`{|}~-]+(?:\.[a-zA-Z0-9\+!#$%&'*/=?^_`{|}~-]+)*|""(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*"")@(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-zA-Z0-9-]*[a-zA-Z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i,phoneNumber:/^\d{10}$/},e.prototype._patternRules={GB:/^(GIR[ ]?0AA|((AB|AL|B|BA|BB|BD|BH|BL|BN|BR|BS|BT|CA|CB|CF|CH|CM|CO|CR|CT|CV|CW|DA|DD|DE|DG|DH|DL|DN|DT|DY|E|EC|EH|EN|EX|FK|FY|G|GL|GY|GU|HA|HD|HG|HP|HR|HS|HU|HX|IG|IM|IP|IV|JE|KA|KT|KW|KY|L|LA|LD|LE|LL|LN|LS|LU|M|ME|MK|ML|N|NE|NG|NN|NP|NR|NW|OL|OX|PA|PE|PH|PL|PO|PR|RG|RH|RM|S|SA|SE|SG|SK|SL|SM|SN|SO|SP|SR|SS|ST|SW|SY|TA|TD|TF|TN|TQ|TR|TS|TW|UB|W|WA|WC|WD|WF|WN|WR|WS|WV|YO|ZE)(\d[\dA-Z]?[ ]?\d[ABD-HJLN-UW-Z]{2}))|BFPO[ ]?\d{1,4})$/,JE:/^(JE\d[\dA-Z]?[ ]?\d[ABD-HJLN-UW-Z]{2})$/,GG:/^(GY\d[\dA-Z]?[ ]?\d[ABD-HJLN-UW-Z]{2})$/,IM:/^(IM\d[\dA-Z]?[ ]?\d[ABD-HJLN-UW-Z]{2})$/,US:/^(\d{5}([ \-]?\d{4})?)$/,CA:/^([ABCEGHJKLMNPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][ ]?\d[ABCEGHJ-NPRSTV-Z]\d)$/,DE:/^(\d{5})$/,JP:/^(\d{3}-\d{4})$/,FR:/^(\d{2}[ ]?\d{3})$/,AU:/^(\d{4})$/,IT:/^(\d{5})$/,CH:/^(\d{4})$/,AT:/^(\d{4})$/,ES:/^(\d{5})$/,NL:/^(\d{4}[ ]?[A-Z]{2})$/,BE:/^(\d{4})$/,DK:/^(\d{4})$/,SE:/^(\d{3}[ ]?\d{2})$/,NO:/^(\d{4})$/,BR:/^(\d{5}[\-]?\d{3})$/,PT:/^(\d{4}([\-]\d{3})?)$/,FI:/^(\d{5})$/,AX:/^(22\d{3})$/,KR:/^(\d{3}[\-]\d{3})$/,CN:/^(\d{6})$/,TW:/^(\d{3}(\d{2})?)$/,SG:/^(\d{6})$/,DZ:/^(\d{5})$/,AD:/^(AD\d{3})$/,AR:/^(([A-HJ-NP-Z])?\d{4}([A-Z]{3})?)$/,AM:/^((37)?\d{4})$/,AZ:/^(\d{4})$/,BH:/^(((1[0-2]|[2-9])\d{2})?)$/,BD:/^(\d{4})$/,BB:/^((BB\d{5})?)$/,BY:/^(\d{6})$/,BM:/^([A-Z]{2}[ ]?[A-Z0-9]{2})$/,BA:/^(\d{5})$/,IO:/^(BBND 1ZZ)$/,BN:/^([A-Z]{2}[ ]?\d{4})$/,BG:/^(\d{4})$/,KH:/^(\d{5})$/,CV:/^(\d{4})$/,CL:/^(\d{7})$/,CR:/^(\d{5}([ \-]?\d{4})?)$/,HR:/^(\d{5})$/,CY:/^(\d{4})$/,CZ:/^(\d{3}[ ]?\d{2})$/,DO:/^(\d{5})$/,EC:/^(([A-Z]\d{4}[A-Z]|(?:[A-Z]{2})?\d{6})?)$/,EG:/^(\d{5})$/,EE:/^(\d{5})$/,FO:/^(\d{3})$/,GE:/^(\d{4})$/,GR:/^(\d{3}[ ]?\d{2})$/,GL:/^(39\d{2})$/,GT:/^(\d{5})$/,HT:/^(\d{4})$/,HN:/^((?:\d{5})?)$/,HU:/^(\d{4})$/,IS:/^(\d{3})$/,IN:/^(\d{6})$/,ID:/^(\d{5})$/,IL:/^(\d{5})$/,JO:/^(\d{5})$/,KZ:/^(\d{6})$/,KE:/^(\d{5})$/,KW:/^(\d{5})$/,LA:/^(\d{5})$/,LV:/^(\d{4})$/,LB:/^((\d{4}([ ]?\d{4})?)?)$/,LI:/^((948[5-9])|(949[0-7]))$/,LT:/^(\d{5})$/,LU:/^(\d{4})$/,MK:/^(\d{4})$/,MY:/^(\d{5})$/,MV:/^(\d{5})$/,MT:/^([A-Z]{3}[ ]?\d{2,4})$/,MU:/^((\d{3}[A-Z]{2}\d{3})?)$/,MX:/^(\d{5})$/,MD:/^(\d{4})$/,MC:/^(980\d{2})$/,MA:/^(\d{5})$/,NP:/^(\d{5})$/,NZ:/^(\d{4})$/,NI:/^(((\d{4}-)?\d{3}-\d{3}(-\d{1})?)?)$/,NG:/^((\d{6})?)$/,OM:/^((PC )?\d{3})$/,PK:/^(\d{5})$/,PY:/^(\d{4})$/,PH:/^(\d{4})$/,PL:/^(\d{2}-\d{3})$/,PR:/^(00[679]\d{2}([ \-]\d{4})?)$/,RO:/^(\d{6})$/,RU:/^(\d{6})$/,SM:/^(4789\d)$/,SA:/^(\d{5})$/,SN:/^(\d{5})$/,SK:/^(\d{3}[ ]?\d{2})$/,SI:/^(\d{4})$/,ZA:/^(\d{4})$/,LK:/^(\d{5})$/,TJ:/^(\d{6})$/,TH:/^(\d{5})$/,TN:/^(\d{4})$/,TR:/^(\d{5})$/,TM:/^(\d{6})$/,UA:/^(\d{5})$/,UY:/^(\d{5})$/,UZ:/^(\d{6})$/,VA:/^(00120)$/,VE:/^(\d{4})$/,ZM:/^(\d{5})$/,AS:/^(96799)$/,CC:/^(6799)$/,CK:/^(\d{4})$/,RS:/^(\d{6})$/,ME:/^(8\d{4})$/,CS:/^(\d{5})$/,YU:/^(\d{5})$/,CX:/^(6798)$/,ET:/^(\d{4})$/,FK:/^(FIQQ 1ZZ)$/,NF:/^(2899)$/,FM:/^((9694[1-4])([ \-]\d{4})?)$/,GF:/^(9[78]3\d{2})$/,GN:/^(\d{3})$/,GP:/^(9[78][01]\d{2})$/,GS:/^(SIQQ 1ZZ)$/,GU:/^(969[123]\d([ \-]\d{4})?)$/,GW:/^(\d{4})$/,HM:/^(\d{4})$/,IQ:/^(\d{5})$/,KG:/^(\d{6})$/,LR:/^(\d{4})$/,LS:/^(\d{3})$/,MG:/^(\d{3})$/,MH:/^(969[67]\d([ \-]\d{4})?)$/,MN:/^(\d{6})$/,MP:/^(9695[012]([ \-]\d{4})?)$/,MQ:/^(9[78]2\d{2})$/,NC:/^(988\d{2})$/,NE:/^(\d{4})$/,VI:/^(008(([0-4]\d)|(5[01]))([ \-]\d{4})?)$/,PF:/^(987\d{2})$/,PG:/^(\d{3})$/,PM:/^(9[78]5\d{2})$/,PN:/^(PCRN 1ZZ)$/,PW:/^(96940)$/,RE:/^(9[78]4\d{2})$/,SH:/^((ASCN|STHL) 1ZZ)$/,SJ:/^(\d{4})$/,SO:/^(\d{5})$/,SZ:/^([HLMS]\d{3})$/,TC:/^(TKCA 1ZZ)$/,WF:/^(986\d{2})$/,XK:/^(\d{5})$/,YT:/^(976\d{2})$/},e.prototype.createChildren=function(){return this.$form=this.getEl(),this.$input=this.$form.find(".js-inputValidation"),this.$error=this.$form.find(".error"),this.$li=this.$form.find("li"),this.$postalCodeInput=this.$form.find(".js-postalValidator"),this.$countrySelect=this.$form.find(".js-countryValidator"),this.$passwordInput=this.$form.find(".js-register-password"),this},e.prototype.setupHandlers=function(){return this.onBlurHandler=a.proxy(this.onBlur,this),this.onChangeHandler=a.proxy(this.onChange,this),this.onSubmitHandler=a.proxy(this.onSubmit,this),this},e.prototype.enable=function(){if(this.getIsEnabled()!==!0){return this.zipInteractedWith=!1,this.$form.on("click",".js-finalSubmit",this.onSubmitHandler),this.$form.on("blur",".js-inputValidation",this.onBlurHandler),this.$countrySelect.on("change",this.onChangeHandler),this.setIsEnabled(!0),this}},e.prototype.disable=function(){return this.setIsEnabled(!1),this.$form.off("blur",".js-inputValidation",this.onBlurHandler),this.$form.off("click",".js-finalSubmit",this.onSubmitHandler),this},e.prototype.validate=function(){},e.prototype.testType=function(a){var b;switch(a){case"tel":b=this._rules.phoneNumber}return b},e.prototype.checkFieldValidity=function(a){if(a.hasClass("js-confirmPassword"))this.confirmPasswordMatch(a);else if(this.inputHasValue(a)||a.hasClass("js-postalValidator"))switch(!0){case a.hasClass("js-countryValidator"):this.zipInteractedWith&&this.checkpostalCode(a),""!==a.val()?this.hideError(a):this.showError(a);break;case a.hasClass("js-postalValidator"):this.zipInteractedWith=!0,this.checkpostalCode(a);break;case a.hasClass("js-register-password"):this.checkPasswordValidity(a);break;default:this.hideError(a)}else this.showError(a)},e.prototype.checkPasswordValidity=function(a){this.hideError(a);var b=a.val();if(""==b)this.showError(a);else if(!this.passwordValidationView.isPasswordValid()){var c=a.closest("li");c.addClass("invalid"),this.showError(a)}return this},e.prototype.checkpostalCode=function(){var a=this.$countrySelect.val(),b=this.$postalCodeInput.val();""==a&&""==b?this.showError(this.$postalCodeInput):this.isPostalCodeValidForCountry(a,b)?this.hideError(this.$postalCodeInput):this.showError(this.$postalCodeInput)},e.prototype.confirmPasswordMatch=function(b){var c=a("#password").val(),d=a("#password-confirm").val(),e=b.closest("li");e.find(".error");""==d?(e.addClass("invalid"),this.showError(b)):c!=d?(e.addClass("invalid"),this.showError(b)):(e.removeClass("invalid"),this.hideError(b))},e.prototype.hideError=function(a){var b=a.closest("li");b.removeClass("invalid"),b.find(".error").hide()},e.prototype.showError=function(a){var b=a.closest("li");b.addClass("invalid");var c=b.find(".error"),d="";switch(!0){case a.hasClass("js-registrationModal-input_firstName"):d="This value should not be empty.";break;case a.hasClass("js-registrationModal-input_lastName"):d="This value should not be empty.";break;case a.hasClass("js-registrationModal-input_country"):d="This value should not be empty.";break;case a.hasClass("js-registrationModal-input_zip"):d=a.val().length>0?"The postal code is invalid for the country selected.":"This value should not be empty.";break;case a.hasClass("js-registrationModal-input_email"):d="This value should not be empty.";break;case a.hasClass("js-registrationModal-input_password"):d=a.val().length>0?"To keep your account secure, your new password must be at least 8 characters long and contain a minimum of 3 of the following: 1 number, 1 lowercase letter, 1 uppercase letter or 1 special character.":"Password is required.";break;case a.hasClass("js-registrationModal-input_passwordConfirm"):d=a.val().length>0?"The password fields must match.":"Password confirmation is required.";break;default:d="This field has an error."}c.text(d),c.show()},e.prototype.inputHasValue=function(a){return""!=a.val()},e.prototype.onBlur=function(b){b.preventDefault();var c=a(b.currentTarget);this.checkFieldValidity(c)},e.prototype.onChange=function(b){b.preventDefault();var c=a(b.currentTarget);this.checkFieldValidity(c)},e.prototype.onSubmit=function(b){var c=0;for(this.zipInteractedWith=!0;this.$input.length>c;c++)this.checkFieldValidity(a(this.$input[c]))},e.prototype.isValid=function(){for(var b=0;this.$input.length>b;b++)this.checkFieldValidity(a(this.$input[b]));return this.$form.find("li.invalid").length>0?this.formIsValid=!1:(this.formIsValid=!0,this.formIsValid)},e.prototype.addError=function(b){var c=b.data("field_name");a(".error").append("<div>"+c+" is not valid. Please enter a 10-digit number without letters or punctuation.</div>")},e.prototype.isPostalCodeValidForCountry=function(a,b){var c=b.toUpperCase();return"undefined"==typeof this._patternRules[a]?!0:null!==this._patternRules[a].exec(c)},e.prototype.initializePasswordValidationView=function(){this.passwordValidationView=new c,this.passwordValidationView.setEl(this.$passwordInput).setUsernameInputEl(a(".js-register-email")).init()},e}(jQuery,PF["views/View"],PF["views/PasswordValidatorView"],PF["services/ServiceConfiguration"]);var PF=PF||{};PF["views/modals/ModalView"]=function(a,b,c){"use strict";function d(){}d.prototype=new b,d.prototype.constructor=d;var e=(b.prototype,d.prototype);return e.createChildren=function(){return this.$document=a(document),this.$modalRoot=a(".js-modal"),this.$modalOverlay=this.$modalRoot.find(".js-modal-overlay"),this.$modalSpinner=this.$modalRoot.find(".js-modal-spinner"),this.$modalContent=this.$modalRoot.find(".js-modal-content"),this},e.setupHandlers=function(){return this.onGetDoneHandler=this.onGetDone.bind(this),this.onGetFailHandler=this.onGetFail.bind(this),this.onGetAlwaysHandler=this.onGetAlways.bind(this),this.onKeyUpHandler=this.onKeyUp.bind(this),this.onCloseClickHandler=this.onCloseClick.bind(this),this},e.enable=function(){return this.getIsEnabled()!==!0?(this.setupListeners(),this.setIsEnabled(!0),this):void 0},e.setupListeners=function(){this.$modalRoot.on("click",".js-modal-close",this.onCloseClickHandler),this.$modalOverlay.on("click",this.onCloseClickHandler),this.$document.on("keyup",this.onKeyUpHandler)},e._getViewName=function(){throw new Error("_getViewName() is abstract and not implemented!")},e._getBeforeShow=function(){throw new Error("_getBeforeShow() is abstract and not implemented!")},e._getAfterShow=function(){throw new Error("_getAfterShow() is abstract and not implemented!")},e.presentAlert=function(b,c){if(void 0==b)throw new Error("ModalView: presentAlert: message parameter required");c=c||2e4;var d=a("<div />").addClass("inner").append(b),e=a("<div />").addClass("pfjs-message").css("z-index","999999999").append(d).hide();a("body").append(e);var f=a(window).scrollTop()+10;return e.css({top:f}),a.when(e.fadeIn("fast").delay(c).fadeOut("fast")).then(function(){a(this).remove()}).promise(),e},e.present=function(){var b=c.THEME_URL+"views/modals/"+this._getViewName();return this.showModalRoot(),a.ajax({method:"GET",url:b,cache:!1}).done(this.onGetDoneHandler).fail(this.onGetFailHandler).always(this.onGetAlwaysHandler),this.$promise=a.Deferred(),this.$promise.promise()},e.closeModal=function(){this.hideModalRoot(),this.$modalContent.html(""),PF.EVENT_BUS.trigger("resetFocusableSelectorsTrigger"),this.addHiddenAria();var a=this;setTimeout(function(){a.restoreSavedFocusElem()},1500),PF.EVENT_BUS.trigger("unlockPageScroll")},e.showSpinner=function(){return this},e.hideSpinner=function(){return this},e.populateModal=function(a){this.$modalContent.html(a)},e.showModalRoot=function(){this.$modalRoot.show()},e.hideModalRoot=function(){this.$modalRoot.hide()},e.hideSpinner=function(){this.$modalSpinner.hide()},e.showModalContent=function(){this.$modalContent.show(),this.addVisibleAria()},e.saveFocusElem=function(){this.cachedFocusElem=a(document.activeElement)},e.setModalFocusableElement=function(){var a=this.$modalContent.find(".js-modalFocusableElement");setTimeout(function(){a.focus()},1500)},e.restoreSavedFocusElem=function(){this.cachedFocusElem.focus()},e.addVisibleAria=function(){a("#Site").attr("aria-hidden","true"),this.$modalRoot.attr("aria-hidden","false")},e.addHiddenAria=function(){a("#Site").attr("aria-hidden","false"),this.$modalRoot.attr("aria-hidden","true")},e.onGetDone=function(a){this.saveFocusElem(),PF.EVENT_BUS.trigger("trapFocusTrigger",this.$modalRoot),PF.EVENT_BUS.trigger("lockPageScroll"),this.populateModal(a),this._getBeforeShow()},e.onGetFail=function(a){this.populateModal("<h1>There has been an error</h1>")},e.onGetAlways=function(){this.hideSpinner(),this.showModalContent(),this._getAfterShow(),this.setModalFocusableElement()},e.onCloseClick=function(a){a.stopPropagation(),this.closeModal()},e.onKeyUp=function(a){27==a.keyCode&&this.closeModal()},d}(jQuery,PF["views/View"],PF["services/ServiceConfiguration"]);var PF=PF||{};PF["views/modals/UserRegistrationModalView"]=function(a,b,c,d){"use strict";function e(){}e.prototype=new b,e.prototype.constructor=e;var f=b.prototype,g=e.prototype;return e.CONSTANTS={SELECTORS:{OPTIN_REGION_NON_US:".js-userRegistrationModalView-optinRegionNonUS",OPTIN_REGION_US:".js-userRegistrationModalView-optinRegionUS",LOGIN_MESSAGE:"#login_message",INPUT_COUNTRY:".js-countryZipLabelSwitcher-inputCountry",LABEL_ZIP:".js-countryZipLabelSwitcher-labelZip",INPUT_EMAIL:"#email",INPUT_PASSWORD:"#password",INPUT_PASSWORD_CONFIRM:"#password-confirm",INPUT_OPTIN_PETFINDER:".js-userRegistrationModalView-inputOptinPetfinder",INPUT_OPTIN_SPONSOR:".js-userRegistrationModalView-inputOptinSponsor",INPUT_FIRST_NAME:"#firstname",INPUT_LAST_NAME:"#lastname",INPUT_ZIP:"#postalcode",REGISTRATION_FORM:"#registration-form",SUBMIT_BTN:".js-finalSubmit",ANCHOR_IN_LABEL:".js-anchorInLabel",GLOBAL_FORM_ERROR:".js-userRegistrationModalView-formError"},CLASSES:{IS_SENDING_REGISTRATION:"isLoading"}},g.loginMessage=null,g.passwordValidationView=null,g.init=function(a){return f.init.call(this),void 0!==a&&(this.queryParams=a.queryParams||void 0),this},g.setupHandlers=function(){return f.setupHandlers.call(this),this.onCountryInputChangeHandler=a.proxy(this.onCountryInputChange,this),this.onZipInputChangeHandler=a.proxy(this.onZipInputChange,this),this.onGetCountryListSuccessHandler=a.proxy(this.onGetCountryListSuccess,this),this.onGetCountryListFailHandler=a.proxy(this.onGetCountryListFail,this),this.onGetCurrentCountrySuccessHandler=a.proxy(this.onGetCurrentCountrySuccess,this),this.onRegistrationSuccessHandler=a.proxy(this.onRegistrationSuccess,this),this.onRegistrationFailHandler=a.proxy(this.onRegistrationFail,this),this.onSubmitHandler=a.proxy(this.onSubmit,this),this.onAnchorClickHandler=a.proxy(this.onAnchorClick,this),this.onTriggerRegistrationClickHandler=this.onTriggerRegistrationClick.bind(this),this},g.setupListeners=function(){f.setupListeners.call(this),PF.EVENT_BUS.on("triggerRegistrationClick",this.onTriggerRegistrationClickHandler)},g.createPostRenderChildren=function(){return this.$element=this.getEl(),this.$registrationForm=this.$element.find(e.CONSTANTS.SELECTORS.REGISTRATION_FORM),this.$optinRegionNonUs=this.$element.find(e.CONSTANTS.SELECTORS.OPTIN_REGION_NON_US),this.$optinRegionUs=this.$element.find(e.CONSTANTS.SELECTORS.OPTIN_REGION_US),this.$loginMessage=this.$element.find(e.CONSTANTS.SELECTORS.LOGIN_MESSAGE),this.$zipLabel=this.$element.find(e.CONSTANTS.SELECTORS.LABEL_ZIP),this.$inputEmail=this.$element.find(e.CONSTANTS.SELECTORS.INPUT_EMAIL),this.$inputCountry=this.$element.find(e.CONSTANTS.SELECTORS.INPUT_COUNTRY),this.$inputZip=this.$element.find(e.CONSTANTS.SELECTORS.INPUT_ZIP),this.$inputPassword=this.$element.find(e.CONSTANTS.SELECTORS.INPUT_PASSWORD),this.$inputPasswordConfirm=this.$element.find(e.CONSTANTS.SELECTORS.INPUT_PASSWORD_CONFIRM),this.$inputPetfinderOptin=this.$element.find(e.CONSTANTS.SELECTORS.INPUT_OPTIN_PETFINDER),this.$inputSponsorOptin=this.$element.find(e.CONSTANTS.SELECTORS.INPUT_OPTIN_SPONSOR),this.$inputFirstName=this.$element.find(e.CONSTANTS.SELECTORS.INPUT_FIRST_NAME),this.$inputLastName=this.$element.find(e.CONSTANTS.SELECTORS.INPUT_LAST_NAME),this.$submitBtn=this.$element.find(e.CONSTANTS.SELECTORS.SUBMIT_BTN),this.$anchorInLabel=this.$element.find(e.CONSTANTS.SELECTORS.ANCHOR_IN_LABEL),this.$globalFormError=this.$element.find(e.CONSTANTS.SELECTORS.GLOBAL_FORM_ERROR),this},g.setupPostRenderListeners=function(){return this.$inputCountry.on("change",this.onCountryInputChangeHandler),this.$inputZip.on("change",this.onZipInputChangeHandler),this.$submitBtn.on("click",this.onSubmitHandler),this.$anchorInLabel.on("click",this.onAnchorClickHandler),this},g.showLoginMessage=function(a){return this.loginMessage=a,this},g._getViewName=function(){return"registrationModalView.php"},g._getOptions=function(){return{wrapCSS:"modal apply_overlay modal-adopt-pet",beforeClose:function(){}}},g.showLoginMessage=function(){return this.$loginMessage.html(this.loginMessage),this},g.getCountryList=function(){return c.getCountryList()},g.initializeFormValidation=function(){return this.formValidationView=new d,this.formValidationView.setEl(this.$registrationForm).init(),this},g.setAuthenticationFlowParams=function(a){return this.authenticationFlowParams=a,this},g.getCurrentCountry=function(){return a.ajax({url:"/user/api/current-country",method:"GET"})},g.loadCurrentCountry=function(a){this.getCurrentCountry().then(this.onGetCurrentCountrySuccessHandler)},g.isCountryUS=function(){return"us"==this.$inputCountry.val()||"US"==this.$inputCountry.val()},g.setEmailOptins=function(){return this.isCountryUS()?(this.$optinRegionNonUs.hide(),this.$optinRegionUs.show(),this.$inputSponsorOptin.prop("checked",!0),this.$inputPetfinderOptin.prop("checked",!0)):(this.$optinRegionNonUs.show(),this.$optinRegionUs.hide(),this.$inputSponsorOptin.prop("checked",!1),this.$inputPetfinderOptin.prop("checked",!1)),this},g.switchZipLabel=function(){return this.isCountryUS()?this.$zipLabel.text("ZIP Code"):this.$zipLabel.text("Postal Code"),this},g.showLoadingIndicator=function(){return this.$submitBtn.addClass(e.CONSTANTS.CLASSES.IS_SENDING_REGISTRATION),this},g.removeLoadingIndicator=function(){return this.$submitBtn.removeClass(e.CONSTANTS.CLASSES.IS_SENDING_REGISTRATION),this},g.buildRegistrationModel=function(){var a=window.location.href,b=window.location.search;return void 0!==this.queryParams&&(""!==b?a+=this.queryParams:a=a+"?"+this.queryParams),this.registerData={"user_registration[email]":this.$inputEmail.val(),"user_registration[password][first]":this.$inputPassword.val(),"user_registration[password][second]":this.$inputPasswordConfirm.val(),"user_registration[firstName]":this.$inputFirstName.val(),"user_registration[lastName]":this.$inputLastName.val(),"user_registration[address][postalCode]":this.$inputZip.val(),
"user_registration[address][country]":this.$inputCountry.val(),next:encodeURIComponent(a)},(this.$inputPetfinderOptin.prop("checked")||this.$inputSponsorOptin.prop("checked"))&&(this.registerData.emailOptIn={},this.$inputPetfinderOptin.prop("checked")&&(this.registerData["user_registration[emailOptIn][petfinder]"]=this.$inputPetfinderOptin.prop("checked")),this.$inputSponsorOptin.prop("checked")&&(this.registerData["user_registration[emailOptIn][sponsor]"]=this.$inputSponsorOptin.prop("checked"))),this},g.sendRegistrationDataToServer=function(){c.registerUser(this.registerData).then(this.onRegistrationSuccessHandler,this.onRegistrationFailHandler)},g.displayRegistrationErrors=function(b){var c=this;return a.each(b.errors.fields,function(a,b){var d=c.$registrationForm.find('*[name*="'+a+'"]'),e=d.parent();e.addClass("invalid");var f=d.parent().find(".error");if(Array.isArray(b))for(var g in b)f.append("<div>"+b[g]+"</div>");else f.append("<div>"+b+"</div>").fadeIn();f.show()}),this},g.displayGlobalFormError=function(){return this.$globalFormError.show(),this},g.isFormValid=function(){return this.formValidationView.isValid()},g.initializePasswordValidation=function(){return this.formValidationView.initializePasswordValidationView(),this},g._getBeforeShow=function(){this.createPostRenderChildren().setupPostRenderListeners().showLoginMessage().getCountryList().then(this.onGetCountryListSuccessHandler,this.onGetCountryListFailHandler)},g._getAfterShow=function(){this.hasZipBeenInteractedWith=!1,this.initializeFormValidation().initializePasswordValidation().switchZipLabel().setEmailOptins()},g.onTriggerRegistrationClick=function(){this.present()},g.onGetCurrentCountrySuccess=function(a){var b=a.code,c=this.$inputCountry.find('option[value="'+b+'"]');c.length>0&&c.first().attr("selected",!0),this.switchZipLabel().setEmailOptins()},g.onGetCountryListFail=function(){this.$registrationForm.html('<div><a href="#" onclick="window.location.reload()">An error occurred please click here to reload.</a></div>')},g.onGetCountryListSuccess=function(a,b){var c=0;for(c;b.length>c;c++){var d=b[c];this.$inputCountry.append('<option value="'+d.code+'">'+d.name+"</option>")}this.loadCurrentCountry()},g.onCountryInputChange=function(){this.hasZipBeenInteractedWith&&this.formValidationView.checkpostalCode(),this.switchZipLabel().setEmailOptins()},g.onZipInputChange=function(a){this.hasZipBeenInteractedWith=!0},g.onRegistrationSuccess=function(a,b){this.closeModal(),this.presentAlert("<h2>Success! You have registered for Petfinder.com.</h2>"),setTimeout(function(){window.location=b.redirect},1e3)},g.onRegistrationFail=function(b){a(window).scrollTop(0),this.displayGlobalFormError().displayRegistrationErrors(JSON.parse(b.responseText)).removeLoadingIndicator()},g.onAnchorClick=function(a){a.preventDefault(),a.stopPropagation();var b=a.target.getAttribute("target")||"_self",c=a.target.getAttribute("href");window.open(c,b)},g.onSubmit=function(a){a.preventDefault(),this.isFormValid()&&(this.$element.find(".error").empty(),this.$globalFormError.hide(),this.showLoadingIndicator().buildRegistrationModel().sendRegistrationDataToServer())},e}(jQuery,PF["views/modals/ModalView"],PF["services/UserService"],PF["views/FormValidationView"],PF["views/countryZipLabelSwitcher"]);var PF=PF||{};PF["views/modals/UserLoginModalView"]=function(a,b,c,d,e,f){"use strict";function g(){}g.prototype=new b,g.prototype.constructor=g;var h=b.prototype,i=g.prototype;return i._loginMessage=null,i._passwordValidationView=null,i.init=function(){return this.authenticationFlowPersistenceParameters={},h.init.call(this),this},i.setupHandlers=function(){return h.setupHandlers.call(this),this._loginDoneHandler=a.proxy(this._loginDone,this),this._loginFailHandler=a.proxy(this._loginFail,this),this._registerDoneHandler=a.proxy(this._registerDone,this),this._registerFailHandler=a.proxy(this._registerFail,this),this},i.setLoginMessage=function(a){return this._loginMessage=a,this},i.present=function(b){return void 0!==b&&(this.title=b.title,this.queryParams=b.queryParams),h.present.call(this),this.$promise=a.Deferred(),this.$promise.promise()},i._registerDone=function(a,b){this.hideSpinner(),this.presentAlert("<h2>Success! You have registered for Petfinder.com.</h2>"),this.$promise.resolve(a)},i._registerFail=function(b,d){return this.hideSpinner(),b===c.RESPONSES.USER_REGISTRATION_ERROR?void a("#register-form .error").html(d.message).fadeIn():void a("#register-form .error").html("Server Error: Please try again later").fadeIn()},i._loginDone=function(b,c){this.presentAlert("<h2>Success! You've been logged into Petfinder</h2>"),e.setUserProperties(!0),a("#js-header-userMenu").hide(),a("#js-header-userMenuLoggedIn").show(),a("#tophat-follow-us").css("right","210px"),this.$promise.resolve(b)},i._loginFail=function(b,d){return this.hideSpinner(),b===c.RESPONSES.USER_LOGIN_ERROR?void a("#login-form .error").html(d.message).fadeIn():(a("#login-form .error").html("Server Error: Please try again later").fadeIn(),void this.$promise.resolve(b))},i._getViewName=function(){return"loginForm.php"},i._getOptions=function(){return{wrapCSS:"modal apply_overlay modal-adopt-pet",beforeClose:function(){}}},i._getBeforeShow=function(){this.$element=a("#js-loginModal"),this.$title=this.$element.find(".js-loginModal-title"),void 0!==this.title&&this.$title.text(this.title)},i.showSpinner=function(){},i._addNextParamToForgotPasswordLink=function(b){var c=a(".js-loginModal-forgotPasswordLink"),d=c.attr("href");c.on("click",function(a){a.preventDefault(),window.open(d+"?next="+encodeURIComponent(b),"_self")})},i._getAfterShow=function(){var b=this,e=new d;e.setEl(a("#login-form")).init(),a(".js-registration").on("click touchstart",function(c){c.preventDefault();(new f).init({queryParams:b.queryParams}).setEl(a(".js-modal")).present()});var g=window.location.href,h=window.location.search;void 0!==this.queryParams&&(""!==h?g+=this.queryParams:g=g+"?"+this.queryParams),this._addNextParamToForgotPasswordLink(g),a(".js-finalSubmit").on("click touchstart",function(d){d.preventDefault();var f=a(this);b.$loadingSpinner=b.$element.find(".js-spinner"),setTimeout(function(){if(e.isValid()){f.addClass("isLoading");var d={username:a("#login-form #username").val(),password:a("#login-form #password").val(),next:encodeURIComponent(g)};c.loginUser(d).fail(function(b){var c=JSON.parse(b.responseText);null!=c.redirect?window.location=c.redirect:(a(".login-errors").show(),f.removeClass("isLoading"))}).done(function(a,c){""!==c.redirect&&"undefined"!==c.redirect?(b.closeModal(),b.presentAlert("<h2>Success! You've been logged into Petfinder.</p>"),setTimeout(function(){window.location=c.redirect},1e3)):(b.closeModal(),b.presentAlert("<h2>Success! You've been logged into Petfinder.</p>"),setTimeout(function(){window.location.href=g},1e3),b._loginDone())})}else f.removeClass("isLoading")},100)})},i.setAuthenticationFlowPersistenceParams=function(a){return this.authenticationFlowPersistenceParams=a,this},g}(jQuery,PF["views/modals/ModalView"],PF["services/UserService"],PF["views/FormValidationView"],PF["models/SessionModel"],PF["views/modals/UserRegistrationModalView"]);var PF=PF||{};PF["views/modals/ShelterContactModalView"]=function(a,b,c,d,e,f,g){"use strict";function h(a){}h.prototype=new b,h.prototype.constructor=h,h.prototype._super=b.prototype;var i=h.prototype;return i.CONSTANTS={SELECTORS:{SHELTER_NAME:".js-shelterContactModal-name",SHELTER_LINK:".js-shelterContactModal-shelterLink",INPUT_SHELTER_ID:"#shelter_id",INPUT_CONTACT_ID:"#contact-shelter",CONTACT_PHONE:".js-shelterContactModal-phone",CONTACT_EMAIL:".js-shelterContactModal-email"}},i._shelterModel=null,i._shelterId=null,i._petModel=null,i.init=function(){return this._super.init.call(this),this.petId="",this.shelterContactModalType="",this},i.setupHandlers=function(){return this._getShelterDoneHandler=a.proxy(this._getShelterDone,this),this._getShelterFailHandler=a.proxy(this._getShelterFail,this),this._contactShelterSubmitHandler=a.proxy(this._contactShelterSubmit,this),this.onContactShelterSuccessHandler=a.proxy(this.onContactShelterSuccess,this),this.onContactShelterFailHandler=a.proxy(this.onContactShelterFail,this),this.onCancelClickHandler=a.proxy(this.onCancelClick,this),this.onInputBlurHandler=a.proxy(this.onInputBlur,this),this},i.setPetModel=function(a){return this._petModel=a,this.petId=this._petModel.get("id"),this.shelterName=this._petModel.get("shelterName"),this._shelterId=this._petModel.get("shelterId"),this.contactPhone=this._petModel.get("phone"),this.contactEmail=this._petModel.get("email"),this.shelterURL=this._petModel.get("shelterLink"),this},i.createPostRenderChildren=function(){return this.$element=this.getEl(),this.$shelterName=this.$element.find(i.CONSTANTS.SELECTORS.SHELTER_NAME),this.$inputShelterId=this.$element.find(i.CONSTANTS.SELECTORS.INPUT_SHELTER_ID),this.$inputContactId=this.$element.find(i.CONSTANTS.SELECTORS.INPUT_CONTACT_ID),this.$contactPhone=this.$element.find(i.CONSTANTS.SELECTORS.CONTACT_PHONE),this.$contactEmail=this.$element.find(i.CONSTANTS.SELECTORS.CONTACT_EMAIL),this.$shelterLink=this.$element.find(i.CONSTANTS.SELECTORS.SHELTER_LINK),this.$inputs=this.$element.find(":input"),this.$inputName=this.$element.find(".js-contactShelterModal-inputName"),this.$inputEmail=this.$element.find(".js-contactShelterModal-inputEmail"),this.$inputSubject=this.$element.find(".js-contactShelterModal-inputSubject"),this.$inputMessage=this.$element.find(".js-contactShelterModal-inputMessage"),this.$errors=this.$element.find(".error"),this.$modalInner=this.$element.find(".fancybox-inner"),this.validators=a("form#contact-shelter").find(":input").validator(PF.VALIDATE_OPTIONS),this},i.setupPostRenderListeners=function(){a("form#contact-shelter").on("submit",this._contactShelterSubmitHandler),a(".js-cancel").on("click",this.onCancelClickHandler),this.$inputs.on("blur",this.onInputBlurHandler)},i.onInvalidValidator=function(b,c){var d=a(b.currentTarget);d.addClass(".invalid");var e=d.next(".error");e.text(c)},i.onCancelClick=function(a){a.preventDefault(),this.closeModal()},i._getViewName=function(){return"shelterContactForm.php"},i._getOptions=function(){return{wrapCSS:"modal apply_overlay shelter-contact-modal"}},i._getBeforeShow=function(){this.createPostRenderChildren().setupPostRenderListeners(),"inquiry-redirect"!=this.shelterContactModalType?this.$modalInner.css("opacity",0):a("body").addClass("hideModal")},i._getAfterShow=function(){if(this.showSpinner(),"inquiry-redirect"!=this.shelterContactModalType)this.renderTemplate().showModal().hideSpinner();else if(this.showLoginModalOrRedirect(),this.authenticationFlowPersistenceParams.redirect="/adoption-inquiry/"+this._petModel.get("id"),d.get("loggedIn"))window.location=this.authenticationFlowPersistenceParams.redirect;else{(new g).init().setAuthenticationFlowPersistenceParams(this.authenticationFlowPersistenceParams).present();a("body").removeClass("hideModal")}},i.showLoginModalOrRedirect=function(){this.authenticationFlowPersistenceParams.redirect="/adoption-inquiry/"+this._petModel.get("id"),d.get("loggedIn")&&(window.location=this.authenticationFlowPersistenceParams.redirect)},i.setShelterContactModalType=function(a,b){return this.shelterContactModalType=a,this.authenticationFlowPersistenceParams=b,this},i.doesPetHaveContactEmail=function(){return""!=this.contactEmail&&"undefined"!=typeof this.contactEmail&&null!=this.contactEmail},i.populateTemplateValues=function(){return this.$shelterName.text(this.shelterName),this.$inputShelterId.val(this._shelterId),this.$inputContactId.val(this._shelterId),this.$contactPhone.text(this.contactPhone),this.$contactEmail.text(this.contactEmail),this.$shelterLink.append('<a href="'+this.shelterURL+'" target="_blank">'+this.shelterURL+"</a>"),this},i.showTemplateAreas=function(){""!=this.contactEmail?(a(".js-shelterContactModal-displayIfEmail").show(),this.createCaptcha()):a(".js-shelterContactModal-displayIfNoEmail").show(),""!=this.contactPhone&&a(".js-shelterContactModal-displayIfPhone").show(),""!=this.shelterURL&&a(".js-shelterContactModal-displayIfUrl").show()},i.createCaptcha=function(){return Recaptcha.create("6LfbsuASAAAAAO3L9EyqzPyk6k85Zg26JloBBjmZ","recaptcha",{theme:"white",callback:Recaptcha.focus_response_field}),this},i.renderTemplate=function(){return this.populateTemplateValues().showTemplateAreas(),this},i.showModal=function(){return this.getEl().find(".fancybox-inner").css("opacity",1),this},i.hideValidationErrors=function(){return this.$errors.hide(),this.$element.find(".isInvalid").removeClass("isInvalid"),this.$element.find("#recaptcha-error").hide(),this},i.buildContactDataModel=function(){return this.contactDataModel={name:this.$inputName.val(),email:this.$inputEmail.val(),subject:this.$inputSubject.val(),message:this.$inputMessage.val(),shelter_id:this._shelterId},this},i.onContactShelterSuccess=function(b,d){return b===c.RESPONSES.SHELTER_CONTACT_ERROR_RECAPTCHA_INCORRECT?(a("#recaptcha-error").show().text("Invalid reCaptcha response. Try again."),void Recaptcha.reload()):(a(".js-contactShelterModal-contactPane").hide(),a("#success-message").fadeIn(),a("#contact-shelter .errors").show().text(d.message),void purinaTrackEvent("","contact organization","submit","/petdetail/"+this.petId))},i.onContactShelterFail=function(){a(".js-contactShelterModal-contactPane").hide(),a("#failed-message").fadeIn()},i.sendContactDataToServer=function(){return c.contactShelter(this.contactDataModel,this.petId)},i.checkFormValidity=function(){""==this.$inputName.val()&&(this.$inputName.parent().addClass("isInvalid"),this.$inputName.next(".error").text("Your name is required")),""==this.$inputEmail.val()&&(this.$inputEmail.parent().addClass("isInvalid"),this.$inputEmail.next(".error").text("Your email is required")),""==this.$inputMessage.val()&&(this.$inputMessage.parent().addClass("isInvalid"),this.$inputMessage.next(".error").text("A message is required")),""!=this.$inputEmail.val()&&-1==this.$inputEmail.val().indexOf("@")&&(this.$inputEmail.parent().addClass("isInvalid"),this.$inputEmail.next(".error").text("Enter a valid email address")),this.$errors.show()},i.isFormValid=function(){return 0==this.$element.find(".isInvalid").length},i.onInputBlur=function(b){var c=a(b.currentTarget);c.parent().removeClass("isInvalid"),c.next(".error").text("")},i._contactShelterSubmit=function(a){return a.preventDefault(),this.hideValidationErrors().checkFormValidity(),this.isFormValid()&&this.buildContactDataModel().sendContactDataToServer().then(this.onContactShelterSuccessHandler,this.onContactShelterFailHandler),this},i._getShelterFail=function(){this.hideSpinner(),a("#js-contactShelter-errorMessage").show().text("Server Error: Please try again later")},h}(jQuery,PF["views/modals/ModalView"],PF["services/ShelterService"],PF["models/SessionModel"],PF["services/ServiceConfiguration"],PF["services/PetSearchService"],PF["views/modals/UserLoginModalView"]);var PF=PF||{};PF["views/modals/SponsorAPetModalView"]=function(a,b){"use strict";function c(a){}c.prototype=new b,c.prototype.constructor=c;b.prototype;return c.prototype._petModel=null,c.prototype.setPetModel=function(a){return this._petModel=a,this},c.prototype._getViewName=function(){return"sponsorAPet.php"},c.prototype._getOptions=function(){return{}},c.prototype._getBeforeShow=function(){},c.prototype._getAfterShow=function(){var b=this;a("#js-sponsorAPetModal-sponsor").on(PF.CONSTS.CLICK_EVENT,function(c){c.preventDefault();var d="https://sap.petfinderfoundation.com/sponsor-a-pet/"+b._petModel.get("shelterId")+"/"+b._petModel.get("shelterLocationCountry")+"/"+b._petModel.get("shelterLocationCountry")+"/"+b._petModel.get("id")+"/"+b._petModel.get("name"),e=(screen.width-775)/2,f=(screen.height-800)/4;window.open(d,"donatewin","width=775, height=800, left="+e+", top="+f+", resizable=yes, scrollbars=yes, toolbar=no"),setTimeout(function(){a.fancybox.close()},3e3)})},c}(jQuery,PF["views/modals/ModalView"]);var PF=PF||{};PF["views/modals/SaveSearchModalView"]=function(a,b,c){"use strict";function d(){}d.prototype=new b,d.prototype.constructor=d;var e=(b.prototype,d.prototype);return e._queryId=null,e.setQueryId=function(a){return this._queryId=a,this},e._getViewName=function(){return"saveSearchForm.php"},e._getBeforeShow=function(){},e._getAfterShow=function(){var b=this;b.isSubscribed=!0,a(".js-cancel").on("click",function(a){a.preventDefault(),b.closeModal()}),a("#get-updates-title").focus(),a("#get-updates-subscribe").on("change",function(c){a(this).is(":checked")?(a('#save-search button[type="submit"]').html("Save &amp; Subscribe"),b.isSubscribed=!0):(a('#save-search button[type="submit"]').html("Save"),b.isSubscribed=!1)}),a("#save-search").on("submit",function(d){d.preventDefault();var e=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0;if(!Modernizr.input.required||e){var f=a(this).find(":input").validator(PF.VALIDATE_OPTIONS),g=f.data("validator").checkValidity();if(g===!1)return}b.showSpinner();var h=a("#get-updates-subscribe").is(":checked"),i=a("#get-updates-title").val();c.saveSearch(b._queryId,i,h).done(function(a,d){return b.hideSpinner(),a===c.RESPONSES.USER_SAVE_SEARCH_SUCCESS?(b.isSubscribed?b.presentAlert("<h2>YOUR SEARCH NOTIFICATION IS NOW SAVED</h2><p>We'll send you a daily email whenever any new pets matching your search criteria are added to Petfinder.</p>"):b.presentAlert("<h2>YOUR SEARCH NOTIFICATION IS NOW SAVED</h2><p>We will not be sending you daily notifications, check back at Petfinder often to see new updates.</p>"),void b.$promise.resolve()):(b.presentAlert("<p>Your search has been saved, thank you.</p>"),void b.$promise.resolve())}).fail(function(){b.presentAlert("<p>We are unable to save your search right now. Please try again later.</p>"),b.$promise.reject()})})},d}(jQuery,PF["views/modals/ModalView"],PF["services/SavedSearchesService"]);var PF=PF||{};PF["views/modals/LinkToSearchModalView"]=function(a,b,c){"use strict";function d(){}d.prototype=new b,d.prototype.constructor=d;var e=(b.prototype,d.prototype);return e._searchURL=null,e.createPostRenderChildren=function(){return this.$urlInput=a(".js-shareSearchUrl"),this},e.setSearchURL=function(a){return this._searchURL=a,this},e._getViewName=function(){return"shareSearch.php"},e._getBeforeShow=function(){this.createPostRenderChildren(),this._getSearchUrl()},e._getAfterShow=function(){},e._getSearchUrl=function(){this.$urlInput.val(this._searchURL)},e._getOptions=function(){return{}},d}(jQuery,PF["views/modals/ModalView"],PF["models/PetSearchRequestModel"]);var PF=PF||{};PF["views/modals/LocationModalView"]=function(a,b){"use strict";function c(){}c.prototype=new b,c.prototype.constructor=c;b.prototype;return c.prototype._getViewName=function(){return"locationForm.php"},c.prototype._getOptions=function(){return{}},c.prototype._getBeforeShow=function(){},c.prototype._getAfterShow=function(){var b=this;a("#js-locationModal-form").on("submit",function(c){c.preventDefault();var d=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0;if(!Modernizr.input.required||d){var e=a(this).find(":input").validator(PF.VALIDATE_OPTIONS),f=e.data("validator").checkValidity();if(f===!1)return}b.$promise.resolve(a(this).find('input[name="alt-location"]').val())})},c}(jQuery,PF["views/modals/ModalView"]);var PF=PF||{};PF["views/modals/EmailShareModalView"]=function(a,b,c){"use strict";function d(){}d.prototype=new b,d.prototype.constructor=d;b.prototype;return d.prototype._petModel=null,d.prototype._shareDetails={petId:"",subject:"",body:"",photo:"",defaultTo:""},d.prototype.setPetModel=function(a){return this._petModel=a,this},d.prototype._getViewName=function(){return"emailShare.php"},d.prototype._getOptions=function(){return{wrapCSS:"modal apply_overlay",beforeClose:function(){}}},d.prototype._getBeforeShow=function(){this._addFrameComponentsFromModel()},d.prototype._getAfterShow=function(){a(".pet-display-name").text(this._petModel.get("name")),a("a.email_share_gmail").attr("href",this._buildGmailLink()),a("a.email_share_yahoo").attr("href",this._buildYahooMailLink()),a("a.email_share_aol").attr("href",this._buildAolLink()),a("a.email_share_hotmail").attr("href",this._buildHotmailLink()),a("a.email_share_generic").attr("href",this._buildBasicMailLink())},d.prototype.setEmailShareMessage=function(a){return this.emailShareMessage=a,this},d.prototype._addFrameComponentsFromModel=function(){if(this._petModel){var b=encodeURIComponent(this._petModel.get("name"));this._shareDetails.defaultTo=decodeURIComponent(""),this._shareDetails.subject=encodeURIComponent("Meet "+this._petModel.get("name")+", a Petfinder adoptable "+this._petModel.get("primaryBreed")+" "+this._petModel.get("species")+" | "+this._petModel.get("shelterLocationCity")+", "+this._petModel.get("shelterLocationState")),this._shareDetails.body=encodeURIComponent(this.emailShareMessage);var c=a("#js-petDetail-photosContainer").data("default-image");this._shareDetails.photo=encodeURIComponent(c),this._shareDetails.petId=encodeURIComponent(this._petModel.get("id")),this._shareDetails.body+=" %0a%0a"+b+encodeURIComponent("'s Profile: ")+"https://www.petfinder.com/petdetail/"+this._petModel.get("id"),this._shareDetails.body+=" %0a%0a"+b+encodeURIComponent("'s Picture: ")+this._shareDetails.photo}},d.prototype._buildGmailLink=function(){return"https://mail.google.com/mail/?view=cm&ui=2&tf=0&fs=1&to="+this._shareDetails.defaultTo+"&su="+this._shareDetails.subject+"&body="+this._shareDetails.body},d.prototype._buildAolLink=function(){return"https://mail.aol.com/compose-message.aspx?to="+this._shareDetails.defaultTo+"&subject="+this._shareDetails.subject+"&body="+this._shareDetails.body},d.prototype._buildHotmailLink=function(){return"http://mail.live.com/mail/EditMessageLight.aspx?n=&to="+this._shareDetails.defaultTo+"&subject="+this._shareDetails.subject+"&body="+this._shareDetails.body},d.prototype._buildYahooMailLink=function(){return"http://compose.mail.yahoo.com/?to="+this._shareDetails.defaultTo+"&subject="+this._shareDetails.subject+"&body="+this._shareDetails.body},d.prototype._buildBasicMailLink=function(){return"mailto:"+this._shareDetails.defaultTo+"?subject="+this._shareDetails.subject+"&body="+this._shareDetails.body},d}(jQuery,PF["views/modals/ModalView"],PF["models/PetModel"]);var PF=PF||{};PF["views/modals/EmailShareArticleModalView"]=function(a,b){"use strict";function c(){}c.prototype=new b,c.prototype.constructor=c;var d=(b.prototype,c.prototype);return d.$target=null,d._shareDetails={petId:"",subject:"",body:"",photo:"",defaultTo:""},d._getViewName=function(){return"emailArticleShare.php"},d._getOptions=function(){return{wrapCSS:"modal apply_overlay",beforeClose:function(){}}},d.setTarget=function(a){return this.$target=a,this},d._getBeforeShow=function(){this._addFrameComponentsFromModel()},d._getAfterShow=function(){a("a.email_share_gmail").attr("href",this._buildGmailLink()),a("a.email_share_yahoo").attr("href",this._buildYahooMailLink()),a("a.email_share_aol").attr("href",this._buildAolLink()),a("a.email_share_hotmail").attr("href",this._buildHotmailLink()),a("a.email_share_generic").attr("href",this._buildBasicMailLink())},d._addFrameComponentsFromModel=function(){var b,c,d;if(this.$target.parents(".js-shareLinks").length){var e=this.$target.parents(".js-articleParent"),f=e.find(".js-articleTitle").text(),g=e.find(".js-articleContent p").text(),h=e.find(".js-articleTitle a").attr("href");b=f,c=g,d=encodeURIComponent(h)}else b=a('meta[property="og:title"]').attr("content"),b||(b=document.title),c=a('meta[property="og:description"]').attr("content"),d=encodeURIComponent(window.location.href);a(".js-shareTitle").html(b),this._shareDetails.defaultTo=decodeURIComponent(""),this._shareDetails.subject=encodeURIComponent(b),this._shareDetails.body=encodeURIComponent(c),this._shareDetails.body+=" %0a%0a"+d},d._buildGmailLink=function(){return"https://mail.google.com/mail/?view=cm&ui=2&tf=0&fs=1&to="+this._shareDetails.defaultTo+"&su="+this._shareDetails.subject+"&body="+this._shareDetails.body},d._buildAolLink=function(){return"https://mail.aol.com/compose-message.aspx?to="+this._shareDetails.defaultTo+"&subject="+this._shareDetails.subject+"&body="+this._shareDetails.body},d._buildHotmailLink=function(){return"http://mail.live.com/mail/EditMessageLight.aspx?n=&to="+this._shareDetails.defaultTo+"&subject="+this._shareDetails.subject+"&body="+this._shareDetails.body},d._buildYahooMailLink=function(){return"http://compose.mail.yahoo.com/?to="+this._shareDetails.defaultTo+"&subject="+this._shareDetails.subject+"&body="+this._shareDetails.body},d._buildBasicMailLink=function(){return"mailto:"+this._shareDetails.defaultTo+"?subject="+this._shareDetails.subject+"&body="+this._shareDetails.body},c}(jQuery,PF["views/modals/ModalView"]);var PF=PF||{};PF["views/modals/UserSavedSearchesModalView"]=function(a,b,c,d){"use strict";function e(){}e.prototype=new b,e.prototype.constructor=e;var f=b.prototype,g=e.prototype;return g.setupHandlers=function(){return f.setupHandlers.call(this),this._onClickDeleteHandler=a.proxy(this._onClickDelete,this),this._onChangeSubscribeHandler=a.proxy(this._onChangeSubscribe,this),this},g._getViewName=function(){return"savedSearches.php"},g._getOptions=function(){return{}},g._getBeforeShow=function(){this._layoutTemplate()},g._getAfterShow=function(){this._enableEvents()},g._onClickDelete=function(b){b.preventDefault();var c=this;this._indicateLoadingStart();var e=a(b.currentTarget),f=e.parents(".js-searchParent"),g=f.find("a").data("searchname");d.deleteSavedSearch(g),setTimeout(function(){c._updateTemplate(),c._enableEvents()},3e3),this._indicateLoadingComplete()},g._onChangeSubscribe=function(b){var c=a(b.currentTarget),e=c.parents(".js-searchParent"),f=e.find("a").data("searchname");this._indicateLoadingStart(),c.is(":checked")?d.subscribeToSearch(f):d.unSubscribeFromSearch(f),this._indicateLoadingComplete()},g._layoutTemplate=function(){var b=a("#saved-searches-template").html(),d=Handlebars.compile(b),e=c.get("savedSearches"),f="User",g={user:f};void 0!=e&&(g.searches=e);var h=d(g),i=a("#js-saved-searches");i.append(h)},g._updateTemplate=function(){a("#js-saved-searches").html(""),this._layoutTemplate()},g._enableEvents=function(){var b=this;a(".js-searchParent-delete").each(function(){a(this).on("click",b._onClickDeleteHandler)}),a(".js-searchParent-checkbox").each(function(){a(this).on("change",b._onChangeSubscribeHandler)})},g._disableEvents=function(){var b=this;a(".js-searchParent-delete").each(function(){a(this).off("click",b._onClickDeleteHandler)}),a(".js-searchParent-checkbox").each(function(){a(this).off("change",b._onChangeSubscribeHandler)})},g._indicateLoadingStart=function(){this.showSpinner(),a(".js-searchParent-checkbox").prop("disabled",!0),a(".js-searchParent-delete").prop("disabled",!0)},g._indicateLoadingComplete=function(){var b=this;setTimeout(function(){b.hideSpinner(),a(".js-searchParent-checkbox").prop("disabled",!1),a(".js-searchParent-delete").prop("disabled",!1)},3e3)},e}(jQuery,PF["views/modals/ModalView"],PF["models/SavedSearchesModel"],PF["services/SavedSearchesService"]);var PF=PF||{};PF["views/modals/AutoTimeoutModalView"]=function(a,b,c){"use strict";function d(){}d.prototype=new b,d.prototype.constructor=d;var e=b.prototype,f=d.prototype;return f.setupHandlers=function(){return e.setupHandlers.call(this),this._onCancelButtonHandler=a.proxy(this._onCancelButton,this),this._onExtendTimeButtonHandler=a.proxy(this._onExtendTimeButton,this),this._closeTimeoutModelHandler=a.proxy(this._closeTimeoutModel,this),this},f._getViewName=function(){return"autoTimeoutWarning.php"},f._getOptions=function(){return{}},f._getBeforeShow=function(){},f._getAfterShow=function(){a(".js-cancelButton").on("click",this._onCancelButtonHandler),a(".js-extendTimeButton").on("click",this._onExtendTimeButtonHandler),a(document).off("closeTimeout",this._closeTimeoutModelHandler).on("closeTimeout",this._closeTimeoutModelHandler)},f._onCancelButton=function(a){a.preventDefault(),this.closeModal()},f._onExtendTimeButton=function(a){a.preventDefault();var b=this;c.resetUserStatus().done(function(){b.closeModal()}).fail(function(a,b){throw a})},f._closeTimeoutModel=function(){this.closeModal()},d}(jQuery,PF["views/modals/ModalView"],PF["services/SessionService"]);var PF=PF||{};PF["views/modals/GalleryModalView"]=function(a,b,c){"use strict";function d(){}return d.prototype=new b,d.prototype.constructor=d,d.prototype._super=b.prototype,d.prototype.init=function(){this._super.init.call(this),this.layout()},d.prototype.createChildren=function(){return this._super.createChildren.call(this),this.$body=a("body"),this.$modalTriggers=this._$el.find(".js-gsModal-trigger"),this},d.prototype.setupHandlers=function(){return this._super.setupHandlers.call(this),this.onModalTriggerClickHandler=this.onModalTriggerClick.bind(this),this.onSneezeClickHandler=this.onSneezeClick.bind(this),this.prevClickHandler=this.prevClick.bind(this),this.nextClickHandler=this.nextClick.bind(this),this.closerClickHandler=this.closeModal.bind(this),this},d.prototype.enable=function(){return this._super.enable.call(this),this.$modalTriggers.on("click",this.onModalTriggerClickHandler),this},d.prototype.disable=function(){return this.isEnabled=!1,this},d.prototype.layout=function(){return this.buildModal(),this},d.prototype.buildModal=function(){return this.$modal=a("<div>"),this.$sneeze=a("<div>"),this.$modal.addClass("js-gsModal").addClass("nrd-slider-sneeze-modal"),this.$sneeze.addClass("js-gsSneeze").addClass("nrd-slider-sneeze"),this.$sneeze.append(this.$modal),this.$body.append(this.$sneeze),this.$sneeze.on("click",this.onSneezeClickHandler),this},d.prototype.onWindowChange=function(){return this},d.prototype.onModalTriggerClick=function(b){return this.initialTrigger=b.currentTarget,this.$modal&&(this.$imgContainer=a("<div>"),this.$imgContainer.addClass("nrd-slider-sneeze-modal-imgContainer"),this.createNewImage(b.target.src),this.$sneeze.fadeIn().css("display","table")),this},d.prototype.createNewImage=function(b){var c=a('<img src="" />');return c.attr("src",b),this.$imgContainer.append(c),this.$modal.append(this.$imgContainer),this.createPager(),this.createCloser(),this},d.prototype.createCloser=function(){return this.$closer=a("<div>"),this.$closer.addClass("nrd-slider-sneeze-modal-closer"),this.$closer.text("Close"),this.$closer.on("click",this.closerClickHandler),this.$imgContainer.append(this.$closer),this},d.prototype.closeModal=function(){var b=this;this.$sneeze.fadeOut(function(){a(b).css("display","none"),b.$modal.empty()})},d.prototype.createPager=function(){return this.$left=a("<div>"),this.$right=a("<div>"),this.$leftArrow=a("<span>"),this.$rightArrow=a("<span>"),this.$left.addClass("nrd-slider-sneeze-modal-nav nrd-slider-sneeze-modal-nav_left"),this.$right.addClass("nrd-slider-sneeze-modal-nav nrd-slider-sneeze-modal-nav_right"),this.$leftArrow.addClass("nrd-slider-sneeze-modal-nav-arrow nrd-slider-sneeze-modal-nav-arrow_left"),this.$rightArrow.addClass("nrd-slider-sneeze-modal-nav-arrow nrd-slider-sneeze-modal-nav-arrow_right"),this.$left.append(this.$leftArrow),this.$right.append(this.$rightArrow),this.$imgContainer.append(this.$left).append(this.$right),this.$left.on("click",this.prevClickHandler),this.$right.on("click",this.nextClickHandler),this},d.prototype.prevClick=function(b){var c=this;this.$imgContainer.animate({right:"-50%",opacity:"0"},300,function(){c.$left.off("click",this.prevClickHandler),c.$right.off("click",this.nextClickHandler),c.$imgContainer.empty();var b=c.initialTrigger;c.initialTrigger=a(c.initialTrigger).closest(".nrd-slide").prev().find(".nrd-slide-media img")[0],c.initialTrigger||(c.initialTrigger=a(b).closest(".nrd-slider").find(".nrd-slide").last().find(".nrd-slide-media img")[0]),c.createNewImage(c.initialTrigger.src),c.$imgContainer.css({right:"50%"}),c.$imgContainer.animate({
right:"0",opacity:"1"},300,function(){c.$imgContainer.css({left:"auto",right:"auto"})})})},d.prototype.nextClick=function(b){var c=this;this.$imgContainer.animate({left:"-50%",opacity:"0"},300,function(){c.$left.off("click",this.prevClickHandler),c.$right.off("click",this.nextClickHandler),c.$imgContainer.empty();var b=c.initialTrigger;c.initialTrigger=a(c.initialTrigger).closest(".nrd-slide").next().find(".nrd-slide-media img")[0],c.initialTrigger||(c.initialTrigger=a(b).closest(".nrd-slider").find(".nrd-slide").find(".nrd-slide-media img")[0]),c.createNewImage(c.initialTrigger.src),c.$imgContainer.css({left:"50%"}),c.$imgContainer.animate({left:"0",opacity:"1"},300,function(){c.$imgContainer.css({left:"auto",right:"auto"})})})},d.prototype.onSneezeClick=function(a){return(a.target===this.$sneeze[0]||a.target===this.$modal[0])&&this.closeModal(),this},d}(jQuery,PF["views/View"],PF["utils/BreakpointHelper"]);var PF=PF||{};PF["views/modals/GalleryVideoModalView"]=function(a,b,c){"use strict";function d(){this.bpHelper=new c}return d.prototype=new b,d.prototype.constructor=d,d.prototype._super=b.prototype,d.prototype.init=function(){this._super.init.call(this),this.layout()},d.prototype.createChildren=function(){return this._super.createChildren.call(this),this.$body=a("body"),this.$modalTriggers=this._$el,this},d.prototype.setupHandlers=function(){return this._super.setupHandlers.call(this),this.onModalTriggerClickHandler=this.onModalTriggerClick.bind(this),this.onSneezeClickHandler=this.onSneezeClick.bind(this),this.closerClickHandler=this.closeModal.bind(this),this.onWindowChangeHandler=this.onWindowChange.bind(this),this},d.prototype.enable=function(){return this._super.enable.call(this),this.$modalTriggers.on("click",this.onModalTriggerClickHandler),a(document).on("BreakpointHelper.WindowChange",this.onWindowChangeHandler),this},d.prototype.disable=function(){return this.isEnabled=!1,this},d.prototype.layout=function(){return this.buildModal(),this},d.prototype.buildModal=function(){return this.$modal=a("<div>"),this.$sneeze=a("<div>"),this.$modal.addClass("js-gsVidModal").addClass("nrd-slider-sneeze-modal"),this.$sneeze.addClass("js-gsVidSneeze").addClass("nrd-slider-sneeze"),this.$sneeze.append(this.$modal),this.$body.append(this.$sneeze),this.$sneeze.on("click",this.onSneezeClickHandler),this},d.prototype.onModalTriggerClick=function(b){return this.initialTrigger=b.currentTarget,this.$modal&&(this.$vidContainer=a("<div>"),this.$vidContainer.addClass("nrd-slider-sneeze-modal-imgContainer"),this.$vidContainer.append(a("#video-holder").html()),this.$modal.append(this.$vidContainer),this.createCloser(),this.$sneeze.fadeIn().css("display","table")),this},d.prototype.createCloser=function(){return this.$closer=a("<div>"),this.$closer.addClass("nrd-slider-sneeze-modal-closer"),this.$closer.text("Close"),this.$closer.on("click",this.closerClickHandler),this.$vidContainer.append(this.$closer),this},d.prototype.closeModal=function(){var b=this;this.$sneeze.fadeOut(function(){a(b).css("display","none"),b.$modal.empty()})},d.prototype.onSneezeClick=function(a){return(a.target===this.$sneeze[0]||a.target===this.$modal[0])&&this.closeModal(),this},d.prototype.onWindowChange=function(){this.closeModal()},d}(jQuery,PF["views/View"],PF["utils/BreakpointHelper"]);var PF=PF||{};PF["views/HeaderView"]=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){"use strict";function o(){}var p=void 0;return o.prototype=new b,o.prototype.constructor=o,o.prototype.COOKIE_PET_TOTAL="totals_pets",o.prototype.COOKIE_SHELTER_TOTAL="totals_shelters",o.prototype.EVENTS={PET_TOTAL_UPDATED:"PET_TOTAL_UPDATED"},o.prototype._$userMenuEl=a("#js-header-userMenu"),o.prototype.petTotal="300,000+",o.prototype.petSheltersTotal="13,000+",o.prototype.isUserLoggedIn=!1,o.prototype.setupHandlers=function(){return this._clickUserSignInHandler=a.proxy(this._clickUserSignIn,this),this._clickUserAccountManagementHandler=a.proxy(this._clickUserAccountManagement,this),this._clickUserSavedSearchesHandler=a.proxy(this._clickUserSavedSearches,this),this._focusNewsFormHandler=a.proxy(this._focusNewsForm,this),this._openRegistrationModalHandler=a.proxy(this._openRegistrationModal,this),this._hideGlobalAlertHandler=a.proxy(this._hideGlobalAlert,this),this},o.prototype.enable=function(){return this.getIsEnabled()!==!0?(this._$userMenuEl.find("a.signin").on(PF.CONSTS.CLICK_EVENT,this._clickUserSignInHandler),this._$userMenuEl.find("a.js-accountMenu").on(PF.CONSTS.CLICK_EVENT,this._clickUserAccountManagementHandler),this._$userMenuEl.find("a.js-editAccount").on(PF.CONSTS.CLICK_EVENT,this._clickUserAccountEditHandler),this._$userMenuEl.find("a.js-savedSearches").off(PF.CONSTS.CLICK_EVENT).on(PF.CONSTS.CLICK_EVENT,this._clickUserSavedSearchesHandler),this.setIsEnabled(!0),this):void 0},o.prototype.disable=function(){return this.setIsEnabled(!1),this._$userMenuEl.find("a.signin").off(PF.CONSTS.CLICK_EVENT,this._clickUserSignInHandler),this._$userMenuEl.find("a.js-accountMenu").off(PF.CONSTS.CLICK_EVENT,this._clickUserAccountManagementHandler),this._$userMenuEl.find("a.js-editAccount").off(PF.CONSTS.CLICK_EVENT,this._clickUserAccountEditHandler),this._$userMenuEl.find("a.js-savedSearches").off(PF.CONSTS.CLICK_EVENT,this._clickUserAccountManagementHandler),a("body").off("openRegistration",data,this._openRegistrationModalHandler),this},o.prototype.getUrlParameter=function(a){for(var b=window.location.search.substring(1),c=b.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");if(e[0]==a)return e[1]}},o.prototype._clickUserSignIn=function(b){b.preventDefault();var c=(new PF["views/modals/UserLoginModalView"]).setEl(a(".nrd-modal")).init().present().done(function(a){a===l.RESPONSES.USER_SESSION_VALID||a===l.RESPONSES.USER_STATUS_ERROR;c.closeModal()})},o.prototype._clickUserAccountManagement=function(b){b.preventDefault();var c=a(".accountDropdown");c.hasClass("accountDropdown_isVisible")?this._hideMenu():this._showMenu()},o.prototype._clickUserSavedSearches=function(a){a.preventDefault(),this._hideMenu();var b=(new j).init().present().done(function(a){b.closeModal()})},o.prototype._updateTotals=function(){var b=this;if(a("#welcome-pet-total").length>0){var d=a.cookie(this.COOKIE_PET_TOTAL),e=a('[data-id="pet-total"]');void 0==d?c.getPetTotal().done(function(d,f){return d!==c.RESPONSES.PET_TOTAL_SUCCESS?(e.html(b.petTotal),void a(b).trigger(b.EVENTS.PET_TOTAL_UPDATED,b.petTotal)):(a.cookie(b.COOKIE_PET_TOTAL,f.results,{expires:0,secure:!0,path:"/"}),e.html(a.formatNumber(parseInt(f.results),{format:"#,###",locale:"us"})),b.petTotal=f.results,void a(b).trigger(b.EVENTS.PET_TOTAL_UPDATED,b.petTotal))}).fail(function(){e.html(b.petTotal),a(b).trigger(b.EVENTS.PET_TOTAL_UPDATED,b.petTotal)}):(e.html(a.formatNumber(parseInt(d),{format:"#,###",locale:"us"})),b.petTotal=d,a(b).trigger(b.EVENTS.PET_TOTAL_UPDATED,b.petTotal))}if(a("#welcome-shelter-total").length>0){var f=a.cookie(this.COOKIE_SHELTER_TOTAL),g=a('[data-id="shelter-total"]');void 0==f?i.getShelterTotal().done(function(c,d){return c!==i.RESPONSES.SHELTER_TOTAL_SUCCESS?void g.html(b.petSheltersTotal):(a.cookie(b.COOKIE_SHELTER_TOTAL,d.results,{expires:0,secure:!0,path:"/"}),void g.html(a.formatNumber(parseInt(d.results),{format:"#,###",locale:"us"})))}).fail(function(){g.html(b.petSheltersTotal)}):g.html(a.formatNumber(parseInt(f),{format:"#,###",locale:"us"}))}return this},o.prototype._hideMenu=function(){var b=a(".accountDropdown");b.removeClass("accountDropdown_isVisible")},o.prototype._showMenu=function(){var b=a(".accountDropdown");b.addClass("accountDropdown_isVisible")},o.prototype.update=function(){this._initialCheck(),c&&this._updateTotals()},o.prototype._initialCheck=function(){var a=this;l.getUserStatus().done(function(b,c){m.setUserProperties(!0),a.setTimeRemaining(c)}).fail(function(){m.setUserProperties(!1)})},o.prototype._checkUserStatus=function(){var a=this;l.getUserStatus().done(function(b,c){a.setTimeRemaining(c),0>=c&&window.location.reload()}).fail(function(){m.setUserProperties(!1),window.location.reload()})},o.prototype.setTimeRemaining=function(a){var b,c=60;120>=a?(c=a+1,this._timeoutModal()):this.notifyCloseTimeoutWarning(),b=1e3*c,this.checkSession(b)},o.prototype.checkSession=function(a){var b=this;setTimeout(function(){b._checkUserStatus()},a)},o.prototype._timeoutModal=function(){var a=(new n).init().present().done(function(b){a.closeModal()})},o.prototype.notifyCloseTimeoutWarning=function(){a(document).trigger("closeTimeout")},o.prototype._openRegistrationModal=function(a,b){},o.prototype._getUserAlerts=function(){return this},o.prototype._showGlobalAlert=function(a){return this},o.prototype._hideGlobalAlert=function(){return this},void 0==p&&(p=new o),p}(jQuery,PF["views/View"],PF["services/PetSearchService"],PF["views/modals/UserLoginModalView"],PF["services/UserService"],PF["views/modals/UserRegistrationModalView"],PF["views/modals/ModalView"],PF["services/ServiceConfiguration"],PF["services/ShelterService"],PF["views/modals/UserSavedSearchesModalView"],PF["views/modals/UserAccountEditModalView"],PF["services/SessionService"],PF["models/SessionModel"],PF["views/modals/AutoTimeoutModalView"]);var PF=PF||{};PF["views/PetSearchFormView"]=function(a,b,c,d,e){"use strict";function f(){return this.setEl(a("#fap-search-option")),this}return f.prototype=new e,f.prototype.constructor=f,f.prototype._breedAutocompleteCache={},f.prototype._petSearchRequestModel=null,f.prototype.setupHandlers=function(){return this._dropDownMultiSelectClickedHandler=a.proxy(this._dropDownMultiSelectClicked,this),this._petSearchAnimalChangedHandler=a.proxy(this._petSearchAnimalChanged,this),this._locationInputBlurHandler=a.proxy(this._locationInputBlur,this),this._dropDownClickHandler=a.proxy(this._dropDownClick,this),this._dropDownBtnClickHandler=a.proxy(this._dropDownBtnClick,this),this._bodyClickHandler=a.proxy(this._bodyClick,this),this},f.prototype.createChildren=function(){return this.$body=a("body"),this.$dropDowns=a(".styled-age-gender"),this.$dropDownBtn=this.$dropDowns.find(".styled-age-gender-button"),this.$dropDownInput=this.$dropDowns.find("input"),a(".mltslct").after('<div class="mltslct-instr-wrap"><span style="display:none;" class="mltslct-instr">ctrl+ for multi-select</span></div>').focus(function(){a(this).siblings().find(".mltslct-instr").show()}).blur(function(){a(this).siblings().find(".mltslct-instr").hide()}),this},f.prototype.enable=function(){return this.getIsEnabled()!==!0?(a("#location").on("input",this._locationInputBlurHandler),a("#fap-type").on("change",this._petSearchAnimalChangedHandler),this.$body.on(PF.CONSTS.CLICK_EVENT,this._bodyClickHandler),this.$dropDowns.on(PF.CONSTS.CLICK_EVENT,this._dropDownClickHandler),this.$dropDownBtn.on(PF.CONSTS.CLICK_EVENT,this._dropDownBtnClickHandler),this.$dropDownInput.on(PF.CONSTS.CLICK_EVENT,this._dropDownMultiSelectClickedHandler),this.setIsEnabled(!0),this):void 0},f.prototype.disable=function(){return this.setIsEnabled(!1),a("#location").off("input",this._locationInputBlurHandler),a("#fap-type").off("change",this._petSearchAnimalChangedHandler),this.$body.off(PF.CONSTS.CLICK_EVENT,this._bodyClickHandler),this.$dropDowns.off(PF.CONSTS.CLICK_EVENT,this._dropDownClickHandler),this.$dropDownBtn.off(PF.CONSTS.CLICK_EVENT,this._dropDownBtnClickHandler),this.$dropDownInput.off(PF.CONSTS.CLICK_EVENT,this._dropDownMultiSelectClickedHandler),this},f.prototype.setPetSearchRequestModel=function(a){return this._petSearchRequestModel=a,this},f.prototype._locationInputBlur=function(b){var c=a(b.currentTarget);this._petSearchRequestModel.set("location",c.val())},f.prototype._petSearchAnimalChanged=function(b){var c=a(b.currentTarget),d=c.val();""===d&&(d=void 0),this._petSearchRequestModel.set("animal",d),this._petSearchRequestModel.set("breed",void 0),this._updateWithBreedAutocompleteWithPetSearchRequestModel()},f.prototype._dropDownMultiSelectClicked=function(b){b.stopPropagation();var c=a(b.currentTarget),d=c.attr("name"),e=c.val();c.is(":checked")?this._petSearchRequestModel.addItemToArrayModelValue(d,e):this._petSearchRequestModel.removeItemFromArrayModelValue(d,e),this.updateFormPlaceholders()},f.prototype._dropDownClick=function(b){b.stopPropagation();var c=a(b.currentTarget);this.$dropDowns.removeClass("styled-age-gender-open"),c.addClass("styled-age-gender-open")},f.prototype._bodyClick=function(a){this.$dropDowns.removeClass("styled-age-gender-open")},f.prototype._dropDownBtnClick=function(a){a.stopPropagation(),this.$dropDowns.removeClass("styled-age-gender-open")},f.prototype.updateFromPetSearchRequestModel=function(){for(var b,c=this._petSearchRequestModel.getModelKeys(),d=["location","animal","breed","age","gender"],e=0;e<c.length;e++){var f=c[e];if(-1!==d.indexOf(f)){var g=this._petSearchRequestModel.get(f);if(void 0!=g&&("location"===f&&a("#location, #rr-fawg-location-input").val(g.replace(/\+/g," ").replace(/&#39;/g,"'")),"breed"===f&&(b="object"==typeof g?g[0].primary_breed:g),"animal"===f&&a("#fap-type option[value="+g+"]").prop("selected",!0),"age"===f||"gender"===f))for(var h=a("#fap-top-"+f),i=0;i<g.length;i++){var j=g[i],k=h.find("input[value="+j+"]");k.prop("checked",!0)}}}this._updateWithBreedAutocompleteWithPetSearchRequestModel(),a("#fap-breed-id").val(b),this.updateFormPlaceholders()},f.prototype.updateFormPlaceholders=function(){if(void 0!=this._petSearchRequestModel.get("age")){var b=this._petSearchRequestModel.get("age").length>1?"Multiple":this._petSearchRequestModel.get("age")[0];a("#fap-top-age .selected-value").html(b.capitalize())}else a("#fap-top-age .selected-value").html("Any Age");if(void 0!=this._petSearchRequestModel.get("animal"),void 0!=this._petSearchRequestModel.get("gender")){var b=this._petSearchRequestModel.get("gender").length>1?"Multiple":this._petSearchRequestModel.get("gender")[0];a("#fap-top-gender .selected-value").html(b.capitalize())}else a("#fap-top-gender .selected-value").html("Any")},f.prototype.clearForm=function(){a("#location").val(""),a("#fap-breed-id").val(""),a("#fap-type option.any").prop("selected",!0),a("#fap-top-age input").prop("checked",!1),a("#fap-top-gender input").prop("checked",!1)},f.prototype._updateWithBreedAutocompleteWithPetSearchRequestModel=function(){var b=a("#fap-breed-id").clone(),d=a("#fap-breed-id").parent();a("#fap-breed-id").remove(),d.append(b),a("#fap-breed-id").val("");var e=this._petSearchRequestModel.get("animal");if(""!==e&&void 0!=this._breedAutocompleteCache[e])return void this._autocompleteDone(this._breedAutocompleteCache[e]);var f=this._petSearchRequestModel.getModelMetaData("animal"),g=f.QUERY_VALUE_MAPPING;void 0!=g[e]&&(e=g[e]);var h=this;c.getBreedsAutoCompleteDataForAnimal(e).done(function(a,b){a===c.RESPONSES.BREEDS_RESPONSE_WITH_RESULTS&&(h._breedAutocompleteCache[e]=b,h._autocompleteDone(b))}).fail(function(a,b,c){})},f.prototype._filterBreedAutoCompleteData=function(b,c,d){var e=new RegExp("\\b"+b.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"im");return a.grep(c,function(b){return"object"===a.type(b)?e.test(b.value):e.test(b)})},f.prototype._autocompleteDone=function(b){var c=this,d={typeAhead:!0,source:b,filter:function(b,d){var e=this;a(e).data("smart-autocomplete");return c._filterBreedAutoCompleteData(b,d,e)}};a("#fap-breed-id").smartAutoComplete(d),a("#fap-breed-id").bind({itemSelect:function(b,d){var e=a(d).text();c._petSearchRequestModel.set("breed",e)}})},f}(jQuery,PF["models/PetSearchRequestModel"],PF["services/PetSearchService"],PF["models/PetSearchResponseModel"],PF["views/View"]);var PF=PF||{};PF["views/PetDetailSearchHeaderView"]=function(a,b,c,d,e){"use strict";function f(){this.setEl(a("#js-petDetail-searchheaderView"))}return f.prototype=new e,f.prototype.constructor=f,f.prototype._petSearchRequestModel=null,f.prototype.currentPetId=null,f.prototype._currentPageNumber=null,f.prototype.setupHandlers=function(){return this._petSearchHandleDoneHandler=a.proxy(this._petSearchDone,this),this._petSearchHandleFailHandler=a.proxy(this._petSearchFail,this),this},f.prototype.updateWithSearch=function(a){this.getEl().hide(),this._petSearchRequestModel=(new b).updateFromCookies();var d=this._petSearchRequestModel.get("pageNumber");this._currentPageNumber=d,d>0&&d--;var e=this._petSearchRequestModel.getModelMetaData("pageSize"),f=0===parseInt(d)?2:3,g=e.DEFAULT_VALUE*f;this._petSearchRequestModel.set("pageNumber",d),this._petSearchRequestModel.set("pageSize",g),c.getPetsForPetSearchRequestModel(this._petSearchRequestModel,"model").done(this._petSearchHandleDoneHandler).fail(this._petSearchHandleFailHandler)},f.prototype._petSearchDone=function(a,b){if(this._petSearchRequestModel.set("pageNumber",this._currentPageNumber),a===c.RESPONSES.PET_SEARCH_RESPONSE_WITHOUT_RESULTS)return void this._petSearchDoneNoResults();var d=this._updatePetDetailPaginatorView(b);d===!0&&this.getEl().show()},f.prototype._petSearchDoneNoResults=function(){},f.prototype._petSearchFail=function(a){return a===c.RESPONSES.PET_SEARCH_ERROR_LOCATION_NOT_SET?void this._petSearchDoneNoResults():void this._petSearchDoneNoResults()},f.prototype._updatePetDetailPaginatorView=function(b){for(var c,d=b.get("results"),e=0;e<d.length;e++){var f=d[e];parseInt(this.currentPetId)!==parseInt(f.get("id"))||(c=e)}if(void 0==c)return!1;a("#js-petDetail-searchHeaderView-returnToSearchResults").attr("href",this._petSearchRequestModel.get("searchURL"));var g=this._petSearchRequestModel.getModelDefaultValue("pageSize")*b.get("pageNumber");this.getEl().find('*[data-id="current-pet-index"]').html(a.formatNumber(c+g+1,{format:"#,###",locale:"us"}));var h=b.get("totalResults");if(this.getEl().find('*[data-id="totalresults"]').html(a.formatNumber(h,{format:"#,###",locale:"us"})),this.getEl().find(".js-petSearchResults-headline").html(b.getHeadlineTextForResponse()),a("#pet-profile-paginator").hide(),d.length<2)return!0;if(a("#pet-profile-paginator").show(),0==b.get("pageNumber")&&0!=c||b.get("pageNumber")>0){var i=b.get("results")[c-1];this.getEl().find('*[data-id="previous-link"]').attr("href","/petdetail/?id="+i.get("id")).removeClass("disabled")}if(g+1+c<b.get("totalResults")){var j=b.get("results")[c+1];this.getEl().find('*[data-id="next-link"]').attr("href","/petdetail/?id="+j.get("id")).removeClass("disabled"),this.getEl().find('*[data-id="next-pet-thumbnail"]').attr("src",j.get("primaryPhotoThumbURL"))}else this.getEl().find('*[data-id="next-link"]').addClass("disabled");return!0},f}(jQuery,PF["models/PetSearchRequestModel"],PF["services/PetSearchService"],PF["models/PetSearchResponseModel"],PF["views/View"]);var PF=PF||{};PF["views/RecentlyViewedPetsView"]=function(a,b,c,d){"use strict";function e(){this.setEl(a(".js-recentlyViewedPets")),this._updateDataFromCookies(),this._update()}return e.prototype=new b,e.prototype.constructor=e,e.prototype._recentlyViewPetsData=null,e.prototype._update=function(){if(void 0==this._recentlyViewPetsData||0===this._recentlyViewPetsData.length)return void a("#recentpets").hide();for(var b=[],c=0;c<this._recentlyViewPetsData.length;c++)b.push(this._recentlyViewPetsData[c].getAllValuesAsObject());var d=a("#js-recentlyViewedPets-template").html(),e=Handlebars.compile(d),f={pets:b};this.getEl().append(e(f))},e.prototype._updateDataFromCookies=function(){var b=a.cookie("pf_recentlyViewedPets");if(void 0!=b){var d=JSON.parse(b);if("object"==typeof d&&d instanceof Array){for(var e=[],f=0;f<d.length;f++){var g=d[f].split("|"),h=new c;h.set("name",g[0]),h.set("id",g[1]);var i=g[2].replace("width=800","width=135");h.set("recentlyViewedPhotoURL",i),e.push(h)}this._recentlyViewPetsData=e}}},e}(jQuery,PF["views/View"],PF["models/PetModel"],PF["views/HeaderView"]);var PF=PF||{};PF["views/PetSearchFiltersView"]=function(a,b,c,d){"use strict";function e(){this.setEl(a("#fap-more-search-options"))}e.prototype=new d;var f=e.prototype,g=d.prototype;return f.constructor=e,f.EVENTS={PETSEARCHFILTERSVIEW_UPDATEWITHSEARCH:"PetSearchFiltersView_UpdateSearchEvent",PETSEARCHFILTERSVIEW_UPDATESEARCHFORMWITHSEARCHMODEL:"PetSearchFiltersView_UpdateSearchFormWithSearchModel"},f._petSearchRequestModel=null,f.init=function(){return g.init.call(this),this.editablePetModelProperties=["animal","breed","breedSecondary","characteristics","distance","characteristics","location","size","name","household","age","gender","shelterId",""],this},f.setupHandlers=function(){return this._onFilterCheckboxChangeHandler=a.proxy(this._onFilterCheckboxChange,this),this._clearAllFiltersHandler=a.proxy(this._onClearAllClick,this),this._toggleVisibilityHandler=a.proxy(this._onShowHideClick,this),this._nameInputBlurHandler=a.proxy(this._nameInputBlur,this),this._onFapTypeChangeHandler=a.proxy(this._onPetTypeChange,this),this._onDistanceChangeHandler=a.proxy(this._onDistanceChange,this),this._onWindowPopStateHandler=a.proxy(this._onWindowPopState,this),this},f.createChildren=function(){return this.$nameInput=a("#fap-name"),this.$petTypeInput=a("#fap-type"),this.$distanceSelect=a("#fap-distance"),this.$filterCheckboxes=a("#fap-more-search-options [type=checkbox]"),this.$showHideFilterToggleBtn=a("a.show-hide-filters"),this.$clearAllFiltersBtn=a(".js-fap-clear-filters"),this},f.enable=function(){return this.getIsEnabled()!==!0?(this.getEl().find("input").prop("disabled",!1),this.getEl().find("select").prop("disabled",!1),this.$filterCheckboxes.on("change",this._onFilterCheckboxChangeHandler),this.$clearAllFiltersBtn.on("click",this._clearAllFiltersHandler),this.$showHideFilterToggleBtn.on("click",this._toggleVisibilityHandler),this.$nameInput.on("change",this._nameInputBlurHandler),this.$petTypeInput.on("change",this._onFapTypeChangeHandler),this.$distanceSelect.on("change",this._onDistanceChangeHandler),window.addEventListener("popstate",this._onWindowPopStateHandler),this.setIsEnabled(!0),this):void 0},f.disable=function(){return this.getEl().find("input").prop("disabled",!0),this.getEl().find("select").prop("disabled",!0),this.$filterCheckboxes.off("change",this._onFilterCheckboxChangeHandler),this.$clearAllFiltersBtn.off("click",this._clearAllFiltersHandler),this.$showHideFilterToggleBtn.off("click",this._toggleVisibilityHandler),this.$nameInput.off("change",this._nameInputBlurHandler),this.$petTypeInput.off("change",this._onFapTypeChangeHandler),this.$distanceSelect.off("change",this._onDistanceChangeHandler),this.setIsEnabled(!1),this},f._onPetTypeChange=function(a){var b=a.currentTarget.value,c=this._getParamArray();c=this._removeURLParam("animal",c),""===b?c=this._removeURLParam("breed",c):(c=this._removeURLParam("breed",c),c=this._addURLParam("animal",b,c)),Modernizr.history&&(this._removeValueFromPetSearchRequestModel("breed"),""===b?this._removeValueFromPetSearchRequestModel("animal"):this._addValueToPetSearchRequestModel("animal",b)),this._reloadSearch(c)},f._onDistanceChange=function(a){var b=a.currentTarget.value,c=this._getParamArray();c=this._removeURLParam("distance",c),this._removeValueFromPetSearchRequestModel("distance",b),""!==b&&(c=this._addURLParam("distance",b,c),Modernizr.history&&this._addValueToPetSearchRequestModel("distance",b)),this._reloadSearch(c)},f.reloadPageWithNewQuery=function(a){this.disable(),window.location.assign(window.location.protocol+"//"+window.location.hostname+window.location.pathname+this._buildQueryStringFromParamArray(a))},f._reloadSearch=function(a){this.disable(),Modernizr.history?(this._updateURLParameters(a),this._resetPetSearchRequestModel(),this.updateFromPetSearchRequestModel(),this._triggerUpdateSearchEvents()):this.reloadPageWithNewQuery(a)},f._resetPetSearchRequestModel=function(){this._petSearchRequestModel.set("pageNumber",0),this._petSearchRequestModel.set("queryId",void 0)},f._triggerUpdateSearchEvents=function(){a(this).trigger(this.EVENTS.PETSEARCHFILTERSVIEW_UPDATEWITHSEARCH,"model"),a(this).trigger(this.EVENTS.PETSEARCHFILTERSVIEW_UPDATESEARCHFORMWITHSEARCHMODEL)},f._removeValueFromPetSearchRequestModel=function(a,b){return this._petSearchRequestModel.isPropertyArray(a)===!0?this._petSearchRequestModel.removeItemFromArrayModelValue(a,b):this._petSearchRequestModel.set(a,void 0),this},f._addValueToPetSearchRequestModel=function(a,b){this._petSearchRequestModel.isPropertyArray(a)===!0?this._petSearchRequestModel.addItemToArrayModelValue(a,b):this._petSearchRequestModel.set(a,b)},f._buildQueryStringFromParamArray=function(a){return"?"+a.join("&")},f._removeURLParam=function(a,b){var c=b.filter(this._isParamNotKey.bind(this,a));return c},f._removeURLParamValue=function(a,b,c){var d=c.filter(this._isParamNotKeyValue.bind(this,a,b));return d},f._addURLParam=function(a,b,c){var d=c.filter(this._isParamNotKeyValue.bind(this,a,b));return d.push(a+"="+b),d},f._getParamArray=function(){var a=window.location.search.substring(1),b=a.split("&");return this._removeEmptyOrInvalidParams(b)},f.isParamValid=function(a){var b=a.split("=");return-1===b.indexOf("")},f._isParamNotKey=function(a,b){var c=b.split("=");return c[0]!==a},f._isParamKey=function(a,b){var c=b.split("=");return c[0]===a},f._isParamNotKeyValue=function(a,b,c){return c!==a+"="+b},f._removeEmptyOrInvalidParams=function(a){return a.filter(this.isParamValid)},f._updateURLParameters=function(a){history.pushState("","",this._buildQueryStringFromParamArray(a))},f.setPetSearchRequestModel=function(a){return this._petSearchRequestModel=a,this},f._onFilterCheckboxChange=function(b){var c=a(b.currentTarget),d=c.attr("name"),e=c.val(),f=this._getParamArray();c.is(":checked")?(f=this._addURLParam(d,e,f),this._addValueToPetSearchRequestModel(d,e)):(f=this._removeURLParamValue(d,e,f),this._removeValueFromPetSearchRequestModel(d,e)),this._reloadSearch(f)},f._onShowHideClick=function(a){a.preventDefault(),this.toggleVisibility()},f._onClearAllClick=function(b){b.preventDefault();var c=this,d=window.location.href;this._petSearchRequestModel.updateFromCookies();var e=this._petSearchRequestModel.get("location"),f=this._petSearchRequestModel.get("locationLat"),g=this._petSearchRequestModel.get("locationLon");this._petSearchRequestModel._resetModel(),void 0!=e&&this._petSearchRequestModel.set("location",e),void 0!=f&&this._petSearchRequestModel.set("locationLat",f),void 0!=g&&this._petSearchRequestModel.set("locationLon",g),this.getEl().find("input:checkbox").each(function(){if(a(this).is(":checked")){var b=a(this).attr("name"),e=a(this).val();c._updateURLwithParams(d,b,e)}});var h=a("#fap-distance").attr("name"),i=void 0,j="&"+h+"="+i;this._updateDistanceParameter(d,j,h,i),a("#fap-type option").eq(0).prop("selected",!0),a('#fap-top-age input[type="checkbox"]').each(function(){a(this).removeAttr("checked")}),a('#fap-top-gender input[type="checkbox"]').each(function(){a(this).removeAttr("checked")}),this.updateFromPetSearchRequestModel(),this.disable(),a(this).trigger(this.EVENTS.PETSEARCHFILTERSVIEW_UPDATEWITHSEARCH,"model"),a(this).trigger(this.EVENTS.PETSEARCHFILTERSVIEW_UPDATESEARCHFORMWITHSEARCHMODEL)},f.toggleVisibility=function(){a("ul.filters").slideToggle()},f.updateFromPetSearchRequestModel=function(){this.clearAllFilters();for(var a=this._petSearchRequestModel.getModelKeys(),b=["distance","characteristics","animal","location","size","name","household","age","gender","breed","shelterId"],c=0;c<a.length;c++){var d=a[c];if(-1!==b.indexOf(d)){var e=this._petSearchRequestModel.get(d);(void 0!=e||"distance"===d)&&("name"===d&&(e=e.replace(/\*/g,"")),"breed"==d&&(e=e[0].primary_breed),this._buildFilterElAndAddToDOM(d,e))}}},f._buildFilterElAndAddToDOM=function(b,c){var d,e,f,g=!1;if("distance"===b&&(""===c||void 0===c?a("#fap-distance .any").prop("selected",!0):a('#fap-distance option[value="'+c+'"]').prop("selected",!0)),""==c||null==c)return!1;switch(this._petSearchRequestModel.isPropertyArray(b)===!0&&(g=!0),b){case"location":d="Location",e=decodeURIComponent(c),f=a("#location-filters");break;case"shelterId":d="Shelter",e=c,f=a("#location-filters");break;case"animal":d="Type",e=c,f=a("#animal-filters");break;case"breed":d="Breed",e=decodeURIComponent(c),f=a("#animal-filters");break;case"age":d="Age",e=c,f=a("#animal-filters");break;case"gender":d="Gender",e=c,f=a("#animal-filters");break;case"distance":d="Distance",e=c+" miles",f=a("#location-filters");break;case"characteristics":d="Characteristics",e=c,f=a("#additional-filters");break;case"size":d="Size",e=c,f=a("#animal-filters");break;case"household":d="My Household Has",e=c,f=a("#additional-filters");break;case"name":d="Name",e=c,f=a("#additional-filters");break;case"sort":d="Sort",e=c,f=a("#location-filters");break;default:d=b,e=c,f=a("#additional-filters")}if("name"===b&&a("#fap-name").val(e.replace(/</g,"").replace(/>/g,"")),"characteristics"===b||"size"===b||"household"===b)for(var h=a("#fap-"+b),i=0;i<c.length;i++){var j=c[i],k=h.find("input[value="+j+"]");k.prop("checked",!0)}var l;if("location"===b)l=a("<li />").addClass("filters-category filter-"+b),l.append('<strong class="filters-category-hdg">'+d+":</strong>").append(e.replace(/</g,"").replace(/>/g,"")),f.append(l);else if(l=a("<li />").addClass("filters-category filter-"+b),l.append('<strong class="filters-category-hdg">'+d+":</strong>"),g===!1){var m=this._buildFilterDeleteLinkEl(b,e);l.append(m),f.append(l)}else{for(var i=0;i<c.length;i++){var j=c[i],m=this._buildFilterDeleteLinkEl(b,j);l.append(m)}f.append(l)}},f._buildFilterDeleteLinkEl=function(b,c){var d=a("<a />").attr({href:"#",title:"Remove Filter","data-filter-type":b,"data-filter-value":c}).html(c+'<span class="filters-category-item-close"></span>').addClass("filters-category-item"),e=this;return a(".fap-"+b).is("select")?"multiple"===a("select.fap-"+b).attr("multiple")?d.on(PF.CONSTS.CLICK_EVENT,function(d){d.preventDefault(),a(".fap-"+b+' ul li[data-value="'+c+'"]').trigger(PF.CONSTS.CLICK_EVENT),a("#fap-search-options .fap-"+b).length>0&&e._removeFilter(b,c)}):d.on(PF.CONSTS.CLICK_EVENT,function(d){d.preventDefault(),a(".fap-"+b+" ul li.any").trigger(PF.CONSTS.CLICK_EVENT),a("#fap-"+b+' option[selected="selected"]').removeAttr("selected"),e._removeFilter(b,c)}):d.on(PF.CONSTS.CLICK_EVENT,function(d){d.preventDefault(),e._removeFilter(b,c),a("#fap-"+b+"-"+c).length?a("#fap-"+b+"-"+c).prop("checked",!1):a("#fap-"+b).val("")}),d},f._addFilter=function(a,b){},f._removeFilter=function(b,c){var d=window.location.href;this._petSearchRequestModel.isPropertyArray(b)===!0?this._petSearchRequestModel.removeItemFromArrayModelValue(b,c):this._petSearchRequestModel.set(b,void 0),this._updateURLwithParams(d,b,c),this._petSearchRequestModel.set("pageNumber",0),this._petSearchRequestModel.set("queryId",void 0),this.updateFromPetSearchRequestModel(),this.disable(),a(this).trigger(this.EVENTS.PETSEARCHFILTERSVIEW_UPDATEWITHSEARCH,"model"),a(this).trigger(this.EVENTS.PETSEARCHFILTERSVIEW_UPDATESEARCHFORMWITHSEARCHMODEL)},f._updateURLwithParams=function(a,b,c){},f._updateDistanceParameter=function(a,b,c,d){if(a.indexOf(c)>-1){var e,f=a.indexOf(c),g=c.length+1,h=f+g;if(-1!==a.slice(f).indexOf("&")){var i=a.slice(h).indexOf("&")+h;e=a.slice(h,i)}else e=a.slice(h);var j="&"+c+"="+e;void 0==d?history.pushState&&history.pushState("","",a.replace(j,"")):history.pushState&&history.pushState("","",a.replace(j,b))}else history.pushState&&history.pushState("","",a+b)},f.clearAllFilters=function(){this.getEl().find("input:checkbox").each(function(){a(this).attr("checked",!1)}),a("#fap-name").val(""),a("#fap-distance option").eq(0).prop("selected",!0),a("#location-filters").empty(),a("#animal-filters").empty(),a("#additional-filters").empty()},f.clearForSearch=function(){a("#fap-type option").eq(0).prop("selected",!0),a('#fap-top-age input[type="checkbox"]').each(function(){a(this).removeAttr("checked")}),a('#fap-top-gender input[type="checkbox"]').each(function(){a(this).removeAttr("checked")}),this.updateFromPetSearchRequestModel()},f._nameInputBlur=function(b){var c=a(b.currentTarget);this._petSearchRequestModel.set("name",c.val().replace(/</g,"").replace(/>/g,""))},f._onWindowPopState=function(){this._resetPetSearchRequestModel(),this._petSearchRequestModel.updateFromLocation(window.location),
this.updateFromPetSearchRequestModel(),this._triggerUpdateSearchEvents()},e}(jQuery,PF["models/PetSearchRequestModel"],PF["models/PetSearchResponseModel"],PF["views/View"]);var PF=PF||{};PF["views/PetSearchResultsView"]=function(a,b,c,d,e,f,g,h,i,j,k){"use strict";function l(){}return l.prototype=new e,l.prototype.constructor=l,l.prototype._petSearchRequestModel=null,l.prototype.setupHandlers=function(){return this._saveSearchClickHandler=a.proxy(this._saveSearchClick,this),this._shareSearchClickHandler=a.proxy(this._shareSearchClick,this),this._preventLinkPaginationHandler=a.proxy(this._preventLinkPagination,this),this},l.prototype.enable=function(){return this.getIsEnabled()!==!0?(a("#subscribe-get-updates").on(PF.CONSTS.CLICK_EVENT,this._saveSearchClickHandler),a("#no-results-save-search").on(PF.CONSTS.CLICK_EVENT,this._saveSearchClickHandler),a("#share-search").on(PF.CONSTS.CLICK_EVENT,this._shareSearchClickHandler),this.setIsEnabled(!0),this):void 0},l.prototype.disable=function(){return this.setIsEnabled(!1),a("#subscribe-get-updates").off(PF.CONSTS.CLICK_EVENT,this._saveSearchClickHandler),a("#no-results-save-search").off(PF.CONSTS.CLICK_EVENT,this._saveSearchClickHandler),a("#share-search").off(PF.CONSTS.CLICK_EVENT,this._shareSearchClickHandler),this},l.prototype.setPetSearchRequestModel=function(a){return this._petSearchRequestModel=a,this},l.prototype._shareSearchClick=function(a){a.preventDefault();var b=(new k).init().setSearchURL(this._petSearchRequestModel.get("searchURL"));b.present()},l.prototype._saveSearchClick=function(a){a.preventDefault();var b=this;if(g.get("loggedIn")!==!0){var c=(new f).init().setLoginMessage("<p>Login below to save your search and opt-in to get daily adoptable-pet updates in your in box!</p><p>Don't have a Petfinder account? Register below.</p>");return void c.present({title:"Login to Petfinder to Save Your Search",queryParams:"&subscribeSearch=open"}).done(function(a){c.closeModal();var d=(new j).init().setQueryId(b._petSearchRequestModel.get("queryId"));d.present().done(function(){d.closeModal()})}).fail(function(a){})}var d=(new j).init().setQueryId(this._petSearchRequestModel.get("queryId"));d.present().done(function(){d.closeModal()})},l.prototype.updateWithResults=function(b){this._updatePetSearchPaginatorView(b),this._updatePetSearchHeaderView(b),this._updatePetSearchResults(b),a("#js-petSearch-searchHeader-paginationView").show(),a("#js-petSearch-searchHeader-resultsHeadlineView").show(),a(".js-breadcrumb").show(),a("#js-petSearch-searchHeader-resultsHeadlineView h1").show(),a("#js-petSearch-searchFooter-paginationView").show()},l.prototype._updatePetSearchHeaderView=function(b){var c=b.get("totalResults"),d=this._petSearchRequestModel.get("pageNumber")*this._petSearchRequestModel.get("pageSize"),e=d+this._petSearchRequestModel.get("pageSize"),f=e>c?c:e,g=Math.ceil(c/this._petSearchRequestModel.get("pageSize")),h={format:"#,###",locale:"us"};if(a('*[data-id="previousPageLink"]').attr("href","#").addClass("disabled"),a('*[data-id="nextPageLink"]').attr("href","#").addClass("disabled"),a('*[data-id="previousPageLink"][href="#"], *[data-id="nextPageLink"][href="#"]').off(PF.CONSTS.CLICK_EVENT,this._preventLinkPaginationHandler),b.get("totalResults")>this._petSearchRequestModel.get("pageSize")){var i=parseInt(this._petSearchRequestModel.get("pageNumber"))+1,j=parseInt(this._petSearchRequestModel.get("pageNumber"))-1,k="/pet-search?query_id="+this._petSearchRequestModel.get("queryId"),l=k+"&page_number="+i,m=k+"&page_number="+j;j>=0&&a('*[data-id="previousPageLink"]').attr("href",m).removeClass("disabled"),i*this._petSearchRequestModel.get("pageSize")<b.get("totalResults")&&a('*[data-id="nextPageLink"]').attr("href",l).removeClass("disabled"),a('*[data-id="currentPage"]').html(a.formatNumber(i,h)),a('*[data-id="numPages"]').html(a.formatNumber(g,h)),a(".btm-pagination").show()}else a('*[data-id="currentPage"]').html(a.formatNumber(1,h)),a('*[data-id="numPages"]').html(a.formatNumber(1,h)),a(".btm-pagination").hide();a('*[data-id="previousPageLink"][href="#"], *[data-id="nextPageLink"][href="#"]').on(PF.CONSTS.CLICK_EVENT,this._preventLinkPaginationHandler),a('*[data-id="startItemNum"]').html(a.formatNumber(d+1,h)),a('*[data-id="endItemNum"]').html(a.formatNumber(f,h))},l.prototype._updatePetSearchResults=function(b){this.updateOGData(b);var c=a("#js-petsearch-results-template").html(),d=Handlebars.compile(c),e=b.getAllValuesAsObject(),f={pets:e.results};a("#search-results").append(d(f))},l.prototype._updatePetSearchPaginatorView=function(b){var c=b.get("totalResults");a('*[data-id="totalresults"]').html(a.formatNumber(c,{format:"#,###",locale:"us"})),a(".js-petSearchResults-headline").html(b.getHeadlineTextForResponse()),b.showPartialSearchMessage(),void 0!=b.get("results")&&b.get("results").length>0&&(document.title=b.get("documentTitle"))},l.prototype.updateOGData=function(b){var c="Pets available around "+b.__metaData.query.location,d="Search results";a('meta[property="og:title"]').attr("content",c),a('meta[property="og:type"]').attr("content",d),a('meta[property="og:description"]').attr("content",c)},l.prototype._preventLinkPagination=function(a){a.preventDefault()},l}(jQuery,PF["models/PetSearchRequestModel"],PF["services/PetSearchService"],PF["models/PetSearchResponseModel"],PF["views/View"],PF["views/modals/UserLoginModalView"],PF["models/SessionModel"],PF["services/SessionService"],PF["views/HeaderView"],PF["views/modals/SaveSearchModalView"],PF["views/modals/LinkToSearchModalView"]);var PF=PF||{};PF["views/PetSearchView"]=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){"use strict";function q(){}var r=null;return q.prototype=new j,q.prototype.constructor=q,q.prototype._petSearchResultsView=null,q.prototype._petSearchFiltersView=null,q.prototype._petSearchFormView=null,q.prototype._firstSearch=!0,q.prototype._savedSearchedVisible=!1,q.prototype._petSearchRequestModel=null,q.prototype._savedSearchesIsOpen=!1,q.prototype.setupHandlers=function(){return this._petSearchDoneHandler=a.proxy(this._petSearchDone,this),this._petSearchFailHandler=a.proxy(this._petSearchFail,this),this._updateSearchFormEventHandler=a.proxy(this._updateSearchForm,this),this._updateWithSearchEventHandler=a.proxy(this._updateWithSearchEvent,this),this._savedSearchesUpdatedHandler=a.proxy(this._savedSearchesUpdated,this),this._savedSearchItemClickHandler=a.proxy(this._saveSearchItemClick,this),this._savedSearchItemDeleteClickHandler=a.proxy(this._savedSearchItemDeleteClick,this),this._savedSearchClickHandler=a.proxy(this._savedSearchClick,this),this._submitSearchClickHandler=a.proxy(this._submitSearchClick,this),this._bodyClickHandler=a.proxy(this._bodyClick,this),this},q.prototype.createChildren=function(){return this._petSearchResultsView=(new g).init(),this._petSearchFormView=(new i).init(),this._petSearchFiltersView=(new h).init().disable(),this},q.prototype.enable=function(){return this.getIsEnabled()!==!0?(a(this._petSearchFiltersView).on(this._petSearchFiltersView.EVENTS.PETSEARCHFILTERSVIEW_UPDATEWITHSEARCH,this._updateWithSearchEventHandler),a(this._petSearchFiltersView).on(this._petSearchFiltersView.EVENTS.PETSEARCHFILTERSVIEW_UPDATESEARCHFORMWITHSEARCHMODEL,this._updateSearchFormEventHandler),a(k).on(k.EVENTS.MODEL_PROPERTY_CHANGED,this._savedSearchesUpdatedHandler),a("#js-searchForm-savedSearchContainer").on(PF.CONSTS.CLICK_EVENT,".search-item a",this._savedSearchItemClickHandler),a("#js-searchForm-savedSearchContainer").on(PF.CONSTS.CLICK_EVENT,".savedSearch-delete",this._savedSearchItemDeleteClickHandler),a("#js-petsearch-results-savedSearchToggle").on(PF.CONSTS.CLICK_EVENT,this._savedSearchClickHandler),a(".js-sanitize-submit").on(PF.CONSTS.CLICK_EVENT,this._submitSearchClickHandler),this.setIsEnabled(!0),this):void 0},q.prototype.disable=function(){return this.setIsEnabled(!1),a(this._petSearchFiltersView).off(this._petSearchFiltersView.EVENTS.PETSEARCHFILTERSVIEW_UPDATEWITHSEARCH,this._updateWithSearchEventHandler),a(this._petSearchFiltersView).off(this._petSearchFiltersView.EVENTS.PETSEARCHFILTERSVIEW_UPDATESEARCHFORMWITHSEARCHMODEL,this._updateSearchFormEventHandler),a(k).off(k.EVENTS.MODEL_PROPERTY_CHANGED,this._savedSearchesUpdatedHandler),a("#js-searchForm-savedSearchContainer").off(PF.CONSTS.CLICK_EVENT,".search-item a",this._savedSearchItemClickHandler),a("#js-searchForm-savedSearchContainer").off(PF.CONSTS.CLICK_EVENT,".savedSearch-delete",this._savedSearchItemDeleteClickHandler),a("#js-petsearch-results-savedSearchToggle").off(PF.CONSTS.CLICK_EVENT,this._savedSearchClickHandler),a(".js-sanitize-submit").off(PF.CONSTS.CLICK_EVENT,this._submitSearchClickHandler),this},q.prototype.setSavedSearchedVisible=function(b){var c=a("#saved-search-list");return b===!0?(c.show(),a("body").on(PF.CONSTS.CLICK_EVENT,this._bodyClickHandler)):(c.hide(),a("body").off(PF.CONSTS.CLICK_EVENT,this._bodyClickHandler)),this._savedSearchedVisible=b,this},q.prototype.setPetSearchRequestModel=function(a){return this._petSearchRequestModel=a,this._petSearchResultsView.setPetSearchRequestModel(this._petSearchRequestModel),this._petSearchFormView.setPetSearchRequestModel(this._petSearchRequestModel),this._petSearchFiltersView.setPetSearchRequestModel(this._petSearchRequestModel),this},q.prototype._bodyClick=function(a){a.preventDefault(),this.setSavedSearchedVisible(!1)},q.prototype._savedSearchClick=function(a){a.preventDefault(),a.stopPropagation(),this.setSavedSearchedVisible(!this._savedSearchedVisible)},q.prototype._saveSearchItemClick=function(b){b.preventDefault(),b.stopPropagation();var c=a(b.currentTarget),d=c.text();this.updateWithSearch("saved",d),this.setSavedSearchedVisible(!1),this._petSearchFiltersView.clearForSearch()},q.prototype._savedSearchItemDeleteClick=function(b){b.preventDefault(),b.stopPropagation();var c=a(b.currentTarget),d=c.parent().data("searchname");a.when(l.deleteSavedSearch(d)).done(function(a,b){var c=new m;c.presentAlert("<h3>You have successfully deleted your search</h3>")}).fail(function(){var a=new m;a.presentAlert("<h3>An error occurred and your search was not saved.</h3>")})},q.prototype._savedSearchesUpdated=function(b,c){if("savedSearches"===c){a("#js-searchForm-savedSearchContainer").children().remove();var d=k.get("savedSearches"),e=a("#js-petsearch-results-savedSearchs-template").html(),f=Handlebars.compile(e),g={savedSearches:d};a("#js-searchForm-savedSearchContainer").append(f(g)).show(),this.setSavedSearchedVisible(this._savedSearchedVisible),this.disable().enable()}},q.prototype._updateWithSearchEvent=function(b,c){a("#js-petSearch-additionalFilters-filtersUpdatedInput").val("true"),this.updateWithSearch(c)},q.prototype._updateSearchForm=function(a){this._petSearchFormView.updateFromPetSearchRequestModel()},q.prototype.openSubSearchModal=function(b){var d=(new c).setEl(a(".js-modal")).setQueryId(b).init();d.present().done(function(a){d.closeModal()})},q.prototype.checkSubSearchModalConditions=function(){var a=0,b=20,c=void 0,d=this,e=setInterval(function(){a++,void 0===c&&(c=d._petSearchRequestModel.get("queryId")),void 0!==c&&(n.get("loggedIn")===!0&&(clearInterval(e),d.openSubSearchModal(c)),a===b&&clearInterval(e))},300)},q.prototype.update=function(){if("open"===this.getUrlParameter("subscribeSearch"))this.checkSubSearchModalConditions();else if("open"===this.getUrlParameter("savedSearches")){this._savedSearchesIsOpen=!0;var b=this,c=0,d=20,e=setInterval(function(){if(c++,void 0===n.get("loggedIn"));else if(n.get("loggedIn")===!1){clearInterval(e);var f=(new o).setEl(a(".js-modal")).init();f.present({title:"Login to Petfinder to View Your Saved Searches"}).done(function(a){f.closeModal()})}else clearInterval(e),l.getSavedSearches().done(function(){b._openSavedSearchModal()});c===d&&clearInterval(e)},300)}var f=a("#js-petSearch-additionalFilters-filtersUpdatedInput").val();return"true"===f?(this.updateWithSearch("form"),a("#js-petSearch-additionalFilters-filtersUpdatedInput").val("false")):this.updateWithSearch(),this},q.prototype.updateWithSearch=function(b,c){void 0==b&&(b="url"),a("#search-results").empty(),a("#js-searchResults-breadcrumb").hide(),a("#loader").show(),a("#browse").hide(),a("#browse-noresults").hide(),a("#browse-badlocation").hide(),a("#js-petSearch-searchHeader-paginationView").hide(),a(".js-breadcrumb").hide(),"savedSearch"===b&&a("#subscribe-get-updates").hide(),e.getPetsForPetSearchRequestModel(this._petSearchRequestModel,b,c).done(this._petSearchDoneHandler).fail(this._petSearchFailHandler),this._firstSearch===!0&&(this._petSearchFiltersView.updateFromPetSearchRequestModel(),this._petSearchFormView.updateFromPetSearchRequestModel()),this._firstSearch=!1},q.prototype._petSearchDone=function(b,c){return this._petSearchFiltersView.updateFromPetSearchRequestModel(),this._petSearchFiltersView.enable(),a("#loader").hide(),b===e.RESPONSES.PET_SEARCH_RESPONSE_WITHOUT_RESULTS?void this._petSearchDoneNoResults():(this._petSearchResultsView.updateWithResults(c),this._petSearchFormView.updateFromPetSearchRequestModel(),void a("#browse").fadeIn())},q.prototype._petSearchDoneNoResults=function(){var b,c="Sorry, we can't find any ",d="";this._petSearchRequestModel.get("breed")&&(b=this._petSearchRequestModel.get("breed"));var e=this._petSearchRequestModel.get("animal"),f=this._petSearchRequestModel.get("distance");void 0!=b&&("object"==typeof b&&(b=b[0].primary_breed),d+=" "+b.capitalize()),void 0!=e?d+=" "+e.replace(/([A-Z])/g,", $1").replace(/,(?=[^,]*$)/," & ").capitalize()+"s":void 0!=b&&(d+="s"),void 0!=f&&(d+=" within "+f+" miles of your location"),""===d&&(d="pets that match your search");var g="<p><strong>"+c+d+'</strong> You can <a href="#" id="no-results-save-search" data-fancybox-type="ajax" rel="subscribe-form" data-modal="modal-add-favorite">save this search</a> and you\'ll be the first to know when we find a match!</p>';a("#browse-noresults .message").html(g),a("#browse-noresults").show(),this._petSearchResultsView.disable().enable()},q.prototype._petSearchFail=function(b){return this._petSearchFiltersView.enable(),a("#loader").hide(),b===e.RESPONSES.PET_SEARCH_ERROR_LOCATION_NOT_SET||b===e.RESPONSES.PET_SEARCH_ERROR_LOCATION?void a("#browse-badlocation").fadeIn():(a("#browse-noresults .message").html('<p><strong>Sorry, our search is temporarily down.</strong> Please try your search again later or <a href="#">contact us</a> if you continue to receive this message.</p>'),void a("#browse-noresults").show())},q.prototype._openSavedSearchModal=function(){if(this._savedSearchesIsOpen){this._savedSearchesIsOpen=!1;var a=(new b).init().present().done(function(b){a.closeModal()})}},q.prototype.getUrlParameter=function(a){for(var b=window.location.search.substring(1),c=b.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");if(e[0]==a)return e[1]}},void 0==r&&(r=new q),r}(jQuery,PF["views/modals/UserSavedSearchesModalView"],PF["views/modals/SaveSearchModalView"],PF["models/PetSearchRequestModel"],PF["services/PetSearchService"],PF["models/PetSearchResponseModel"],PF["views/PetSearchResultsView"],PF["views/PetSearchFiltersView"],PF["views/PetSearchFormView"],PF["views/View"],PF["models/SavedSearchesModel"],PF["services/SavedSearchesService"],PF["views/modals/ModalView"],PF["models/SessionModel"],PF["views/modals/UserLoginModalView"],PF["services/SessionService"]);var PF=PF||{};PF["views/PetDetailShelterPetsView"]=function(a,b,c,d,e,f){"use strict";function g(){new f;this.setEl(a("#available-pets"))}return g.prototype=new b,g.prototype.constructor=g,g.prototype.shelterId=null,g.prototype.currentPetId=null,g.prototype._PAGE_SIZE=6,g.prototype._currentPageNumber=0,g.prototype._lastDisplayedPageNumber=0,g.prototype._numberOfPages=null,g.prototype._loadedPetPageNumbers=[],g.prototype._$nextEl,g.prototype._$prevEl,g.prototype.createChildren=function(){return this._$nextEl=this.getEl().find(".navigation .next"),this._$prevEl=this.getEl().find(".navigation .prev"),this._$pageItems=this.getEl().find(".scrollable .items"),this._$currentPage=this.getEl().find('*[data-id="shelter-pets-currentpage"]'),this._$totalPages=this.getEl().find('*[data-id="shelter-pets-totalpages"]'),this},g.prototype.setupHandlers=function(){return this._prevClickHandler=a.proxy(this._prevClick,this),this._nextClickHandler=a.proxy(this._nextClick,this),this._shelterPageDoneHandler=a.proxy(this._shelterPageDone,this),this._shelterPageFailHandler=a.proxy(this._shelterPageFail,this),this._onWindowChangeHandler=this._onWindowChange.bind(this),this},g.prototype.enable=function(){return this.getIsEnabled()!==!0?(this._$prevEl.on(PF.CONSTS.CLICK_EVENT,this._prevClickHandler),this._$nextEl.on(PF.CONSTS.CLICK_EVENT,this._nextClickHandler),a(document).on("BreakpointHelper.WindowChange",this._onWindowChangeHandler),this.setIsEnabled(!0),this):void 0},g.prototype.disable=function(){return this.setIsEnabled(!1),this._$prevEl.off(PF.CONSTS.CLICK_EVENT,this._prevClickHandler),this._$nextEl.off(PF.CONSTS.CLICK_EVENT,this._nextClickHandler),this},g.prototype._prevClick=function(a){a.preventDefault(),this._$prevEl.hasClass("disabled")||this._displayPage(this._currentPageNumber-1)},g.prototype._nextClick=function(a){a.preventDefault(),this._$nextEl.hasClass("disabled")||this._displayPage(this._currentPageNumber+1)},g.prototype._shelterPageDone=function(b,e){if(this.getEl().find(".counter").removeClass("show-loader"),b==d.RESPONSES.PET_SEARCH_RESPONSE_WITHOUT_RESULTS)return void this.getEl().hide();this._numberOfPages=Math.ceil(e.meta_data.total_results/this._PAGE_SIZE),this._loadedPetPageNumbers.push(this._currentPageNumber);for(var f=[],g=0;g<e.results.length;g++){var h=new c;h.updateWithJSON(e.results[g]),f.push(h.getAllValuesAsObject());var i=268,j=f[g].otherPetsAtShelterPhotoURL.match(/(^.*width=)([0-9]+)(.*$)/);f[g].photoResized=j?j[1]+i+j[3]:f[g].otherPetsAtShelterPhotoURL}var k=a("#js-petdetail-shelterPets-page-template").html();if(void 0!=k){var l=Handlebars.compile(k),m={pets:f},n=a(l(m));if(1===this._loadedPetPageNumbers.length){var o=this.getEl().find(".scrollable .items");o.append(n),this.getEl().find(".scrollable").height(this.getEl().find(".scrollable .items").height()+20),this.pageWidth=this._$pageItems.children().eq(0).outerWidth()}if(this._currentPageNumber>this._lastDisplayedPageNumber){var p=this.getEl().find(".scrollable .items .item").last();p.after(n)}if(this._currentPageNumber<this._lastDisplayedPageNumber){var p=this.getEl().find(".scrollable .items .item").first();p.before(n)}this._updatePagination(),this._lastDisplayedPageNumber=this._currentPageNumber}},g.prototype._shelterPageFail=function(){this.getEl().find(".counter").removeClass("show-loader"),this.getEl().hide()},g.prototype.update=function(){a("#js-otherPetsAtShelter-seeAll").attr("href",e.PROTOCOL+"//"+window.location.hostname+"/pet-search?shelter_id="+this.shelterId),this.shelterId!==a.cookie("petDetail_otherPetsAtShelter_id")?a.cookie("petDetail_otherPetsAtShelter_pageNumber",null,{secure:!0,path:"/"}):void 0!=a.cookie("petDetail_otherPetsAtShelter_pageNumber")&&(this._currentPageNumber=parseInt(a.cookie("petDetail_otherPetsAtShelter_pageNumber"))),a.cookie("petDetail_otherPetsAtShelter_id",this.shelterId,{secure:!0,path:"/"}),this._displayPage(this._currentPageNumber)},g.prototype._displayPage=function(b){return this._currentPageNumber=b,a.cookie("petDetail_otherPetsAtShelter_pageNumber",this._currentPageNumber,{secure:!0,path:"/"}),-1!=this._loadedPetPageNumbers.indexOf(b)?(this._updatePagination(),void(this._lastDisplayedPageNumber=this._currentPageNumber)):(this.getEl().find(".counter").addClass("show-loader"),this._$prevEl.addClass("disabled"),this._$nextEl.addClass("disabled"),void d.getOtherPetsAtShelter(this.shelterId,this.currentPetId,b,this._PAGE_SIZE).done(this._shelterPageDoneHandler).fail(this._shelterPageFailHandler))},g.prototype._updatePagination=function(){if(this._$currentPage.html(this._currentPageNumber+1),this._$totalPages.html(this._numberOfPages),0===this._currentPageNumber?this._$prevEl.addClass("disabled"):this._$prevEl.removeClass("disabled"),this._currentPageNumber+1>=this._numberOfPages?this._$nextEl.addClass("disabled"):this._$nextEl.removeClass("disabled"),1!==this._loadedPetPageNumbers.length){this.pageWidth=this._$pageItems.children().eq(0).outerWidth();var a=this._currentPageNumber-Math.min.apply(Math,this._loadedPetPageNumbers),b=-1*(a*this.pageWidth)+"px",c=this._lastDisplayedPageNumber-Math.min.apply(Math,this._loadedPetPageNumbers);if(a>c)return void this._$pageItems.animate({left:b});var d=-1*(c*this.pageWidth)+"px";this._$pageItems.css("left",d),this._$pageItems.animate({left:b})}},g.prototype._onWindowChange=function(){this._$pageItems.children().eq(0).outerWidth()!==this.pageWidth&&this._updatePagination()},g}(jQuery,PF["views/View"],PF["models/PetModel"],PF["services/PetSearchService"],PF["services/ServiceConfiguration"],PF["utils/BreakpointHelper"]);var PF=PF||{};PF["views/SliderView"]=function(a,b,c){"use strict";function d(){this.bpHelper=new c}return d.prototype=new b,d.prototype.constructor=d,d.prototype.init=function(){this.$slider=this.getEl(),this.currentSlide=0,this.slideDuration=1e3*(this.$slider.data("slideDuration")?this.getEl().data("slideDuration"):5),this.setupHandlers().createChildren().enable().layout()},d.prototype.createChildren=function(){return this.$slides=this.$slider.find(".nrd-slide"),this.$slideHolder=this.$slider.find(".nrd-slideHolder"),this.gestureSlide=new Hammer(this.$slideHolder[0]),this.$slideBullets=this.$slider.find(".js-slider-nav"),this.$leftNav=this.$slider.find(".js-slider-left"),this.$rightNav=this.$slider.find(".js-slider-right"),this.$onOffController=this.$slider.find(".js-slider-nav-controller"),this.$leftRightArrows=this.$slider.find(".js-slider-nav-button"),this},d.prototype.setupHandlers=function(){return this.onPrevButtonClickHandler=this.prevSlide.bind(this),this.onNextButtonClickHandler=this.nextSlide.bind(this),this.swipeRightHandler=this.prevSlide.bind(this),this.swipeLeftHandler=this.nextSlide.bind(this),this.onWindowChangeHandler=this.onWindowChange.bind(this),this.onPauseSliderHandler=this.pause.bind(this),this.onPlaySliderHandler=this.resume.bind(this),this.onBulletClickHandler=this.onbulletClick.bind(this),this.onArrowDownHandler=this.onArrowDown.bind(this),this},d.prototype.enable=function(){return this.isEnabled=!0,this.$leftNav.on("click",this.onPrevButtonClickHandler),this.$rightNav.on("click",this.onNextButtonClickHandler),this.$onOffController.on("click",this.onPauseSliderHandler),this.gestureSlide.on("swiperight",this.swipeRightHandler),this.gestureSlide.on("swipeleft",this.swipeLeftHandler),a(document).on("keydown",this.onArrowDownHandler),a(document).on("BreakpointHelper.WindowChange",this.onWindowChangeHandler),this},d.prototype.disable=function(){return this.isEnabled=!1,this},d.prototype.layout=function(){return this.slideSpacing().addBullets().normalizeSliderHeight(),this.determineNavView(),this.adjustViewPort().showArrows().startSlides(),this},d.prototype.determineNavView=function(){for(var a=[["mobile",6],["tablet",16],["desktop",15]],b=0,c=0;a.length>c;c++)a[c].indexOf(this.bpHelper.currentBP)>=0&&(b=a[c][1]);return this.slideLen>b?(this.hideNav(),this.navHidden=!0):(this.showNav(),this.navHidden=!1),this.adjustNavMargins().navButtonHeights(),this},d.prototype.adjustNavMargins=function(){return this.navHidden?(a(".nrd-slide-bd-content").css("margin-top",10),this.$slideHolder.css("top",0),this.$leftRightArrows.css("top",0)):"mobile"===this.bpHelper.currentBP?(a(".nrd-slide-bd-content").css("margin-top",10),this.$slideHolder.css("top",35),this.$leftRightArrows.css("top",35)):(a(".nrd-slide-bd-content").css("margin-top",45),this.$slideHolder.css("top",0),this.$leftRightArrows.css("top",0)),this},d.prototype.showNav=function(){return this.$slideBullets.css("display","inline-block"),this},d.prototype.hideNav=function(){return this.$slideBullets.hide(),this},d.prototype.slideSpacing=function(){this.slideLen=this.$slides.length;var b=this.$slider.closest(".box-body").width(),c=0;return this.$slides.each(function(d,e){var f=a(e);0!==d&&f.css("left",c+15*d),c+=b}),this},d.prototype.normalizeSliderHeight=function(){return a(".nrd-slide-media").height(this.$slideHolder.height()),this},d.prototype.adjustViewPort=function(){var b=this;return this.height=0,this.$slides.each(function(){b.height<a(this).height()&&(b.height=a(this).height())}),this.navHidden||(this.height+=this.$slideBullets.outerHeight()),this.getEl().css("height",this.height),this},d.prototype.navButtonHeights=function(){return this.$leftRightArrows.height(this.$slideHolder.height()),this},d.prototype.getOffset=function(){return this.currentSlide*-this.getEl().outerWidth()-15*this.currentSlide},d.prototype.determineNavOffset=function(){return this.$slideBullets.find("> [data-traverse-ignore=true]:visible").length},d.prototype.startSlides=function(){return this.running=!0,this.highlightBullet(),this.interval=setInterval(this.slideRunner.bind(this),this.slideDuration),this.swapState(this.running),this},d.prototype.highlightBullet=function(){return this.$bullets.each(function(){a(this).removeClass("_isSelected")}),a(this.$bullets[this.currentSlide]).addClass("_isSelected"),this},d.prototype.slideRunner=function(){return this.currentSlide===this.slideLen-1?this.currentSlide=0:this.currentSlide++,this.highlightBullet(),this.$slideHolder.css("left",this.getOffset()),this},d.prototype.goToSlide=function(a,b){var c=a||0;return this.currentSlide=c,b||this.$slideHolder.css("transition","none"),this.$slideHolder.css("left",this.getOffset()),b||this.$slideHolder.css("transition","left 700ms cubic-bezier(0.74, 0, 0.36, 1)"),this},d.prototype.showArrows=function(){return this.$leftRightArrows.show(),this},d.prototype.nextSlide=function(){this.pause(),this.currentSlide===this.slideLen-1?this.currentSlide=0:this.currentSlide++,this.highlightBullet(),this.$slideHolder.css("left",this.getOffset())},d.prototype.prevSlide=function(){this.pause(),0===this.currentSlide?this.currentSlide=this.slideLen-1:this.currentSlide--,this.highlightBullet(),this.$slideHolder.css("left",this.getOffset())},d.prototype.onArrowDown=function(a){switch(a.which){case 37:this.prevSlide();break;case 39:this.nextSlide();break;default:return}a.preventDefault()},d.prototype.pause=function(){return this.running&&(this.stopSlides(),this.$onOffController.off("click",this.onPauseSliderHandler),this.$onOffController.on("click",this.onPlaySliderHandler)),this},d.prototype.resume=function(){return this.running||(this.startSlides(),this.$onOffController.off("click",this.onPlaySliderHandler),this.$onOffController.on("click",this.onPauseSliderHandler)),this},d.prototype.swapState=function(a){var b=this.$onOffController.find(".js-slider-nav-state"),c=b.find(".js-slider-nav-state-text");return a?(b.removeClass("nrd-slider-nav-play").addClass("nrd-slider-nav-pause"),c.text("Pause")):(b.addClass("nrd-slider-nav-play").removeClass("nrd-slider-nav-pause"),c.text("Play")),this},d.prototype.stopSlides=function(){return this.running=!1,clearInterval(this.interval),this.swapState(this.running),this},d.prototype.addBullets=function(){var a=this;return this.slideLen>1&&(this.$slideBullets.show(),this.$slides.each(function(){a.addBullet()})),this.$bullets=this.$slideBullets.find(".js-slider-nav-bullet"),this.$bullets.parent().on("click",this.onBulletClickHandler),this},d.prototype.addBullet=function(){var b=a("<div>"),c=a("<div>");return b.addClass("nrd-slider-nav-controller"),c.addClass("nrd-slider-nav-bullet js-slider-nav-bullet"),b.append(c),this.$slideBullets.append(b),this},d.prototype.onbulletClick=function(b){this.pause();var c=a(b.currentTarget);return this.goToSlide(c.index()-this.determineNavOffset(),!0).highlightBullet(),this},d.prototype.onWindowChange=function(){this.stopSlides().goToSlide(this.currentSlide,!1).slideSpacing().normalizeSliderHeight().determineNavView().adjustViewPort()},d}(jQuery,PF["views/View"],PF["utils/BreakpointHelper"]);var PF=PF||{};PF["views/GallerySliderView"]=function(a,b){"use strict";function c(){}return c.prototype=new b,c.prototype.constructor=c,c.prototype._super=b.prototype,c.prototype.init=function(){this._super.init.call(this),this._super.hideNav.call(this),this._super.pause.call(this)},c.prototype.layout=function(){return this.slideSpacing().addBullets().addThumbs().showArrows().startSlides(),this},c.prototype.createChildren=function(){return this._super.createChildren.call(this),this.$thumbNav=this.$slider.find(".js-gallerySlider-imgNav"),this},c.prototype.setupHandlers=function(){return this._super.setupHandlers.call(this),this},c.prototype.determineNavView=function(){return this.hideNav(),this},c.prototype.addThumbs=function(){var b=this;return this.$slides.each(function(c,d){var e=a(this).find(".nrd-slide-img").attr("src"),f=a("<img>"),g=a("<div>");f.attr("src",e),f.addClass("nrd-gallerySlider-imgNav-thumb-img"),g.addClass("nrd-gallerySlider-imgNav-thumb").addClass("js-gallerySlider-imgNav-thumb"),g.append(f),b.$thumbNav.append(g)}),this.$thumbs=this.$slider.find(".js-gallerySlider-imgNav-thumb"),this.$thumbs.on("click",this.onBulletClickHandler),this},c.prototype.highlightBullet=function(){return this._super.highlightBullet.call(this),this.$thumbs.each(function(){a(this).removeClass("_isSelected")}),a(this.$thumbs[this.currentSlide]).addClass("_isSelected"),this},c.prototype.adjustViewPort=function(){this._super.adjustViewPort.call(this);var a=this.$thumbNav.outerHeight(!0)+this.$slideHolder.outerHeight();return this.getEl().css("height",a),this},c.prototype.onWindowChange=function(){this._super.onWindowChange.call(this),this.stopSlides()},c}(jQuery,PF["views/SliderView"]);var PF=PF||{};PF["views/PetDetailView"]=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){"use strict";function p(){return this.setEl(a("#js-petDetail")),this.$element=this.getEl(),this}p.prototype=new b,p.prototype.constructor=p;var q=p.prototype;return q._petModel=null,q._$slider=null,q._shelterPetsView=null,q._searchHeaderView=null,q.createChildren=function(){return this._shelterPetsView=(new d).init(),this._searchHeaderView=new e,this.$shareByEmailLink=this.$element.find("#share-by-email"),this.$adoptMeBtn=a(".js-petDetail-adoptMeBtn"),this.$adoptMeBtnNoEmail=a(".js-petDetail-adoptMeBtnContact"),this.$donateBtn=a(".js-petDetail-donateBtn"),this},q.setupHandlers=function(){return this._contactShelterClickHander=a.proxy(this._contactShelterClick,this),this._sponsorAPetClickHandler=a.proxy(this._sponsorAPetClick,this),this._rsAfterSlideChangeHandler=a.proxy(this._rsAfterSlideChange,this),this._rsSlideClickHandler=a.proxy(this._rsSlideClick,this),this._emailShareClickHandler=a.proxy(this._emailShareClick,this),this._afterVideoShowHandler=a.proxy(this._afterVideoShow,this),this.adoptMeBtnClickHandler=a.proxy(this._onAdoptMeBtnClick,this),this.adoptMeBtnNoEmailClickHandler=a.proxy(this._onAdoptMeBtnNoEmailClick,this),this},q.enable=function(){return this.getIsEnabled()!==!0?(a(".contact-shelter-link").on(PF.CONSTS.CLICK_EVENT,this._contactShelterClickHander),a("#sponsor-button").on(PF.CONSTS.CLICK_EVENT,this._sponsorAPetClickHandler),a("#share-by-email").on(PF.CONSTS.CLICK_EVENT,this._emailShareClickHandler),this.$adoptMeBtn.on(PF.CONSTS.CLICK_EVENT,this.adoptMeBtnClickHandler),this.$adoptMeBtnNoEmail.on(PF.CONSTS.CLICK_EVENT,this.adoptMeBtnNoEmailClickHandler),void 0!=this._$slider&&(this._$slider.ev.on("rsAfterSlideChange",this._rsAfterSlideChangeHandler),this._$slider.ev.on("rsSlideClick",this._rsSlideClickHandler)),this.setIsEnabled(!0),this):void 0},q.disable=function(){return this.setIsEnabled(!1),a(".contact-shelter-link").off(PF.CONSTS.CLICK_EVENT,this._contactShelterClickHander),a("#sponsor-button").off(PF.CONSTS.CLICK_EVENT,this._sponsorAPetClickHandler),a("#share-by-email").off(PF.CONSTS.CLICK_EVENT,this._emailShareClickHandler),void 0!=this._$slider&&(this._$slider.ev.off("rsAfterSlideChange",this._rsAfterSlideChangeHandler),this._$slider.ev.off("rsSlideClick",this._rsSlideClickHandler)),
this.$adoptMeBtn.off(PF.CONSTS.CLICK_EVENT,this.adoptMeBtnClickHandler),this.$adoptMeBtnNoEmail.off(PF.CONSTS.CLICK_EVENT,this.adoptMeBtnNoEmailClickHandler),this},q._printClick=function(b){if(b.preventDefault(),a(".slideshow").length>0){var c=window.open("?print=true","_blank","",!0);c.addEventListener?c.addEventListener("load",function(){c.print()},!1):c.attachEvent("onload",function(){c.print()})}else window.print()},q._contactShelterClick=function(b){b.preventDefault();var c=a(b.currentTarget),d=c.data("shelter-contact-modal-type"),e=c.data("next"),f=c.data("next-params");"undefined"!=typeof f&&(f=f.toString().split(","));var h={next:e,next_params:f};(new g).init().setShelterContactModalType(d,h).setPetModel(this._petModel).present()},q._emailShareClick=function(a){a.preventDefault();var b=this.$shareByEmailLink.data("email-message");(new j).init().setEmailShareMessage(b).setPetModel(this._petModel).present()},q._sponsorAPetClick=function(a){a.preventDefault(),(new h).init().setPetModel(this._petModel).present()},q._rsAfterSlideChange=function(a){},q._rsSlideClick=function(b){var c=[];a(".rsImg").each(function(b,d){c.push({href:d.src,thumb:a(d).data("rstmb")})});var d={type:"image",index:this._$slider.currSlideId,autoSize:!0};a.fancybox.open(c,d)},q.updateFromURL=function(){var b=this,c=String(window.location).slice(0),d=c.match(/petdetail\/(.*?)(\/|#|$|\?)/)[1];return f.getPetWithId(d).done(function(a,c){return a===f.RESPONSES.PET_SEARCH_RESPONSE_WITHOUT_RESULTS?void b._updateNoResults():void b._updateFromPetModel(c)}).fail(function(a){b._updateNoResults()}).always(function(){a("#js-petDetail-petDetailsContainer-loader").hide()}),this},q._updateFromPetModel=function(b){this._petModel=b,b.addToRecentlyViewPets(),document.title="Meet "+this._petModel.get("name")+", a Petfinder adoptable "+this._petModel.get("primaryBreed")+" "+this._petModel.get("species")+" in "+this._petModel.get("shelterLocationCity")+", "+this._petModel.get("shelterLocationState")+" | Petfinder.com",a("#js-petDetail-tool").show(),this._updateHeader(),this._updatePhotos(),this._updateAbout(),this.getEl().show(),"adopted"===this._petModel.get("status")&&(a(".adoptable").hide(),a(".adopted").show()),this.disable().enable(),this._shelterPetsView.shelterId=this._petModel.get("shelterId"),this._shelterPetsView.currentPetId=this._petModel.get("id"),this._shelterPetsView.update(),this._searchHeaderView.currentPetId=this._petModel.get("id"),this._searchHeaderView.init().updateWithSearch()},q._updateNoResults=function(){this.getEl().remove(),document.title="Petfinder - Oops!",this._shelterPetsView.getEl().remove(),a("#no-pet-found").fadeIn()},q._updateHeader=function(){var b=a("#js-petdetail-header-template").html(),c=Handlebars.compile(b),d=this._petModel.getAllValuesAsObject();return a("#js-petDetail-headerContainer").fadeIn().append(c(d)),this},q._updatePhotos=function(){for(var b=this._petModel.get("name"),c=this._petModel.get("photoUrls"),d=this._petModel.get("photoThumbUrls"),e=[],f=0;f<c.length;f++)e.push({name:b,photoUrl:c[f],photoThumbUrl:d[f]});var g=a("#js-petdetail-photos-template").html(),h=Handlebars.compile(g),i={photos:e};if(a("#js-petDetail-photosContainer").show().append(h(i)),a(".js-gallerySlider .nrd-slide").size()>1&&(new l).setEl(a(".js-gallerySlider")).init(),a(".js-gallerySlider .nrd-slide").size()>0&&(new m).setEl(a(".js-gallerySlider")).init(),void 0!==this._petModel.get("videoURL")){var j=a(".js-gallerySlider-imgNav");a('<div class="nrd-gallerySlider-imgNav-thumb js-galleryVideoModal" data-traverse-ignore="true">                <a href="#video-holder" data-fancybox-type="inline" class="video-thumb-link" title="Watch Video"></a></div>').appendTo(j);a("#video-holder").html(this._petModel.get("videoURL"));var k=a("#video-holder").find("iframe");k.removeAttr("height"),k.removeAttr("width"),k.addClass("petDetailVid"),(new n).setEl(a(".js-galleryVideoModal")).init()}return this},q._afterVideoShow=function(){k.registerView(this._petModel)},q._updateAbout=function(){var b=a("#js-petdetail-about-template").html(),c=a("#js-petdetail-adopted-info").html(),d=Handlebars.compile(b),e=Handlebars.compile(c),f=this._petModel.getAllValuesAsObject();return a("#js-petdetail-adopted").append(e(f)),a("#js-petDetail-aboutContainer").fadeIn().append(d(f)),setTimeout(this.layoutActionBtns.bind(this),20),this},q.layoutActionBtns=function(){this.$adoptMeBtn.text("Ask About "+this._petModel.get("name")),this.$adoptMeBtnNoEmail.text("Ask About "+this._petModel.get("name"));var b=this.$adoptMeBtn.width(),c=this._petModel.get("email");b>220&&(this.$adoptMeBtn.text("Ask About Me"),this.$adoptMeBtnNoEmail.text("Ask About Me")),this.$adoptMeBtnNoEmail.css("opacity",1).css("position","relative"),this.$adoptMeBtn.css("opacity",1).css("position","relative"),("undefined"==typeof c||""==c)&&(this.$adoptMeBtnNoEmail.show(),this.$adoptMeBtn.hide()),this.$donateBtn.show(),a(".js-petProfile-emailShelterMailtoLink").on("click",this.ensightenTrackEvent.bind(this,"","contact organization","click to email"));var d=a(".js-petDetail-shareBar");d.hide(),d[0].offsetHeight,d.show()},q.ensightenTrackEvent=function(){"undefined"!=typeof window.purinaTrackEvent&&window.purinaTrackEvent.apply(this,arguments)},q._onAdoptMeBtnClick=function(){var a=this._petModel.get("id");this.ensightenTrackEvent("","adopt me","open","/petdetail/"+a,{dimension30:"has email"})},q._onAdoptMeBtnNoEmailClick=function(){var a=this._petModel.get("id");this.ensightenTrackEvent("","adopt me","open","/petdetail/"+a,{dimension30:"no email"})},p}(jQuery,PF["views/View"],PF["models/PetModel"],PF["views/PetDetailShelterPetsView"],PF["views/PetDetailSearchHeaderView"],PF["services/PetSearchService"],PF["views/modals/ShelterContactModalView"],PF["views/modals/SponsorAPetModalView"],PF["views/HeaderView"],PF["views/modals/EmailShareModalView"],PF["services/PetVideoStatsService"],PF["views/GallerySliderView"],PF["views/modals/GalleryModalView"],PF["views/modals/GalleryVideoModalView"],PF["views/VideoView"]);var PF=PF||{};PF["views/ShelterSearchView"]=function(a,b,c,d){"use strict";function e(){return(-1!==document.location.href.indexOf("bystate")||-1!==document.location.href.indexOf("action=state"))&&(this._searchByState=!0,a("#shelter-search-form-distance").hide(),a("#shelter-search-form-state").show()),this}return e.prototype=new b,e.prototype.constructor=e,e.prototype._shelterSearchModel=null,e.prototype.setupHandlers=function(){return this._clickSearchByDistanceHandler=a.proxy(this._clickSearchByDistance,this),this._clickSearchByStateHandler=a.proxy(this._clickSearchByState,this),this},e.prototype.enable=function(){return this.getIsEnabled()!==!0?(a("#shelter-search-form-distance .form-switcher").on(PF.CONSTS.CLICK_EVENT,this._clickSearchByDistanceHandler),a("#shelter-search-form-state .form-switcher").on(PF.CONSTS.CLICK_EVENT,this._clickSearchByStateHandler),this.setIsEnabled(!0),this):void 0},e.prototype.disable=function(){return this.setIsEnabled(!1),a("#shelter-search-form-distance .form-switcher").off(PF.CONSTS.CLICK_EVENT,this._clickSearchByDistanceHandler),a("#shelter-search-form-state .form-switcher").off(PF.CONSTS.CLICK_EVENT,this._clickSearchByStateHandler),this},e.prototype._clickSearchByDistance=function(b){b.preventDefault(),a("#shelter-search-form-distance").hide(),a("#shelter-search-form-state").show()},e.prototype._clickSearchByState=function(b){b.preventDefault(),a("#shelter-search-form-state").hide(),a("#shelter-search-form-distance").show()},e.prototype.update=function(){a("#js-shelterSearch-resultsContainer-loader").show(),a("#search-results").hide();var b=this;this._shelterSearchModel=new d,this._shelterSearchModel.updateFromLocation(document.location),a("#awo-location").val(this._shelterSearchModel.get("location")),a("#awo-state").val(this._shelterSearchModel.get("location")),a("#awo_keyword").val(this._shelterSearchModel.get("shelterName")),c.getSheltersForShelterSearchModel(this._shelterSearchModel).done(function(d,e,f){return d===c.RESPONSES.SHELTER_SEARCH_RESPONSE_WITHOUT_RESULTS?(a("#browse-noresults .message").html("<p><strong>NO RESULTS FOUND</strong></p>"),void a("#browse-noresults").show()):(b._updateResults(e),void b._updateHeader(e,f))}).fail(function(b){return b===c.RESPONSES.SHELTER_SEARCH_ERROR_LOCATION_NOT_SET||b===c.RESPONSES.SHELTER_SEARCH_ERROR_LOCATION?void a("#browse-badlocation").show():(a("#browse-noresults .message").html("<p><strong>NO RESULTS FOUND</strong></p>"),void a("#browse-noresults").show())}).always(function(){a("#js-shelterSearch-resultsContainer-loader").hide()})},e.prototype._updateHeader=function(b,c){var d=Math.ceil(c/this._shelterSearchModel.get("pageSize")),e=parseInt(this._shelterSearchModel.get("pageNumber"))+1,f=parseInt(this._shelterSearchModel.get("pageNumber"))-1,g=parseInt(this._shelterSearchModel.get("pageNumber")*this._shelterSearchModel.get("pageSize")),h=g+this._shelterSearchModel.get("pageSize"),i=h>c?c:h;if(f>=0){var j=this._shelterSearchModel.getURLForPage(f);a('*[data-id="previousPageLink"]').attr("href",j).removeClass("disabled")}else a('*[data-id="previousPageLink"]').attr("href","#").addClass("disabled");if(d>e){var k=this._shelterSearchModel.getURLForPage(e);a('*[data-id="nextPageLink"]').attr("href",k).removeClass("disabled")}else a('*[data-id="nextPageLink"]').attr("href","#").addClass("disabled");a('*[data-id="currentPage"]').html(a.formatNumber(e,{format:"#,###",locale:"us"})),a('*[data-id="numPages"]').html(a.formatNumber(d,{format:"#,###",locale:"us"})),a('*[data-id="startItemNum"]').html(a.formatNumber(g+1,{format:"#,###",locale:"us"})),a('*[data-id="endItemNum"]').html(a.formatNumber(i,{format:"#,###",locale:"us"})),d>0?a("#js-shelterSearch-paginationFooter").show():a("#js-shelterSearch-paginationFooter").hide(),a("#js-shelterSearch-paginationHeader").show()},e.prototype._updateResults=function(b){a("#search-results").show(),a("#browse").show();var c=a("#js-sheltersSearch-results-template").html(),d=Handlebars.compile(c),e={shelters:b};a("#js-sheltersSearch-resultsContainer").append(d(e))},e}(jQuery,PF["views/View"],PF["services/ShelterService"],PF["models/ShelterSearchModel"]);var PF=PF||{};PF["views/VideoSearchView"]=function(a,b,c,d){"use strict";function e(){this.setEl(a("#video-listing-content"))}return e.prototype=new b,e.prototype.constructor=e,e.prototype._videoSearchModel=null,e.prototype.update=function(){var b=this;this._videoSearchModel=(new c).updateFromLocation(window.location),d.getVideosForVideoSearchModel(this._videoSearchModel).done(function(c,e){c===d.RESPONSES.VIDEO_RESPONSE_WITHOUT_RESULTS&&a("#js-sheltersSearch-resultsContainer").show().append("<br><h2>Sorry, there were no videos matching your search.</h2>");for(var f=[],g=0;g<e.results.length;g++){var h=e.results[g];f.push({id:h.id,title:h.title,description:h.description})}b._updateResults(f),b._updateHeader(e.meta_data.total_results)}).fail(function(){a("#js-sheltersSearch-resultsContainer").show().append("<br><h2>Sorry, there was a server error.</h2>")}).always(function(){b.getEl().show(),a("#js-sheltersSearch-loader").hide()})},e.prototype._updateHeader=function(b){if(!(11>b)){var c=a("#js-sheltersSearch-resultsHeader-template").html(),d=Handlebars.compile(c),e=Math.ceil(b/this._videoSearchModel.get("pageSize")),f=parseInt(this._videoSearchModel.get("pageNumber")),g={previousPageNumber:f>1?String(f-1):void 0,currentPageNumber:f,nextPageNumber:e>f?String(f+1):void 0,pageSize:this._videoSearchModel.get("pageSize"),pageTotal:e,searchQuery:this._videoSearchModel.get("searchQuery")};a("#js-sheltersSearch-resultsHeaderContainer").show().append(d(g))}},e.prototype._updateResults=function(b){var c=a("#js-sheltersSearch-results-template").html(),d=Handlebars.compile(c),e={videos:b};a("#js-sheltersSearch-resultsContainer").show().append(d(e))},e}(jQuery,PF["views/View"],PF["models/VideoSearchModel"],PF["services/VideoService"]);var PF=PF||{};PF["views/BreedSearchView"]=function(a,b,c,d,e,f,g){"use strict";function h(){this._petTotal=e.petTotal}return h.prototype=new b,h.prototype.constructor=h,h.prototype._breedSearchModel=null,h.prototype._petTotal=null,h.prototype.setupHandlers=function(){return this._petTotalUpdatedHandler=a.proxy(this._petTotalUpdated,this),this._breedClickHandler=a.proxy(this._breedClick,this),this},h.prototype.enable=function(){return this.getIsEnabled()!==!0?(a(e).on(e.EVENTS.PET_TOTAL_UPDATED,this._petTotalUpdatedHandler),this.setIsEnabled(!0),this):void 0},h.prototype.disable=function(){return this.setIsEnabled(!1),a(e).off(e.EVENTS.PET_TOTAL_UPDATED,this._petTotalUpdatedHandler),this},h.prototype._petTotalUpdated=function(a,b){this._petTotal=b,this._updateHeader(this._petTotal)},h.prototype._breedClick=function(b){b.preventDefault();var c=a(b.currentTarget),d=new f;d.updateFromCookies();var e=d.get("location");if(void 0!==e){var h=c.attr("href")+"&location="+e;return void(window.location=h)}(new g).init().present().done(function(a){var b=c.attr("href")+"&location="+a;window.location=b})},h.prototype.update=function(){var a=this;this._breedSearchModel=(new c).updateFromLocation(window.location),this._updateHeader(this._petTotal),d.getTotalsForAnimals(this._breedSearchModel).done(function(b,c){b===d.RESPONSES.PET_BREED_TOTALS_SUCCESS&&a._updateResults(c)}).fail(function(){})},h.prototype._updateHeader=function(b){a("#js-breedSearch-headerContainer").empty();var c,d=a("#js-breedSearch-header-template").html(),e=Handlebars.compile(d);c=this._breedSearchModel.get("animal")?this._breedSearchModel.get("animal").replace(/([A-Z])/g,", $1").replace(/,(?=[^,]*$)/," & "):this._breedSearchModel.get("animal");var f={displayBreeds:this._breedSearchModel.get("displayBreeds"),animal:c,totalPets:a.formatNumber(parseInt(b),{format:"#,###",locale:"us"})};a("#js-breedSearch-headerContainer").show().append(e(f))},h.prototype._updateResults=function(b){for(var c=a("#js-breedSearch-results-template").html(),d=Handlebars.compile(c),e=!1,f=0;f<b.length;f++)if(void 0!=b[f].breedPage){e=!0;break}var g={displayBreeds:this._breedSearchModel.get("displayBreeds"),displayMoreInfo:e,animals:b};a("#js-breedSearch-resultsContainer").show().append(d(g)),this._breedSearchModel.get("displayBreeds")===!0&&a("#js-breedSearch-resultsContainer").on(PF.CONSTS.CLICK_EVENT,".js-breedSearchView-breedLink",this._breedClickHandler)},h}(jQuery,PF["views/View"],PF["models/BreedSearchModel"],PF["services/PetSearchService"],PF["views/HeaderView"],PF["models/PetSearchRequestModel"],PF["views/modals/LocationModalView"]);var PF=PF||{};PF["views/SearchPageView"]=function(a,b,c){"use strict";function d(){}return d.prototype=new b,d.prototype.constructor=d,d.prototype.setupHandlers=function(){return this._searchMoreClickHandler=a.proxy(this._searchMoreClick,this),this},d.prototype.enable=function(){return this.getIsEnabled()!==!0?(a(".show-more-link").on(PF.CONSTS.CLICK_EVENT,this._searchMoreClickHandler),this.setIsEnabled(!0),this):void 0},d.prototype.disable=function(){return this.getEl().find("input").prop("disabled",!0),this.getEl().find("select").prop("disabled",!0),a(".show-more-link").off(PF.CONSTS.CLICK_EVENT,this._searchMoreClickHandler),this.setIsEnabled(!1),this},d.prototype._searchMoreClick=function(b){b.preventDefault();var d=a(".loading");d.addClass("is_loading");var e=a("ul#article-list"),f=e.attr("data-s"),g=parseInt(e.attr("data-paged")),h=parseInt(e.attr("data-post_parent")),i=parseInt(e.attr("data-author")),j=e.attr("data-tag"),k=e.attr("data-cat"),l=parseInt(e.attr("data-max-paged")),m=parseInt(e.attr("data-posts-per-page")),n=e.attr("data-orderby"),o=e.attr("data-order"),p=e.attr("data-post_not_in"),q=e.attr("data-post_type"),r=parseInt(e.attr("data-year")),s=parseInt(e.attr("data-month")),t=parseInt(e.attr("data-day"));f||(f=""),h||(h=""),i||(i=""),j||(j=""),k||(k=""),n||(n=""),o||(o=""),q||(q=""),r||(r=""),s||(s=""),t||(t=""),a.ajax({url:c.ADMIN_AJAX_URL,type:"post",dataType:"html",data:{action:"pf-show-more-posts",author:i,s:f,paged:g+1,posts_per_page:m,orderby:n,order:o,post_parent:h,post_not_in:p,tag:j,cat:k,post_type:q,year:r,monthnum:s,day:t}}).done(function(b){d.removeClass("is_loading");var c=a(b);a("#article-list").append(c),e.attr("data-paged",g+1),l==g+1&&a(".show-more").css("visibility","invisible").hide()}).fail(function(){})},d}(jQuery,PF["views/View"],PF["services/ServiceConfiguration"]);var PF=PF||{};PF["views/SidebarView"]=function(a,b,c,d){"use strict";function e(){}e.prototype=new b,e.prototype.constructor=e;var f=e.prototype;return f._super=b.prototype,f.CONSTANTS={SELECTORS:{INPUT_FIND_PET_GROUPS_LOCATION:"#rr-fawg-location-input",EVENTS_MODULE:"#events-near-you",EVENTS_TEMPLATE:"#js-eventsNearYouModule-template",EVENTS_NO_RESULTS_TEMPLATE:"#js-eventsNearYouModule-noResultsTemplate"}},f.init=function(){this.location="",this._super.init.call(this)},f.setupHandlers=function(){return this._super.setupHandlers.call(this),this.onGetEventsFromServerSuccessHandler=a.proxy(this.onGetEventsFromServerSuccess,this),this.onGetEventsFromServerFailHandler=a.proxy(this.onGetEventsFromServerFail,this),this},f.createChildren=function(){return this._super.createChildren.call(this),this.$element=this.getEl(),this.$inputFindPetAdoptionGroupsLocation=this.$element.find(f.CONSTANTS.SELECTORS.INPUT_FIND_PET_GROUPS_LOCATION),this.$eventsModule=this.$element.find(f.CONSTANTS.SELECTORS.EVENTS_MODULE),this.$eventsModule.length>0&&this.initiateEventsModule(),this},f.initiateEventsModule=function(){this.$template=Handlebars.compile(a(f.CONSTANTS.SELECTORS.EVENTS_TEMPLATE).html()),this.$templateNoResults=Handlebars.compile(a(f.CONSTANTS.SELECTORS.EVENTS_NO_RESULTS_TEMPLATE).html())},f.enable=function(){return this._super.enable.call(this),this.getAndCacheLocation().populateFindPetAdoptionGroupsLocationInput(),this.$eventsModule.length>0&&this.initializeEventsModule(),this},f.getAndCacheLocation=function(){var a=(new c).updateFromCookies();return this.location=a.get("location"),this},f.populateFindPetAdoptionGroupsLocationInput=function(){"undefined"!=typeof this.location&&this.$inputFindPetAdoptionGroupsLocation.val(this.location.replace(/\+/g," "))},f.buildEventEndpointUrl=function(){var a=new Date,b=a.getDate(),c=a.getMonth()+1,e=a.getFullYear(),f=PF["Configuration/numberOfEventsToDisplay"];return d.REQUEST_BASE+"svcs/event?limit="+f+"&postal_code="+this.location+"&start_date="+e+"-"+c+"-"+b+"&output=json"},f.getEventsFromServer=function(){var b=this.buildEventEndpointUrl();return a.ajax({url:b,type:"get",dataType:"json",contentType:"text/plain"})},f.initializeEventsModule=function(){this.getEventsFromServer().then(this.onGetEventsFromServerSuccessHandler,this.onGetEventsFromServerFailHandler)},f.buildEventModel=function(a){for(var b=0;b<a.events.length;b++){var c=a.events[b],d=Date.parse(c.start_date_time);a.events[b].start_date_day_shortname=d.toString("ddd"),a.events[b].start_date_month=d.toString("MMM"),a.events[b].start_date_day=d.toString("dd"),a.events[b].show_event_duration="12:00 AM"!=c.event_start_time||"12:00 AM"!=c.event_end_time}return a},f.buildAndDisplayTemplate=function(a){var b=this.$template(this.buildEventModel(a));this.$eventsModule.append(b)},f.displayNoEventsMessage=function(){this.$eventsModule.append(this.$templateNoResults)},f.onGetEventsFromServerSuccess=function(a){null!=a.events&&a.events.length>0?this.buildAndDisplayTemplate(a):this.displayNoEventsMessage()},f.onGetEventsFromServerFail=function(){this.displayNoEventsMessage()},e}(jQuery,PF["views/View"],PF["models/PetSearchRequestModel"],PF["services/ServiceConfiguration"]);var PF=PF||{};PF["views/ConditionalAuthenticationView"]=function(a,b,c,d){"use strict";function e(){}e.prototype=new b,e.prototype.constructor=e,e.prototype._super=b.prototype;var f={SELECTOR_TRIGGER:".js-conditionalAuthenticationModalTrigger",DATA_AUTH_NEXT:"authentication-next",DATA_AUTH_NEXT_PARAMS:"authentication-next-params"};return e.prototype.init=function(){this._super.init.call(this),this.isLocked=!1,this.authenticationFlowPersitenceParams={}},e.prototype.createChildren=function(){return this.$loginModalTrigger=this.getEl().find(f.SELECTOR_TRIGGER),this},e.prototype.setupHandlers=function(){return this.onClickLoginModalTriggerHandler=this.onClickLoginModalTrigger.bind(this),this.onCheckUserLoggedInSuccessHandler=this.onCheckUserLoggedInSuccess.bind(this),this.onCheckUserLoggedInFailHandler=this.onCheckUserLoggedInFail.bind(this),this},e.prototype.enable=function(){return this.getIsEnabled()!==!0?(this.setupListeners(),this.setIsEnabled(!0),this):void 0},e.prototype.setupListeners=function(){this.$loginModalTrigger.on("click",this.onClickLoginModalTriggerHandler)},e.prototype.disable=function(){return this.setIsEnabled(!1),this.$loginModalTrigger.off("click",this.onClickLoginModalTriggerHandler),this},e.prototype.checkIfUserLoggedIn=function(){return c.getUserStatus()},e.prototype.cacheAuthenticationFlowData=function(){var a=this.currentTarget.data(f.DATA_AUTH_NEXT),b=this.currentTarget.data(f.DATA_AUTH_NEXT_PARAMS),c=this.currentTarget.attr("href"),d=[];return"undefined"!=typeof b&&(b.indexOf(!1)?d=b.split(","):d.push(nextPArams)),this.authenticationFlowPersitenceParams={next:a,nextParams:d,redirect:c},this},e.prototype.lockViewInteraction=function(){return this.isLocked=!0,this},e.prototype.unlockViewInteraction=function(){return this.isLocked=!1,this},e.prototype.cacheCurrentTrigger=function(a){return this.currentTarget=a,this},e.prototype.instantiateLoginModal=function(){return(new d).init().present(),this},e.prototype.redirectWindowLocation=function(){return window.location=this.currentTarget.attr("href"),this},e.prototype.onClickLoginModalTrigger=function(b){b.preventDefault(),this.isLocked||this.cacheCurrentTrigger(a(b.currentTarget)).lockViewInteraction().checkIfUserLoggedIn().then(this.onCheckUserLoggedInSuccessHandler,this.onCheckUserLoggedInFailHandler)},e.prototype.onCheckUserLoggedInSuccess=function(){this.redirectWindowLocation()},e.prototype.onCheckUserLoggedInFail=function(){this.cacheAuthenticationFlowData().instantiateLoginModal().unlockViewInteraction()},e}(jQuery,PF["views/View"],PF["services/SessionService"],PF["views/modals/UserLoginModalView"]);var PF=PF||{};PF["views/KeyboardFocusView"]=function(a,b){"use strict";function c(){}return c.prototype=new b,c.prototype.constructor=c,c.prototype._super=b.prototype,c.SELECTORS={},c.SELECTORS.ELEMENT=".js-keyboardFocus",c.DATA={},c.DATA.CLASS="focus-class",c.prototype.createChildren=function(){return this.$element=this.getEl(),this.$focusable=this.$element.find("a[href], area[href], input, select, textarea, button, iframe, object, embed, *[tabindex], *[contenteditable]").not("[tabindex=-1], [disabled], :hidden"),this},c.prototype.setupHandlers=function(){return this.onFocusHandler=this.onFocus.bind(this),this.onBlurHandler=this.onBlur.bind(this),this},c.prototype.enable=function(){return this.getIsEnabled()!==!0?(this.setupListeners(),this.setIsEnabled(!0),this.focusClass="hasFocus",this):void 0},c.prototype.setupListeners=function(){this.$focusable.on("focus",this.onFocusHandler),this.$focusable.on("blur",this.onBlurHandler)},c.prototype.disable=function(){return this.setIsEnabled(!1),this},c.prototype.destroy=function(){this.disable();for(var a in this)this.hasOwnProperty(a)&&(this[a]=null);return this},c.prototype.toggleClass=function(a){this.$element.toggleClass(this.focusClass,a)},c.prototype.onFocus=function(){this.toggleClass(!0)},c.prototype.onBlur=function(){this.toggleClass(!1)},c}(jQuery,PF["views/View"]);var PF=PF||{};PF["views/GlobalNavView"]=function(a,b){"use strict";function c(){}c.prototype=new b,c.prototype.constructor=c,c.prototype._super=b.prototype;var d={SELECTORS:{TRIGGER:".js-globalNav-trigger",MENU:".js-globalNav-menu",LIST:".js-globalNav-list",CLOSE:".js-globalNav-close",OVERLAY:".js-globalNav-overlay"},CLASSES:{COLLAPSED:"isCollapsed",NAV_OPEN:"siteNav-main_isOpen",OVERLAY_OPEN:"siteNav-overlay_isOpen",SCROLL_LOCK:"lockScrollMobile"}};return c.prototype.createChildren=function(){return this.$element=this.getEl(),this.$html=a("html"),this.$trigger=this.$element.find(d.SELECTORS.TRIGGER),this.$close=this.$element.find(d.SELECTORS.CLOSE),this.$menu=this.$element.find(d.SELECTORS.MENU),this.$overlay=this.$element.find(d.SELECTORS.OVERLAY),this.$listItems=this.$element.find(d.SELECTORS.LIST).children("li"),this.$subMenus=this.$listItems.children("ul"),this},c.prototype.setupHandlers=function(){return this.onTriggerClickHandler=this.onTriggerClick.bind(this),this.onCloseClickHandler=this.onCloseClick.bind(this),this.onAccordionClickHandler=this.onAccordionClick.bind(this),this.onAccordionContentClickHandler=this.onAccordionContentClick.bind(this),this},c.prototype.enable=function(){return this.getIsEnabled()!==!0?(this.setIsEnabled(!0),this.layoutCalculated=!1,this.setupListeners()):void 0},c.prototype.setupListeners=function(){return this.$trigger.on("click",this.onTriggerClickHandler),this.$close.on("click",this.onCloseClickHandler),this.$listItems.on("click",this.onAccordionClickHandler),this.$listItems.on("click","> *",this.onAccordionContentClickHandler),this},c.prototype.layout=function(){for(var b=a(),c=0;c<this.$subMenus.length;c++)b=this.$subMenus.eq(c),b.css("height",b.outerHeight()),b.parent().addClass(d.CLASSES.COLLAPSED);return this.layoutCalculated=!0,this},c.prototype.disable=function(){return this.setIsEnabled(!1),this},c.prototype.destroy=function(){this.disable();for(var a in this)this.hasOwnProperty(a)&&(this[a]=null);return this},c.prototype.openNav=function(){this.layoutCalculated||this.layout(),this.$menu.addClass(d.CLASSES.NAV_OPEN),this.$overlay.addClass(d.CLASSES.OVERLAY_OPEN),this.$html.addClass(d.CLASSES.SCROLL_LOCK)},c.prototype.closeNav=function(){this.$menu.removeClass(d.CLASSES.NAV_OPEN),this.$overlay.removeClass(d.CLASSES.OVERLAY_OPEN),this.$html.removeClass(d.CLASSES.SCROLL_LOCK)},c.prototype.toggleAccordion=function(a){a.hasClass(d.CLASSES.COLLAPSED)?(this.$listItems.addClass(d.CLASSES.COLLAPSED),a.removeClass(d.CLASSES.COLLAPSED)):this.$listItems.addClass(d.CLASSES.COLLAPSED)},c.prototype.onTriggerClick=function(){this.openNav()},c.prototype.onCloseClick=function(){this.closeNav()},c.prototype.onAccordionClick=function(b){var c=a(b.currentTarget);this.toggleAccordion(c)},c.prototype.onAccordionContentClick=function(a){a.stopPropagation()},c}(jQuery,PF["views/View"]);var PF=PF||{};PF["views/SearchFilterVisibilityView"]=function(a,b){"use strict";function c(){}c.prototype=new b,c.prototype.constructor=c,c.prototype._super=b.prototype;var d={SELECTORS:{TRIGGER:".js-searchFilter-trigger",BODY:".js-searchFilter-body"},CLASSES:{FILTER_OPEN:"petSearch-trigger_isOpen",BODY_INITIAL:"petSearch-refine_preRender",BODY_CLOSED:"petSearch-refine_isClosed"}};return c.prototype.createChildren=function(){return this.$element=this.getEl(),this.$html=a("html"),this.$trigger=this.$element.find(d.SELECTORS.TRIGGER),this.$body=this.$element.find(d.SELECTORS.BODY),this},c.prototype.setupHandlers=function(){return this.onTriggerClickHandler=this.onTriggerClick.bind(this),this.toggleFiltersHandler=this.toggleFilters.bind(this),this},c.prototype.enable=function(){return this.getIsEnabled()!==!0?(this.setIsEnabled(!0),this.layoutCalculated=!1,this.setupListeners()):void 0},c.prototype.setupListeners=function(){return this.$trigger.on("click",this.onTriggerClickHandler),this},c.prototype.layout=function(){this.$body.css("height",this.$body.outerHeight()),this.$body.removeClass(d.CLASSES.BODY_INITIAL),this.$body.addClass(d.CLASSES.BODY_CLOSED),this.layoutCalculated=!0,setTimeout(this.toggleFiltersHandler,10)},c.prototype.disable=function(){return this.setIsEnabled(!1),this},c.prototype.destroy=function(){this.disable();for(var a in this)this.hasOwnProperty(a)&&(this[a]=null);return this},c.prototype.toggleFilters=function(){return this.layoutCalculated?(this.$trigger.toggleClass(d.CLASSES.FILTER_OPEN),void this.$body.toggleClass(d.CLASSES.BODY_CLOSED)):void this.layout()},c.prototype.onTriggerClick=function(a){a.preventDefault(),this.toggleFilters()},c}(jQuery,PF["views/View"]);var PF=PF||{};PF["views/HelloBarView"]=function(a,b){"use strict";function c(){}c.prototype=new b,c.prototype.constructor=c,c.prototype._super=b.prototype;var d={SELECTORS:{TEMPLATE:"#js-helloBar",BAR:".js-helloBar-body",CLOSE:".js-helloBar-close",CTA:".js-helloBar-cta",COPY:".js-helloBar-copy",INSERTION_POINT:".js-helloBar-insertionPoint"},DATA:{URL:"/user/api/dya-details"},COOKIE:{NAME:"dya_popover_closed",EXPIRATION:30},ANIMATION_DELAY:1500,FADE_DELAY:200,FADE_DURATION:300,MARGIN:9};return c.prototype.init=function(){return this.$element=this.getEl(),this.createPreenableChildren().setupPreenableHandlers().getHelloBarData().then(this.onGetHelloBarDataSuccessHandler,this.onGetHelloBarDataFailedHandler),this},c.prototype.createPreenableChildren=function(){return this._super.createChildren.call(this),this.$template=this.$element.find(d.SELECTORS.TEMPLATE),this.$insertionPoint=this.$element.find(d.SELECTORS.INSERTION_POINT),this},c.prototype.setupPreenableHandlers=function(){return this.onGetHelloBarDataSuccessHandler=a.proxy(this.onGetHelloBarDataSuccess,this),this.onGetHelloBarDataFailedHandler=a.proxy(this.onGetHelloBarDataFailed,this),this},c.prototype.getHelloBarData=function(){return a.ajax({type:"GET",url:d.DATA.URL,dataType:"json",cache:!1})},c.prototype.onGetHelloBarDataSuccess=function(a){this.dyaData=a,this.preEnableCheck()},c.prototype.onGetHelloBarDataFailed=function(){this.destroy()},c.prototype.preEnableCheck=function(){return this.dyaData.active?(this.$element=this.getEl(),this.cookieData=this.getCookieData(),(this.dyaData.showHelloBar||this.cookieData.active)&&this.cookieData.showHelloBar?void this.buildTemplate().setupHandlers().createTemplatedChildren().populateContent().enable():(this.destroy(),!1)):(this.destroy(),!1)},c.prototype.setupHandlers=function(){return this.onCloseClickHandler=this.onCloseClick.bind(this),this.onBarClickHandler=this.onBarClick.bind(this),this.animateInHandler=this.animateIn.bind(this),this},c.prototype.buildTemplate=function(){var a=this.$template.html(),b=Handlebars.compile(a);return this.$insertionPoint.append(b(this.dyaData)),this},c.prototype.createTemplatedChildren=function(){return this.$bar=this.$element.find(d.SELECTORS.BAR),this.$close=this.$element.find(d.SELECTORS.CLOSE),this},c.prototype.populateContent=function(){return this},c.prototype.enable=function(){return this.getIsEnabled()!==!0?(this.setupListeners(),setTimeout(this.animateInHandler,d.ANIMATION_DELAY),this.setIsEnabled(!0),this):void 0},c.prototype.setupListeners=function(){this.$close.on("click",this.onCloseClickHandler),this.$bar.on("click",this.onBarClickHandler)},c.prototype.disable=function(){return this.setIsEnabled(!1),this},c.prototype.destroy=function(){this.disable();for(var a in this)this.hasOwnProperty(a)&&(this[a]=null);return this},c.prototype.setNewCookie=function(b){return a.cookie(d.COOKIE.NAME,JSON.stringify(b),{expires:d.COOKIE.EXPIRATION,path:"/"}),this},c.prototype.updateCookie=function(){return this.dyaData.showHelloBar?(this.cookieData.active=!1,this.cookieData.showHelloBar=!1):this.cookieData.active=!1,this.setNewCookie(this.cookieData),this},c.prototype.getCookieData=function(){var b={},c=a.cookie(d.COOKIE.NAME);return null!==c?b=JSON.parse(c):(b={active:!0,showHelloBar:!0},this.setNewCookie(b)),b},c.prototype.animateOut=function(){this.$insertionPoint.css("height",0).removeClass("isActive"),this.$bar.fadeOut(d.FADE_DURATION)},c.prototype.animateIn=function(){var a=this.$bar.outerHeight(!0)+d.MARGIN+"px";this.$insertionPoint.css("height",a).addClass("isActive"),this.$bar.delay(d.FADE_DELAY).fadeIn(d.FADE_DURATION)},c.prototype.onCloseClick=function(a){a.preventDefault(),a.stopPropagation(),this.updateCookie(),this.animateOut(),void 0!==window.purinaTrackEvent&&window.purinaTrackEvent("","adoption reward offer","close offer")},c.prototype.onBarClick=function(){void 0!==window.purinaTrackEvent&&window.purinaTrackEvent("","adoption reward offer","open offer"),
this.updateCookie()},c}(jQuery,PF["views/View"]);